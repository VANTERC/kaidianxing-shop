(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[74],{"2ecd":function(e,t,n){"use strict";n.r(t);var o=n("fcec"),r=n.n(o);for(var a in o)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(a);t["default"]=r.a},"36d2":function(e,t,n){"use strict";n("ed68")},"3d87":function(e,t,n){var o=n("4930");e.exports=o&&!!Symbol["for"]&&!!Symbol.keyFor},"428f":function(e,t,n){var o=n("da84");e.exports=o},"50b6":function(e,t,n){"use strict";n.r(t);var o=n("7d16"),r=n("2ecd");for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);n("36d2");var i=n("2877"),s=Object(i["a"])(r["default"],o["render"],o["staticRenderFns"],!1,null,"f4a461ee",null);t["default"]=s.exports},"57b9":function(e,t,n){var o=n("c65b"),r=n("d066"),a=n("b622"),i=n("cb2d");e.exports=function(){var e=r("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,s=a("toPrimitive");t&&!t[s]&&i(t,s,(function(e){return o(n,this)}),{arity:1})}},"5a47":function(e,t,n){var o=n("23e7"),r=n("4930"),a=n("d039"),i=n("7418"),s=n("7b0b"),l=!r||a((function(){i.f(1)}));o({target:"Object",stat:!0,forced:l},{getOwnPropertySymbols:function(e){var t=i.f;return t?t(s(e)):[]}})},"746f":function(e,t,n){var o=n("428f"),r=n("1a2d"),a=n("e538"),i=n("9bf2").f;e.exports=function(e){var t=o.Symbol||(o.Symbol={});r(t,e)||i(t,e,{value:a.f(e)})}},"7d16":function(e,t,n){"use strict";var o=n("85c5");n.o(o,"render")&&n.d(t,"render",(function(){return o["render"]})),n.o(o,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return o["staticRenderFns"]}))},81492:function(e,t,n){e.exports=n.p+"static/dist/shop/img/agreement.png"},"85c5":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0,n("b0c0"),n("a4d3"),n("e01a");var o=function(){var e=this,t=e._self._c;return t("kdx-content-bar",{scopedSlots:e._u([{key:"btn",fn:function(){return[t("Button",{staticClass:"handler-btn primary-long",attrs:{disabled:e.noManagePerm},on:{click:e.handleSave}},[e._v("保存")])]},proxy:!0}])},[t("div",{staticClass:"container"},[t("Form",{ref:"form",staticClass:"content",attrs:{model:e.model,rules:e.rules,"label-width":140},on:{"on-validate":e.onValidate}},[t("div",{staticClass:"content-box"},[t("kdx-form-title",[e._v("站点设置")]),t("FormItem",{attrs:{label:"商城状态：",prop:"mall_status"}},[t("RadioGroup",{model:{value:e.model.mall_status,callback:function(t){e.$set(e.model,"mall_status",t)},expression:"model.mall_status"}},[t("Radio",{attrs:{disabled:e.noManagePerm,label:"1"}},[t("span",[e._v("营业")])]),t("Radio",{attrs:{disabled:e.noManagePerm,label:"0"}},[t("span",[e._v("关闭")])])],1)],1),0==e.model.mall_status?t("FormItem",{attrs:{label:"商城关闭跳转链接："}},[t("Input",{staticStyle:{width:"500px"},attrs:{disabled:e.noManagePerm,placeholder:"请输入"},model:{value:e.model.mall_close_url,callback:function(t){e.$set(e.model,"mall_close_url",t)},expression:"model.mall_close_url"}},[t("span",{attrs:{slot:"prepend"},slot:"prepend"},[e._v("http://")])])],1):e._e(),t("FormItem",{directives:[{name:"error-item",rawName:"v-error-item.name",modifiers:{name:!0}}],attrs:{label:"商城名称：",prop:"name"}},[t("Input",{staticStyle:{width:"300px"},attrs:{disabled:e.noManagePerm,placeholder:"请输入",maxlength:"15","show-word-limit":""},model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}})],1),t("FormItem",{directives:[{name:"error-item",rawName:"v-error-item.description",modifiers:{description:!0}}],attrs:{label:"商城简介：",prop:"description"}},[t("Input",{staticStyle:{width:"500px"},attrs:{disabled:e.noManagePerm,type:"textarea",placeholder:"用于商城系统分享副标题"},model:{value:e.model.description,callback:function(t){e.$set(e.model,"description",t)},expression:"model.description"}})],1),t("FormItem",{directives:[{name:"error-item",rawName:"v-error-item.logo",modifiers:{logo:!0}}],attrs:{label:"商城LOGO：",prop:"logo"}},[t("kdx-image-video",{attrs:{type:"image",current:e.model.logo},on:{"on-change":function(t){return e.changeThumb(t,"logo")}}}),t("kdx-hint-text",[e._v("图片为长方形，建议尺寸200*100，用于商城首页分享的系统默认宣传图")])],1),t("FormItem",{attrs:{label:"登录页背景图：",prop:"login_show_img"}},[t("kdx-image-video",{attrs:{height:67,type:"image",current:e.model.login_show_img},on:{"on-change":function(t){return e.changeThumb(t,"login_show_img")}}}),t("kdx-hint-text",[e._v("登录页面背景图片，可进行自定义修改，建议尺寸1920*1080")])],1),t("FormItem",{attrs:{label:"售罄图标：",prop:"sale_out"}},[t("kdx-image-video",{attrs:{type:"image",current:e.model.sale_out},on:{"on-change":function(t){return e.changeThumb(t,"sale_out")}}}),t("div",{staticClass:"flex"},[t("kdx-hint-text",{attrs:{content:"建议尺寸比例为1:1，用于商品售罄后的提示图标"}}),t("kdx-hint-tooltip",{attrs:{type:"image",image:n("c23b3")}})],1)],1),t("FormItem",{attrs:{label:"加载图标：",prop:"loading"}},[t("kdx-image-video",{attrs:{type:"image",current:e.model.loading},on:{"on-change":function(t){return e.changeThumb(t,"loading")}}}),t("div",{staticClass:"flex"},[t("kdx-hint-text",{attrs:{content:"图片为正方形，建议尺寸200*200，用于网络较慢图片未加载出来时的占位图"}}),t("kdx-hint-tooltip",{attrs:{type:"image",image:n("ef0a")}})],1)],1),t("FormItem",{attrs:{label:"商城图片预览："}},[t("RadioGroup",{model:{value:e.model.photo_preview,callback:function(t){e.$set(e.model,"photo_preview",t)},expression:"model.photo_preview"}},[t("Radio",{attrs:{disabled:e.noManagePerm,label:"1"}},[t("span",[e._v("开启")])]),t("Radio",{attrs:{disabled:e.noManagePerm,label:"0"}},[t("span",[e._v("关闭")])])],1),t("div",{staticClass:"flex"},[t("kdx-hint-text",{attrs:{content:"如果开启此选项，则商品详情、轮播图的图片可以放大预览"}}),t("kdx-hint-tooltip",{attrs:{type:"image",image:n("87ac")}})],1)],1),t("FormItem",{attrs:{label:"网站备案号："}},[t("Input",{staticClass:"agree-input",attrs:{disabled:e.noManagePerm,placeholder:"请输入网站备案号"},model:{value:e.model.icp_code,callback:function(t){e.$set(e.model,"icp_code",t)},expression:"model.icp_code"}})],1)],1),t("div",{staticClass:"content-box"},[t("kdx-form-title",[e._v("协议信息")]),t("FormItem",{attrs:{label:"协议标题：",prop:"agreement_name"}},[t("Input",{staticClass:"agree-input",attrs:{disabled:e.noManagePerm,placeholder:"请输入协议标题",maxlength:"10","show-word-limit":""},on:{"on-blur":e.agreeInput},model:{value:e.model.agreement_name,callback:function(t){e.$set(e.model,"agreement_name",t)},expression:"model.agreement_name"}}),t("kdx-hint-tooltip",{attrs:{type:"image",image:n("81492")}})],1),t("FormItem",{attrs:{label:"协议内容：",prop:"agreement_content"}},[t("editor",{attrs:{height:667},on:{input:e.contentInput},model:{value:e.model.agreement_content,callback:function(t){e.$set(e.model,"agreement_content",t)},expression:"model.agreement_content"}})],1)],1)])],1)])};t.render=o;var r=[];t.staticRenderFns=r},"87ac":function(e,t,n){e.exports=n.p+"static/dist/shop/img/preview_img.png"},a4d3:function(e,t,n){n("d9f5"),n("b4f8"),n("c513"),n("e9c4"),n("5a47")},b4f8:function(e,t,n){var o=n("23e7"),r=n("d066"),a=n("1a2d"),i=n("577e"),s=n("5692"),l=n("3d87"),c=s("string-to-symbol-registry"),d=s("symbol-to-string-registry");o({target:"Symbol",stat:!0,forced:!l},{for:function(e){var t=i(e);if(a(c,t))return c[t];var n=r("Symbol")(t);return c[t]=n,d[n]=t,n}})},c23b3:function(e,t,n){e.exports=n.p+"static/dist/shop/img/sale_out.png"},c513:function(e,t,n){var o=n("23e7"),r=n("1a2d"),a=n("d9b5"),i=n("0d51"),s=n("5692"),l=n("3d87"),c=s("symbol-to-string-registry");o({target:"Symbol",stat:!0,forced:!l},{keyFor:function(e){if(!a(e))throw TypeError(i(e)+" is not a symbol");if(r(c,e))return c[e]}})},d9f5:function(e,t,n){"use strict";var o=n("23e7"),r=n("da84"),a=n("c65b"),i=n("e330"),s=n("c430"),l=n("83ab"),c=n("4930"),d=n("d039"),u=n("1a2d"),m=n("3a9b"),f=n("825a"),p=n("fc6a"),g=n("a04b"),h=n("577e"),b=n("5c6c"),v=n("7c73"),_=n("df75"),y=n("241c"),x=n("057f"),w=n("7418"),k=n("06cf"),S=n("9bf2"),I=n("37e8"),F=n("d1e7"),$=n("cb2d"),P=n("5692"),O=n("f772"),M=n("d012"),R=n("90e3"),C=n("b622"),E=n("e538"),j=n("746f"),T=n("57b9"),q=n("d44e"),N=n("69f3"),B=n("b727").forEach,D=O("hidden"),G="Symbol",A="prototype",L=N.set,J=N.getterFor(G),V=Object[A],H=r.Symbol,Q=H&&H[A],W=r.TypeError,z=r.QObject,K=k.f,U=S.f,X=x.f,Y=F.f,Z=i([].push),ee=P("symbols"),te=P("op-symbols"),ne=P("wks"),oe=!z||!z[A]||!z[A].findChild,re=l&&d((function(){return 7!=v(U({},"a",{get:function(){return U(this,"a",{value:7}).a}})).a}))?function(e,t,n){var o=K(V,t);o&&delete V[t],U(e,t,n),o&&e!==V&&U(V,t,o)}:U,ae=function(e,t){var n=ee[e]=v(Q);return L(n,{type:G,tag:e,description:t}),l||(n.description=t),n},ie=function(e,t,n){e===V&&ie(te,t,n),f(e);var o=g(t);return f(n),u(ee,o)?(n.enumerable?(u(e,D)&&e[D][o]&&(e[D][o]=!1),n=v(n,{enumerable:b(0,!1)})):(u(e,D)||U(e,D,b(1,{})),e[D][o]=!0),re(e,o,n)):U(e,o,n)},se=function(e,t){f(e);var n=p(t),o=_(n).concat(me(n));return B(o,(function(t){l&&!a(ce,n,t)||ie(e,t,n[t])})),e},le=function(e,t){return void 0===t?v(e):se(v(e),t)},ce=function(e){var t=g(e),n=a(Y,this,t);return!(this===V&&u(ee,t)&&!u(te,t))&&(!(n||!u(this,t)||!u(ee,t)||u(this,D)&&this[D][t])||n)},de=function(e,t){var n=p(e),o=g(t);if(n!==V||!u(ee,o)||u(te,o)){var r=K(n,o);return!r||!u(ee,o)||u(n,D)&&n[D][o]||(r.enumerable=!0),r}},ue=function(e){var t=X(p(e)),n=[];return B(t,(function(e){u(ee,e)||u(M,e)||Z(n,e)})),n},me=function(e){var t=e===V,n=X(t?te:p(e)),o=[];return B(n,(function(e){!u(ee,e)||t&&!u(V,e)||Z(o,ee[e])})),o};c||(H=function(){if(m(Q,this))throw W("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?h(arguments[0]):void 0,t=R(e),n=function(e){this===V&&a(n,te,e),u(this,D)&&u(this[D],t)&&(this[D][t]=!1),re(this,t,b(1,e))};return l&&oe&&re(V,t,{configurable:!0,set:n}),ae(t,e)},Q=H[A],$(Q,"toString",(function(){return J(this).tag})),$(H,"withoutSetter",(function(e){return ae(R(e),e)})),F.f=ce,S.f=ie,I.f=se,k.f=de,y.f=x.f=ue,w.f=me,E.f=function(e){return ae(C(e),e)},l&&(U(Q,"description",{configurable:!0,get:function(){return J(this).description}}),s||$(V,"propertyIsEnumerable",ce,{unsafe:!0}))),o({global:!0,constructor:!0,wrap:!0,forced:!c,sham:!c},{Symbol:H}),B(_(ne),(function(e){j(e)})),o({target:G,stat:!0,forced:!c},{useSetter:function(){oe=!0},useSimple:function(){oe=!1}}),o({target:"Object",stat:!0,forced:!c,sham:!l},{create:le,defineProperty:ie,defineProperties:se,getOwnPropertyDescriptor:de}),o({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:ue}),T(),q(H,G),M[D]=!0},e01a:function(e,t,n){"use strict";var o=n("23e7"),r=n("83ab"),a=n("da84"),i=n("e330"),s=n("1a2d"),l=n("1626"),c=n("3a9b"),d=n("577e"),u=n("9bf2").f,m=n("e893"),f=a.Symbol,p=f&&f.prototype;if(r&&l(f)&&(!("description"in p)||void 0!==f().description)){var g={},h=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:d(arguments[0]),t=c(p,this)?new f(e):void 0===e?f():f(e);return""===e&&(g[t]=!0),t};m(h,f),h.prototype=p,p.constructor=h;var b="Symbol(test)"==String(f("test")),v=i(p.toString),_=i(p.valueOf),y=/^Symbol\((.*)\)[^)]+$/,x=i("".replace),w=i("".slice);u(p,"description",{configurable:!0,get:function(){var e=_(this),t=v(e);if(s(g,e))return"";var n=b?w(t,7,-1):x(t,y,"$1");return""===n?void 0:n}}),o({global:!0,constructor:!0,forced:!0},{Symbol:h})}},e538:function(e,t,n){var o=n("b622");t.f=o},ed68:function(e,t,n){},ef0a:function(e,t,n){e.exports=n.p+"static/dist/shop/img/load_picture.png"},fcec:function(e,t,n){var o=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n("ade3")),a=o(n("15fd"));n("d9e2"),n("498a"),n("d3b7");var i=o(n("5530")),s=o(n("ceb0")),l=n("2f62"),c=["error","shop_info"],d={name:"index",components:{Editor:s.default},computed:(0,i.default)((0,i.default)({},(0,l.mapState)("account",{shopId:function(e){return e.shop.shopId}})),{},{noManagePerm:function(){return!this.$getPermMap("sysset.mall.basic.manage")},isRoot:function(){var e,t;return 1==(null===(e=this.$store.state.config)||void 0===e||null===(t=e.user)||void 0===t?void 0:t.is_root)}}),data:function(){return{model:{mall_status:"1",mall_close_url:"",name:"",logo:"",login_show_img:"",description:"",sale_out:"",loading:"",photo_preview:"1",agreement_name:"用户注册使用协议",agreement_content:"用户注册使用协议"},rules:{mall_status:[{required:!0,message:"请选择商城状态"}],name:[{required:!0,message:"请输入商城名称"}],logo:[{required:!0,message:"请上传商城LOGO",trigger:"change"}],login_show_img:[{required:!0,message:"请上传登录页展示图",trigger:"change"}],description:[{required:!0,message:"请输入商城简介"}]},submitLoading:!1,shop_info:{},passModel:{password:""},passRules:{password:[{required:!0,message:"请输入密码"}],checked:[{required:!0,validator:function(e,t,n){t?n():n(new Error("请先确认风险"))}}]}}},methods:{changeThumb:function(e,t){this.$set(this.model,t,e)},getData:function(){var e=this;this.$api.settingApi.getBaseSetting({}).then((function(t){var n=t.error,o=t.shop_info,r=(0,a.default)(t,c);0===n&&(e.model=(0,i.default)((0,i.default)({},e.model),r),e.shop_info=o||{},e.$store.commit("config/setBaseSetting",r))}))},agreeInput:function(){""===this.model.agreement_name.trim()&&(this.model.agreement_name="用户注册使用协议")},contentInput:function(){""===this.model.agreement_content.trim()&&(this.model.agreement_content="用户注册使用协议")},onValidate:function(e,t){this.cacheError=(0,i.default)((0,i.default)({},this.cacheError),{},(0,r.default)({},e,t))},validate:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};return new Promise((function(n){e.$refs["form"].validate((function(o){n(o),t(o),e.$nextTick((function(){if(!o)for(var t in e.cacheError)if(!e.cacheError[t]){e.$focusError(t);break}}))}))}))},handleSave:function(){var e=this;this.validate((function(t){t&&e.$api.settingApi.changeBaseSetting(e.model).then((function(t){0===t.error&&(e.$Message.success("操作成功"),e.getData())}))}))},okHandler:function(){var e=this;this.$refs.passForm.validate((function(t){t&&e.$api.settingApi.deleleShop({password:e.passModel.password}).then((function(t){0==t.error&&e.getData()}))}))},reNewBtn:function(){this.$utils.openNewWindowPage("/create/renew",{shop_id:this.shopId})}},mounted:function(){this.getData()}};t.default=d}}]);