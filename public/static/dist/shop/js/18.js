(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[18],{"0b7d":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=[{value:"[订单类]",label:"订单类",children:[{value:"[订单信息]",label:"订单信息",children:[{value:"[商城名称]",label:"商城名称"},{value:"[商品名称]",label:"商品名称"},{value:"[会员昵称]",label:"会员昵称"},{value:"[订单编号]",label:"订单编号"},{value:"[支付金额]",label:"支付金额"},{value:"[运费]",label:"运费"},{value:"[商品详情]",label:"商品详情"},{value:"[快递公司]",label:"快递公司"},{value:"[快递单号]",label:"快递单号"},{value:"[买家姓名]",label:"买家姓名"},{value:"[买家电话]",label:"买家电话"},{value:"[收货地址]",label:"收货地址"},{value:"[下单时间]",label:"下单时间"},{value:"[支付时间]",label:"支付时间"},{value:"[发货时间]",label:"发货时间"},{value:"[收货时间]",label:"收货时间"},{value:"[积分变动]",label:"积分变动"},{value:"[积分余额]",label:"积分余额"},{value:"[订单状态]",label:"订单状态"},{value:"[买家备注]",label:"买家备注"}]},{label:"售后相关",value:"[售后相关]",children:[{value:"[订单编号]",label:"订单编号"},{value:"[售后类型]",label:"售后类型"},{value:"[申请时间]",label:"申请时间"},{value:"[退款金额]",label:"退款金额"},{value:"[退货地址]",label:"退货地址"},{value:"[换货快递公司]",label:"换货快递公司"},{value:"[换货快递单号]",label:"换货快递单号"},{value:"[退款状态]",label:"退款状态"}]}]},{value:"[账户变动类]",label:"账户变动类",children:[{value:"[变动账户]",label:"变动账户",children:[{value:"[变动账户]",label:"变动账户"}]},{value:"[变动时间]",label:"变动时间",children:[{value:"[充值时间]",label:"充值时间"},{value:"[退款时间]",label:"退款时间"},{value:"[提现时间]",label:"提现时间"}]},{value:"[变动金额]",label:"变动金额",children:[{value:"[充值金额]",label:"充值金额"},{value:"[退款金额]",label:"退款金额"},{value:"[提现金额]",label:"提现金额"}]},{value:"[账户余额]",label:"账户余额",children:[{value:"[账户余额]",label:"账户余额"},{value:"[账户积分]",label:"账户积分"}]},{value:"[优惠券类型]",label:"优惠券类型",children:[{value:"[优惠券类型]",label:"优惠券类型"}]},{value:"[发放状态]",label:"发放状态",children:[{value:"[发放状态]",label:"发放状态"}]},{value:"[发放时间]",label:"发放时间",children:[{value:"[发放时间]",label:"发放时间"}]}]},{value:"[注册登录类]",label:"注册登录类",children:[{value:"[验证码]",label:"验证码",children:[{value:"[验证码]",label:"验证码"}]}]},{value:"[分销类]",label:"分销类",children:[{value:"[分销身份变更]",label:"分销身份变更",children:[{value:"[商城名称]",label:"商城名称"},{value:"[用户昵称]",label:"用户昵称"},{value:"[手机号]",label:"手机号"},{value:"[变动时间]",label:"变动时间"},{value:"[下级昵称]",label:"下级昵称"},{value:"[下级等级]",label:"下级等级"},{value:"[旧等级]",label:"旧等级"},{value:"[新等级]",label:"新等级"}]},{value:"[分销订单]",label:"分销订单",children:[{value:"[订单编号]",label:"订单编号"},{value:"[订单金额]",label:"订单金额"},{value:"[佣金金额]",label:"佣金金额"},{value:"[商品名称]",label:"商品名称"},{value:"[付款时间]",label:"付款时间"},{value:"[下级层级]",label:"下级层级"}]},{value:"[佣金与提现]",label:"佣金与提现",children:[{value:"[提现时间]",label:"提现时间"},{value:"[提现金额]",label:"提现金额"},{value:"[审核结果]",label:"审核结果"}]}]},{value:"[表单类]",label:"表单类",children:[{value:"[用户昵称]",children:[{value:"[用户昵称]",label:"用户昵称"},{value:"[操作时间]",label:"操作时间"},{value:"[表单名称]",label:"表单名称"},{value:"[应用页面]",label:"应用页面"},{value:"[数据ID]",label:"数据ID"}]}]}],i=a;t.default=i},"13d7":function(e,t,a){"use strict";a.r(t);var i=a("2df6"),s=a.n(i);for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);t["default"]=s.a},1749:function(e,t,a){},1873:function(e,t,a){var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(a("5530")),l=i(a("b85c")),n=i(a("2909"));a("a9e3"),a("ac1f"),a("841c"),a("4de4"),a("d3b7"),a("159b");var o={name:"VipSelector",props:{current:{type:[String,Object],default:function(){}},currentList:{type:Array,default:function(){return[]}},multiple:{type:Boolean,default:!1},restParams:{type:Object,default:function(){}},passId:{type:[String,Number]},source:{type:String},type:{type:String,default:"vip"}},data:function(){var e=this;this.$createElement;return{value:!1,search:{keyword:"",level_id:"all",group_id:"all"},columns:[{title:"会员",key:"shop",minWidth:200,render:function(t,a){var i={10:t("kdx-svg-icon",{attrs:{type:"icon-H"},class:"platform-icon"}),20:t("kdx-svg-icon",{attrs:{type:"icon-weixin"},class:"platform-icon"}),21:t("kdx-svg-icon",{attrs:{type:"icon-weixinxiaochengxu"},class:"platform-icon"}),30:t("kdx-svg-icon",{attrs:{type:"icon-qudao-toutiao2"},class:"platform-icon"}),31:t("kdx-svg-icon",{attrs:{type:"icon-douyin"},class:"platform-icon"}),32:t("kdx-svg-icon",{attrs:{type:"icon-qudao-toutiaojisuban"},class:"platform-icon"})},s=i[a.row.source];return t("div",{class:"vip-info"},[t("div",{class:"user-image"},[t("img",{attrs:{src:e.$media(a.row.avatar),alt:""},on:{error:function(t){e.replaceImage(t,"avatar")}}})]),t("div",{class:"vip-content"},[t("p",{class:"vip-name line-hide"},[a.row.nickname]),t("div",{class:"vip-platform"},[s])])])}},{title:"会员等级",key:"level_name",minWidth:100,render:function(e,t){return e("div",[t.row.level_name?t.row.level_name:"普通会员"])}},{title:"标签组",key:"group_name",minWidth:100,render:function(e,t){return e("div",[t.row.group_name?t.row.group_name:"-"])}},{title:"注册时间",key:"created_at",width:180},{title:"操作",key:"action",width:80,render:function(t,a){return t("div",{class:"action"},[t("Button",{class:"default-primary",style:{display:a.row.checked?"none":"block"},attrs:{disabled:e.disabledBtn(a.row)&&e.passId!==a.row.id},on:{click:function(){e.setChecked(a.index,!0)}}},["选择"]),t("Button",{attrs:{type:"primary"},style:{display:a.row.checked?"block":"none"},on:{click:function(){e.setChecked(a.index,!1)}}},["已选"])])}}],data:[],levels:[],groups:[],total:0,page:{pageSize:10,pageNumber:1},selectRow:{},loading:!1}},methods:{setValue:function(){this.value=!this.value,this.value&&(this.multiple?this.selectRows=(0,n.default)(this.currentList):this.selectRow=this.current,this.resetSearch(),this.resetPage(),this.getList())},handleSearch:function(){this.resetPage(),this.getList()},resetSearch:function(){this.search={keyword:"",level_id:"all",group_id:"all"}},resetPage:function(){var e;this.page={pageSize:10,pageNumber:1},null===(e=this.$refs["page"])||void 0===e||e.reset()},setChecked:function(e,t){var a=this;this.multiple?(this.$set(this.data[e],"checked",t),0===this.selectRows.length||t?this.selectRows.push(this.data[e]):this.selectRows=this.selectRows.filter((function(t){return t.id!==a.data[e].id}))):(this.data.forEach((function(e,t){a.$set(a.data[t],"checked",!1)})),this.$set(this.data[e],"checked",t),this.selectRow=t?this.data[e]:{},this.$emit("on-change",this.selectRow))},defaultChecked:function(){var e=this;this.multiple?this.data.forEach((function(t,a){var i,s=(0,l.default)(e.selectRows);try{for(s.s();!(i=s.n()).done;){var n=i.value;if(n.id===t.id){e.$set(e.data[a],"checked",!0);break}}}catch(o){s.e(o)}finally{s.f()}})):this.data.forEach((function(t,a){e.current&&t.id===e.selectRow.id?e.$set(e.data[a],"checked",!0):e.$set(e.data[a],"checked",!1)}))},handlePageChange:function(e){this.page=e,this.getList();try{this.$refs.scrollBox.scrollTop=0}catch(t){console.log(t)}},handleOk:function(){this.multiple?this.$emit("on-change",this.selectRows):this.$emit("on-change",this.selectRow),this.setValue()},handleCancel:function(){this.setValue()},getList:function(){var e=this;this.loading=!0;var t={};this.source&&(t.source=this.source);var a=(0,s.default)((0,s.default)({},this.search),{},{level_id:"all"===this.search.level_id?"":this.search.level_id,group_id:"all"===this.search.group_id?"":this.search.group_id}),i=Object.assign({pagesize:this.page.pageSize,page:this.page.pageNumber},a,this.restParams,t);this.$api.memberApi["vip"===this.type?"memberList":"videoMemberList"](i).then((function(t){0===t.error&&(e.data=t.list,e.total=t.total,t.groups.unshift({id:"all",group_name:"全部"}),t.levels.unshift({id:"all",level_name:"全部"}),e.groups=t.groups,e.levels=t.levels,e.defaultChecked(),e.loading=!1)}))},disabledBtn:function(e){return 1==e.is_use_verify}}};t.default=o},2099:function(e,t,a){var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("96cf");var s=i(a("1da1"));a("ac1f"),a("5319"),a("e9c4"),a("1276"),a("fb6a"),a("4de4"),a("d3b7");var l=i(a("7203")),n={name:"customTemplate",components:{selectTemplateCode:l.default},props:{value:{type:Object,default:function(){}}},data:function(){return{loading:!1,customData:{template_id:"",content:[]},initContent:[],resultContent:[],show:!1,index:"",template_list:[]}},watch:{value:{handler:function(e){e&&this.getData(e)},immediate:!0}},computed:{},created:function(){this.getTemplateList()},mounted:function(){},methods:{getData:function(e){this.customData=e,this.chooseTemplate()},getTemplateList:function(){var e=this;this.loading=!0,this.$api.noticeApi.getWexinTemplate({}).then((function(t){0==t.error&&(e.template_list=t.template_list),e.loading=!1}))},chooseTemplate:function(){var e=this;this.$api.noticeApi.getWexinTemplateDetail({template_id:this.customData.template_id}).then((function(t){if(0==t.error){var a=JSON.stringify(t.content).replace(/\\n/g,","),i=a.slice(1,-1).split(",");i=i.filter((function(e){return e})),i[0]="模板格式："+i[0],i[i.length-1]="尾部描述："+i[i.length-1];for(var s=[],l=0;l<i.length;l++){var n,o,c;s.push({key:i[l].split("：")[0],value:i[l].split("：")[1],customValue:null!==(n=null===(o=e.customData)||void 0===o||null===(c=o.content[l])||void 0===c?void 0:c.customValue)&&void 0!==n?n:""})}e.customData.content=s}}))},chooseCode:function(e){this.customData.content[this.index].customValue+=e},handleFocus:function(e){this.show=!0,this.index=e},validateForm:function(){var e=this;return new Promise((function(t,a){e.$refs["customForm"].validate(function(){var i=(0,s.default)(regeneratorRuntime.mark((function i(s){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(!s){i.next=12;break}return i.prev=1,i.next=4,e.handleData();case 4:t({template_id:e.customData.template_id,content:e.resultContent}),i.next=10;break;case 7:i.prev=7,i.t0=i["catch"](1),a("public");case 10:i.next=13;break;case 12:a("public");case 13:case"end":return i.stop()}}),i,null,[[1,7]])})));return function(e){return i.apply(this,arguments)}}())}))},handleData:function(){this.resultContent=[];for(var e=0;e<this.customData.content.length;e++)this.resultContent.push({key:this.customData.content[e].value.slice(2,-7),value:this.customData.content[e].customValue})},routeWeixinTemplate:function(){this.$utils.openNewWindowPage("/notice/wxappTemplate/list")}}};t.default=n},"22ea":function(e,t,a){e.exports=a.p+"static/dist/shop/img/sms_bg.png"},"267b":function(e,t,a){var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(a("5530"));a("d81d");var l=i(a("a59d")),n=i(a("86c1")),o=i(a("b938")),c=i(a("579b")),r=i(a("dfef")),u={name:"index",components:{wechatTemplate:l.default,wxappTemplate:n.default,smsTemplate:o.default,subscribeTemplate:r.default},props:{is_showNoticeMember:{type:Boolean,default:!1}},data:function(){return{loading:!1,submitLoading:!1,icon:"",items:[],tempTitle:"",tabPoint:"",type_code:"",wechatData:{status:0,is_default:1,commission_level:"1",member_id:[]},wxappData:{status:0,is_default:1},smsData:{status:0,template_id:"",commission_level:"1",member_id:[]},subscribeData:{status:0,is_default:1}}},computed:{sendTime:function(){return c.default[this.type_code].sendTime},isShow_level:function(){return"commission_buyer_agent_add_child"==this.type_code||"commission_buyer_child_pay"==this.type_code||"commission_buyer_agent_add_child_line"==this.type_code}},created:function(){},mounted:function(){this.type_code=this.$route.query.type_code,this.tempTitle=c.default[this.type_code].title,this.icon=c.default[this.type_code].icon,this.items=this.$route.query.items,this.tabPoint=Array.isArray(this.items)?this.items[0]:this.items,this.getData()},methods:{getData:function(){var e=this;this.loading=!0,"wechat"==this.tabPoint?this.$api.noticeApi.getWechatNotice({type_code:this.type_code}).then((function(t){if(e.loading=!1,0==t.error){if(delete t.error,0==t.is_default){var a,i=[];null===(a=t.template)||void 0===a||a.content.map((function(e){i.push({key:e.key,customValue:e.value})})),t.template.content=i}e.wechatData=t,null!==t&&void 0!==t&&t.member&&(e.wechatData.member_id=t.member.map((function(e){return e.id})))}})):"wxapp"==this.tabPoint?this.$api.noticeApi.getWxappNotice({type_code:this.type_code}).then((function(t){e.loading=!1,0==t.error&&(delete t.error,e.wxappData=(0,s.default)((0,s.default)({},t),{},{is_default:1}))})):"sms"==this.tabPoint?this.$api.noticeApi.getSmsNotice({type_code:this.type_code}).then((function(t){e.loading=!1,0==t.error&&(delete t.error,e.smsData=t,null!==t&&void 0!==t&&t.member&&(e.smsData.member_id=t.member.map((function(e){return e.id}))))})):"subscribe"==this.tabPoint&&this.$api.noticeApi.getSubscribeNotice({type_code:this.type_code}).then((function(t){e.loading=!1,0==t.error&&(delete t.error,e.subscribeData=(0,s.default)((0,s.default)({},t),{},{is_default:1}))}))},changeTab:function(e){this.tabPoint=e,this.getData()},handleSave:function(){this.submitLoading=!0,"wechat"==this.tabPoint?this.wechatSave():"wxapp"==this.tabPoint?this.wxappSave():"sms"==this.tabPoint?this.smsSave():"subscribe"==this.tabPoint&&this.subscribeSave()},wechatSave:function(){var e=this,t={type_code:this.type_code,status:this.wechatData.status,is_default:this.wechatData.is_default,commission_level:this.wechatData.commission_level};this.is_showNoticeMember&&(t.member_id=this.wechatData.member_id),0==t.is_default&&this.$refs.wechatTemplate.$refs.customTemplate.validateForm().then((function(e){t.content=e.content,t.template_id=e.template_id})),this.$api.noticeApi.addWechatNotice(t).then((function(t){0==t.error&&(e.$Message.success("保存成功"),e.getData()),e.submitLoading=!1}))},wxappSave:function(){var e=this,t=(0,s.default)({type_code:this.type_code},this.wxappData);this.$api.noticeApi.addWxappNotice(t).then((function(t){0==t.error&&(e.$Message.success("保存成功"),e.getData()),e.submitLoading=!1}))},smsSave:function(){var e=this,t=(0,s.default)({type_code:this.type_code},this.smsData);if(this.is_showNoticeMember&&(t.member_id=this.smsData.member_id),!t.hasOwnProperty("template_id")||"undefined"==typeof t.template_id.length||t.template_id+""==="0")return this.$Message.error("选择模板"),void(this.submitLoading=!1);this.$api.noticeApi.addSmsNotice(t).then((function(t){0==t.error&&(e.$Message.success("保存成功"),e.getData()),e.submitLoading=!1}))},subscribeSave:function(){var e=this,t=(0,s.default)({type_code:this.type_code},this.subscribeData);this.$api.noticeApi.addSubscribeNotice(t).then((function(t){0==t.error&&(e.$Message.success("保存成功"),e.getData()),e.submitLoading=!1}))},handleBack:function(){this.$router.go(-1)}}};t.default=u},"2af6":function(e,t,a){"use strict";a.r(t);var i=a("af5e"),s=a.n(i);for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);t["default"]=s.a},"2df6":function(e,t,a){var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(a("87b7")),l={name:"subscribeTemplate",components:{defaultTemplate:s.default},props:{value:{type:Object,default:function(){}},sendTime:{type:String,default:""},type_code:{type:String,default:""},isShow_level:{type:Boolean,default:!1}},data:function(){return{model:{status:0,is_default:1},rules:{}}},watch:{model:{handler:function(e){this.$emit("input",e)},deep:!0},value:{handler:function(e){this.model=e},deep:!0,immediate:!0}},computed:{},created:function(){},mounted:function(){},methods:{}};t.default=l},"2f31":function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sms-template"},[a("kdx-form-title",[e._v("发送设置")]),a("Form",{ref:"form",attrs:{model:e.model,rules:e.rules,"label-width":120}},[a("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"发送设置："}},[a("RadioGroup",{model:{value:e.model.status,callback:function(t){e.$set(e.model,"status",t)},expression:"model.status"}},[a("Radio",{attrs:{label:1}},[e._v("开启")]),a("Radio",{attrs:{label:0}},[e._v("关闭")])],1)],1),a("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"发送时间："}},[a("span",[e._v(e._s(e.sendTime))])]),e.isShow_level?a("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"通知等级："}},[a("RadioGroup",{model:{value:e.model.commission_level,callback:function(t){e.$set(e.model,"commission_level",t)},expression:"model.commission_level"}},[a("Radio",{attrs:{label:"1"}},[e._v("一级")]),a("Radio",{attrs:{label:"2"}},[e._v("一级+二级")])],1),a("kdx-hint-text",[e._v("开启内购后，一级佣金获得者是自身时，自身不发送此消息，只给二佣金获得者发送消息提示")])],1):e._e(),e.is_showNoticeMember?a("FormItem",{attrs:{label:"通知人员："}},[a("Button",{staticClass:"default-primary",on:{click:e.selectVip}},[e._v("+添加")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.vipList.length>0,expression:"vipList.length > 0"}],staticClass:"vip-table"},[a("Table",{attrs:{columns:e.columns,data:e.vipList,size:"small"},scopedSlots:e._u([{key:"nickname",fn:function(t){var i=t.row;return[a("div",{staticClass:"vip-info"},[a("img",{attrs:{src:i.avatar,alt:""},on:{error:function(t){return e.replaceImage(t,"avatar")}}}),a("p",{staticClass:"name"},[a("span",{staticStyle:{"margin-bottom":"4px"}},[e._v(e._s(i.nickname))]),new Set(["10","20","21"]).has(i.source)?a("i",{staticClass:"iconfont",class:{"icon-H":"10"===i.source,"icon-weixin":"20"===i.source,"icon-weixinxiaochengxu":"21"===i.source}}):"30"===i.source?a("kdx-svg-icon",{staticClass:"iconfont",attrs:{type:"icon-qudao-toutiao2"}}):"32"===i.source?a("kdx-svg-icon",{staticClass:"iconfont",attrs:{type:"icon-qudao-toutiaojisuban"}}):"31"===i.source?a("kdx-svg-icon",{staticClass:"iconfont",attrs:{type:"icon-douyin"}}):e._e()],1)])]}}],null,!1,3754729810)})],1)],1):e._e(),a("FormItem",{attrs:{label:"模板设置："}},[a("Select",{staticClass:"width-430",model:{value:e.model.template_id,callback:function(t){e.$set(e.model,"template_id",t)},expression:"model.template_id"}},e._l(e.template_list,(function(t){return a("Option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.name))])})),1),a("default-template",{attrs:{type:"sms"}})],1)],1),a("vip-selector",{ref:"VipSelector",attrs:{currentList:e.vipList,multiple:""},on:{"on-change":e.getVipList}})],1)},s=[]},3220:function(e,t,a){e.exports=a.p+"static/dist/shop/img/bg.png"},3675:function(e,t,a){},"3bf3":function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("kdx-modal-frame",{attrs:{title:"会员选择器",width:850},on:{"on-ok":e.handleOk,"on-cancel":e.handleCancel},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[a("div",{staticClass:"vip-selector"},[a("div",{ref:"scrollBox",staticClass:"vip-selector-content"},[a("div",{staticClass:"search"},[a("Form",{ref:"form",attrs:{model:e.search,"label-width":100,inline:""},nativeOn:{submit:function(e){e.preventDefault()}}},[a("FormItem",{staticClass:"search-content"},[a("Input",{staticClass:"width-250",attrs:{search:"","enter-button":"搜索",placeholder:"请输入"},on:{"on-search":e.handleSearch},model:{value:e.search.keyword,callback:function(t){e.$set(e.search,"keyword",t)},expression:"search.keyword"}})],1),a("FormItem",{attrs:{label:"用户等级："}},[a("Select",{staticClass:"width-160",attrs:{placeholder:"请选择"},on:{"on-change":e.handleSearch},model:{value:e.search.level_id,callback:function(t){e.$set(e.search,"level_id",t)},expression:"search.level_id"}},e._l(e.levels,(function(t){return a("Option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.level_name))])})),1)],1),a("FormItem",{attrs:{label:"标签组："}},[a("Select",{staticClass:"width-160",attrs:{placeholder:"请选择"},on:{"on-change":e.handleSearch},model:{value:e.search.group_id,callback:function(t){e.$set(e.search,"group_id",t)},expression:"search.group_id"}},e._l(e.groups,(function(t){return a("Option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.group_name))])})),1)],1)],1)],1),a("Table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",attrs:{columns:e.columns,data:e.data}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.total>10,expression:"total > 10"}],staticClass:"footer-page"},[a("kdx-page-component",{ref:"page",attrs:{total:e.total},on:{"on-change":e.handlePageChange}})],1)])])},s=[]},"3ede":function(e,t,a){"use strict";a.r(t);var i=a("b2f9"),s=a.n(i);for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);t["default"]=s.a},"4f3b":function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wechat-template"},[a("div",{staticClass:"tip"},[a("kdx-hint-alert",{attrs:{"show-icon":!1}},[a("div",[e._v(" 请将公众平台模板消息所在行业选择为： "),a("span",{staticClass:"warning-color"},[e._v("IT科技/互联网|电子商务 其他|其他")]),e._v("，所选行业不一致将会导致模板消息不可用 ")]),a("div",[e._v(" 微信公众平台模板消息最多支持可添加25条 "),a("Button",{attrs:{type:"text",to:"/notice/wxappTemplate/list",target:"_blank"}},[e._v("查看详情")])],1)])],1),a("kdx-form-title",[e._v("发送设置")]),a("Form",{ref:"form",attrs:{model:e.model,rules:e.rules,"label-width":120}},[a("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"发送设置："}},[a("RadioGroup",{model:{value:e.model.status,callback:function(t){e.$set(e.model,"status",t)},expression:"model.status"}},[a("Radio",{attrs:{label:1}},[e._v("开启")]),a("Radio",{attrs:{label:0}},[e._v("关闭")])],1)],1),a("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"发送时间："}},[a("span",[e._v(e._s(e.sendTime))])]),e.isShow_level?a("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"通知等级："}},[a("RadioGroup",{model:{value:e.model.commission_level,callback:function(t){e.$set(e.model,"commission_level",t)},expression:"model.commission_level"}},[a("Radio",{attrs:{label:"1"}},[e._v("一级")]),a("Radio",{attrs:{label:"2"}},[e._v("一级+二级")])],1),"commission_buyer_child_pay"===e.type_code?a("kdx-hint-text",[e._v("开启内购后，一级佣金获得者是自身时，自身不发送此消息，只给二佣金获得者发送消息提示")]):e._e()],1):e._e(),e.is_showNoticeMember?a("FormItem",{attrs:{label:"通知人员："}},[a("Button",{staticClass:"default-primary",on:{click:e.selectVip}},[e._v("+添加")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.vipList.length>0,expression:"vipList.length > 0"}],staticClass:"vip-table"},[a("Table",{attrs:{columns:e.columns,data:e.vipList,size:"small"},scopedSlots:e._u([{key:"nickname",fn:function(t){var i=t.row;return[a("div",{staticClass:"vip-info"},[a("img",{attrs:{src:i.avatar,alt:""},on:{error:function(t){return e.replaceImage(t,"avatar")}}}),a("p",{staticClass:"name"},[a("span",{staticStyle:{"margin-bottom":"4px"}},[e._v(e._s(i.nickname))]),new Set(["10","20","21"]).has(i.source)?a("i",{staticClass:"iconfont",class:{"icon-H":"10"===i.source,"icon-weixin":"20"===i.source,"icon-weixinxiaochengxu":"21"===i.source}}):"30"===i.source?a("kdx-svg-icon",{staticClass:"iconfont",attrs:{type:"icon-qudao-toutiao2"}}):"32"===i.source?a("kdx-svg-icon",{staticClass:"iconfont",attrs:{type:"icon-qudao-toutiaojisuban"}}):"31"===i.source?a("kdx-svg-icon",{staticClass:"iconfont",attrs:{type:"icon-douyin"}}):e._e()],1)])]}}],null,!1,3754729810)})],1)],1):e._e(),a("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"模板设置："}},[a("RadioGroup",{model:{value:e.model.is_default,callback:function(t){e.$set(e.model,"is_default",t)},expression:"model.is_default"}},[a("Radio",{attrs:{label:1}},[e._v("系统默认")]),a("Radio",{attrs:{label:0}},[e._v("自定义模板")])],1),1==e.model.is_default?a("default-template",{attrs:{type:"wechat"}}):e._e(),0==e.model.is_default?a("custom-template",{ref:"customTemplate",model:{value:e.model.template,callback:function(t){e.$set(e.model,"template",t)},expression:"model.template"}}):e._e()],1)],1),a("vip-selector",{ref:"VipSelector",attrs:{currentList:e.vipList,multiple:""},on:{"on-change":e.getVipList}})],1)},s=[]},5216:function(e,t,a){"use strict";a.r(t);var i=a("2099"),s=a.n(i);for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);t["default"]=s.a},"55dc":function(e,t,a){"use strict";a("1749")},"595d":function(e,t,a){e.exports=a.p+"static/dist/shop/img/wxapp_bg.png"},"5ffc":function(e,t,a){"use strict";a("3675")},"606b9":function(e,t,a){"use strict";a.r(t);var i=a("8c1f"),s=a("5216");for(var l in s)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(l);a("5ffc");var n=a("2877"),o=Object(n["a"])(s["default"],i["a"],i["b"],!1,null,null,null);t["default"]=o.exports},"623b":function(e,t,a){},"642f":function(e,t,a){"use strict";a.r(t);var i=a("7d1d"),s=a.n(i);for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);t["default"]=s.a},6505:function(e,t,a){"use strict";a.r(t);var i=a("c9b3"),s=a.n(i);for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);t["default"]=s.a},"6aad":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAApBAMAAACiruYyAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAJcEhZcwAAITgAACE4AUWWMWAAAAAqUExURUdwTOrq7Onp6+rq7Onp6+fn6urq6+fn6Orq6+Li6ejo6+np6+rq6+np61t7ix8AAAANdFJOUwDmvJ+AQMchzxBZcI+vWo65AAAA20lEQVQoz2XSwQrCMAwA0CrKdGMgKIiI4A8IglcFL55EEDz7D/uBgT8giP/g0aN3f0BwboIo+Re7Lk3bNMdH0yRNhagiEjxqd09yLnWYepJ7wg9JKTyBpSMtKV+3upQs4QJ9W+JSPrakpYA9yl7J25KrkuxkZKMExkYmwNOOwNLagEGTNLUMtERafvbo4LQda4Gt06B99YJE9zgi6VQQEsCTlSJJjRz4xbi1wAAktBqMgveHDQamm6FgSS/c4YMAx2xwoCM9/cZnPLDSbxWqQt2b2d1uNl9f7G/yBxXH9/V7/2X3AAAAAElFTkSuQmCC"},7203:function(e,t,a){"use strict";a.r(t);var i=a("c747"),s=a("2af6");for(var l in s)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(l);a("a94a");var n=a("2877"),o=Object(n["a"])(s["default"],i["a"],i["b"],!1,null,"0cbdd65f",null);t["default"]=o.exports},7412:function(e,t,a){},"7a41":function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wxapp-template"},[a("div",{staticClass:"tip"},[a("kdx-hint-alert",{attrs:{"show-icon":!1}},[a("div",[e._v(" 请到微信小程序管理后台服务类目中添加 【商家自营】-【服装/鞋/箱包】 ")])])],1),a("kdx-form-title",[e._v("发送设置")]),a("Form",{ref:"form",attrs:{model:e.model,rules:e.rules,"label-width":120}},[a("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"发送设置："}},[a("RadioGroup",{model:{value:e.model.status,callback:function(t){e.$set(e.model,"status",t)},expression:"model.status"}},[a("Radio",{attrs:{label:1}},[e._v("开启")]),a("Radio",{attrs:{label:0}},[e._v("关闭")])],1)],1),a("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"发送时间："}},[a("span",[e._v(e._s(e.sendTime))])]),a("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"模板设置："}},[a("RadioGroup",{model:{value:e.model.is_default,callback:function(t){e.$set(e.model,"is_default",t)},expression:"model.is_default"}},[a("Radio",{attrs:{label:1}},[e._v("系统默认")])],1),a("default-template",{attrs:{type:"wxapp"}})],1)],1)],1)},s=[]},"7b57":function(e,t,a){"use strict";a("ff0d")},"7d1d":function(e,t,a){var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(a("579b")),l={name:"defaultTemplate",components:{},props:{type:{type:String,default:"wechat"}},data:function(){return{type_template:"wechat",templateCode:s.default,type_code:""}},watch:{},computed:{},created:function(){},mounted:function(){this.type_template=this.type,this.type_code=this.$route.query.type_code},methods:{}};t.default=l},"7efb":function(e,t,a){"use strict";a("ccbe")},"86c1":function(e,t,a){"use strict";a.r(t);var i=a("7a41"),s=a("3ede");for(var l in s)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(l);a("e4e2");var n=a("2877"),o=Object(n["a"])(s["default"],i["a"],i["b"],!1,null,null,null);t["default"]=o.exports},"87b7":function(e,t,a){"use strict";a.r(t);var i=a("c9e4"),s=a("642f");for(var l in s)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(l);a("55dc");var n=a("2877"),o=Object(n["a"])(s["default"],i["a"],i["b"],!1,null,null,null);t["default"]=o.exports},"8c1f":function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"},{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"custom-template flex"},[a("Form",{ref:"customForm",attrs:{model:e.customData,"label-width":120}},[a("FormItem",{attrs:{label:"选择模板："}},[a("Select",{staticClass:"width-430",on:{"on-change":e.chooseTemplate},model:{value:e.customData.template_id,callback:function(t){e.$set(e.customData,"template_id",t)},expression:"customData.template_id"}},e._l(e.template_list,(function(t){return a("Option",{key:t.template_id,attrs:{value:t.template_id}},[e._v(" "+e._s(t.title)+" ")])})),1),a("Button",{staticClass:"marginR-10 marginL-10",attrs:{type:"text"},on:{click:e.getTemplateList}},[e._v("刷新")]),a("Button",{attrs:{type:"text"},on:{click:e.routeWeixinTemplate}},[e._v("创建微信模板")])],1),e.customData.content.length>0?a("FormItem",{attrs:{label:"默认内容："}},[a("div",{staticClass:"default-content"},e._l(e.customData.content,(function(t,i){return a("FormItem",{key:i,staticClass:"default-content-item",attrs:{label:t.key+"："}},[a("span",[e._v(e._s(t.value))])])})),1)]):e._e(),e.customData.content.length>0?a("FormItem",{attrs:{label:"自定义内容："}},[a("div",{staticClass:"default-content"},e._l(e.customData.content,(function(t,i){return a("FormItem",{key:i,staticClass:"default-content-item",attrs:{label:t.key+"：",prop:"content."+i+".customValue",rules:{required:!0,message:"请填写模板"}}},[a("Input",{staticClass:"width-250",attrs:{placeholder:"请输入"},on:{"on-focus":function(t){return e.handleFocus(i)}},model:{value:t.customValue,callback:function(a){e.$set(t,"customValue",a)},expression:"item.customValue"}})],1)})),1)]):e._e()],1),e.show?a("div",{staticClass:"right-code"},[a("span",{staticClass:"arrow"}),a("selectTemplateCode",{on:{chooseCode:e.chooseCode}})],1):e._e()],1)},s=[]},9537:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"subscribe-template"},[a("div",{staticClass:"tip"},[a("kdx-hint-alert",{attrs:{"show-icon":!1}},[a("div",[e._v(" 请将公众平台订阅通知所在行业选择为："),a("span",{staticClass:"warning-color"},[e._v("【商家自营】-【服饰内衣】")]),e._v("，所选行业不一致将会导致模板消息不可用 "),a("br"),e._v(" 微信公众平台订阅通知最多支持可添加50个模板 ")])])],1),a("kdx-form-title",[e._v("发送设置")]),a("Form",{ref:"form",attrs:{model:e.model,rules:e.rules,"label-width":120}},[a("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"发送设置："}},[a("RadioGroup",{model:{value:e.model.status,callback:function(t){e.$set(e.model,"status",t)},expression:"model.status"}},[a("Radio",{attrs:{label:1}},[e._v("开启")]),a("Radio",{attrs:{label:0}},[e._v("关闭")])],1)],1),a("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"发送时间："}},[a("span",[e._v(e._s(e.sendTime))])]),e.isShow_level?a("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"通知等级："}},[a("RadioGroup",{model:{value:e.model.commission_level,callback:function(t){e.$set(e.model,"commission_level",t)},expression:"model.commission_level"}},[a("Radio",{attrs:{label:"1"}},[e._v("一级")]),a("Radio",{attrs:{label:"2"}},[e._v("一级+二级")])],1),"commission_buyer_child_pay"===e.type_code?a("kdx-hint-text",[e._v("开启内购后，一级佣金获得者是自身时，自身不发送此消息，只给二、三级佣金获得者发送消息提示")]):e._e()],1):e._e(),a("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"模板设置："}},[a("RadioGroup",{model:{value:e.model.is_default,callback:function(t){e.$set(e.model,"is_default",t)},expression:"model.is_default"}},[a("Radio",{attrs:{label:1}},[e._v("系统默认")])],1),a("default-template",{attrs:{type:"subscribe"}})],1)],1)],1)},s=[]},9794:function(e,t,a){"use strict";a.r(t);var i=a("b9e9"),s=a("de46");for(var l in s)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(l);a("9f65");var n=a("2877"),o=Object(n["a"])(s["default"],i["a"],i["b"],!1,null,null,null);t["default"]=o.exports},"9b7b":function(e,t,a){},"9f65":function(e,t,a){"use strict";a("623b")},a59d:function(e,t,a){"use strict";a.r(t);var i=a("4f3b"),s=a("6505");for(var l in s)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(l);a("7b57");var n=a("2877"),o=Object(n["a"])(s["default"],i["a"],i["b"],!1,null,null,null);t["default"]=o.exports},a8bf:function(e,t,a){"use strict";a.r(t);var i=a("3bf3"),s=a("f064");for(var l in s)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(l);a("7efb");var n=a("2877"),o=Object(n["a"])(s["default"],i["a"],i["b"],!1,null,"9862936c",null);t["default"]=o.exports},a94a:function(e,t,a){"use strict";a("9b7b")},af5e:function(e,t,a){var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("4de4"),a("d3b7");var s=i(a("0b7d")),l={name:"selectTemplateCode",components:{},props:{},data:function(){return{code:"",list:[],selectList:[]}},computed:{},created:function(){this.list=s.default},mounted:function(){},methods:{change:function(e){var t=this.list.filter((function(t){return t.label==e}));this.selectList=t[0].children},chooseCode:function(e){this.$emit("chooseCode",e)}}};t.default=l},b2f9:function(e,t,a){var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(a("87b7")),l={name:"wxappTemplate",components:{defaultTemplate:s.default},props:{value:{type:Object,default:function(){}},sendTime:{type:String,default:""},type_code:{type:String,default:""}},data:function(){return{model:{status:0,is_default:1},rules:{}}},watch:{model:{handler:function(e){this.$emit("input",e)},deep:!0},value:{handler:function(e){this.model=e},deep:!0,immediate:!0}},computed:{},created:function(){},mounted:function(){},methods:{}};t.default=l},b6efa:function(e,t,a){},b938:function(e,t,a){"use strict";a.r(t);var i=a("2f31"),s=a("e039");for(var l in s)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(l);a("fe8e");var n=a("2877"),o=Object(n["a"])(s["default"],i["a"],i["b"],!1,null,null,null);t["default"]=o.exports},b9e9:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("kdx-content-bar",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],scopedSlots:e._u([{key:"btn",fn:function(){return[i("Button",{staticClass:"primary-long",attrs:{loading:e.submitLoading},on:{click:e.handleSave}},[e._v("保存")]),i("Button",{staticClass:"default-long",on:{click:e.handleBack}},[e._v("返回列表")])]},proxy:!0}])},[i("div",{staticClass:"notice-title"},[i("img",{attrs:{src:a("3220"),alt:""}}),i("div",{staticClass:"notice-title-content flex"},[i("i",{staticClass:"iconfont",class:e.icon}),i("span",[e._v(e._s(e.tempTitle))])])]),e.type_code?i("div",{staticClass:"notice-buyer-edit"},[i("Tabs",{attrs:{animated:!1},on:{"on-click":e.changeTab},model:{value:e.tabPoint,callback:function(t){e.tabPoint=t},expression:"tabPoint"}},[e.items.includes("wechat")?i("TabPane",{attrs:{label:"微信公众号模板消息",name:"wechat"}},[i("div",{staticStyle:{"padding-left":"40px"}},[i("wechat-template",{ref:"wechatTemplate",attrs:{sendTime:e.sendTime,is_showNoticeMember:e.is_showNoticeMember,isShow_level:e.isShow_level,type_code:e.type_code},model:{value:e.wechatData,callback:function(t){e.wechatData=t},expression:"wechatData"}})],1)]):e._e(),e.items.includes("wxapp")?i("TabPane",{attrs:{label:"微信小程序订阅消息",name:"wxapp"}},[i("div",{staticStyle:{"padding-left":"40px"}},[i("wxapp-template",{attrs:{type_code:e.type_code,sendTime:e.sendTime},model:{value:e.wxappData,callback:function(t){e.wxappData=t},expression:"wxappData"}})],1)]):e._e(),e.items.includes("sms")?i("TabPane",{attrs:{label:"短信通知",name:"sms"}},[i("div",{staticStyle:{"padding-left":"40px"}},[i("sms-template",{attrs:{type_code:e.type_code,sendTime:e.sendTime,is_showNoticeMember:e.is_showNoticeMember,isShow_level:e.isShow_level},model:{value:e.smsData,callback:function(t){e.smsData=t},expression:"smsData"}})],1)]):e._e(),e.items.includes("subscribe")?i("TabPane",{attrs:{label:"微信公众号订阅通知",name:"subscribe"}},[i("div",{staticStyle:{"padding-left":"40px"}},[i("subscribe-template",{attrs:{type_code:e.type_code,isShow_level:e.isShow_level,sendTime:e.sendTime},model:{value:e.subscribeData,callback:function(t){e.subscribeData=t},expression:"subscribeData"}})],1)]):e._e()],1)],1):e._e()])},s=[]},ba70:function(e,t,a){},c747:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"template-code"},[a("div",{staticClass:"title"},[e._v("变量选择")]),a("div",{staticClass:"template-code-content"},[a("div",{staticClass:"text-info"},[a("kdx-hint-alert",{attrs:{"show-icon":!1}},[a("div",{staticClass:"text-info-tip"},[e._v("点击变量后会自动插入选择的文本框的焦点位置，在发送给粉丝时系统会自动替换对应变量值")]),a("div",{staticClass:"text-info-tip rr-brand-color"},[e._v("注意：以上模板消息变量只适用于系统类通知，会员群发工具不适用")])])],1),a("div",{staticClass:"select flex"},[a("div",{staticClass:"label"},[e._v("变量类别：")]),a("Select",{attrs:{placeholder:"选择模板变量类型"},on:{"on-change":e.change},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}},e._l(e.list,(function(t){return a("Option",{key:t.type,attrs:{value:t.label}},[e._v(e._s(t.label))])})),1)],1),e.selectList.length>0?a("div",{staticClass:"select-list"},e._l(e.selectList,(function(t,i){return a("div",{key:i,staticClass:"select-list-child"},[t.value?a("div",{staticClass:"select-list-title"},[e._v(e._s(t.label))]):e._e(),a("div",{staticClass:"label-content flex"},e._l(t.children,(function(t,i){return a("div",{key:i,staticClass:"label-item pointer",on:{click:function(a){return e.chooseCode(t.value)}}},[a("div",{staticClass:"label"},[e._v(e._s(t.label))])])})),0)])})),0):e._e()])])},s=[]},c9b3:function(e,t,a){var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("d3b7"),a("d81d"),a("a434");var s=i(a("a8bf")),l=i(a("87b7")),n=i(a("606b9")),o={name:"wechatTemplate",components:{VipSelector:s.default,defaultTemplate:l.default,customTemplate:n.default},props:{value:{type:Object,default:function(){}},sendTime:{type:String,default:""},is_showNoticeMember:{type:Boolean,default:!1},isShow_level:{type:Boolean,default:!1},type_code:{type:String,default:""}},data:function(){var e=this;this.$createElement;return{model:{status:0,is_default:1,commission_level:"1",member_id:[],is_send_message:"0",message_num:0,is_send_line:"0",line_num:0},messageList:["10","20","50","100","200","500"],lineList:["1","5","10","20","50"],vipList:[],columns:[{title:"会员",slot:"nickname"},{key:"option",title:"操作",width:120,align:"center",render:function(t,a){return t("p",{class:"option",style:"text-align:center;"},[t("span",{style:"color: $brand-color;font-size: 14px;cursor:pointer;",on:{click:function(){e.delete(a.index)}}},["删除"])])}}],rules:{trigger:[{validator:this.validateTrigger,trigger:"change"}]}}},watch:{model:{handler:function(e){this.$emit("input",e)},deep:!0},value:{handler:function(e){var t;this.model=e,this.model.is_send_messages=e.is_send_message,this.model.is_send_line=e.is_send_line,this.vipList=null!==(t=null===e||void 0===e?void 0:e.member)&&void 0!==t?t:[]},deep:!0,immediate:!0}},computed:{},created:function(){},mounted:function(){},methods:{validateTrigger:function(e,t,a){var i=!1;this.model.is_send_message||this.model.is_send_line?!this.model.is_send_message&&this.model.is_send_line?this.model.line_num||(i=!0):this.model.is_send_message&&!this.model.is_send_line&&(this.model.message_num||(i=!0)):i=!0,this.model.is_send_message&&this.model.is_send_line&&(this.model.message_num||this.model.line_num||(i=!0)),i?a("触发条件必选"):a()},validate:function(){var e=this;return new Promise((function(t){e.$refs["form"].validate((function(e){t(e)}))}))},getVipList:function(e){this.vipList=e.map((function(e){return{id:e.id,source:e.source,avatar:e.avatar,nickname:e.nickname}})),this.model.member_id=this.vipList.map((function(e){return e.id})),this.$emit("input",this.model)},delete:function(e){this.vipList.splice(e,1),this.model.member_id=this.vipList.map((function(e){return e.id})),this.$emit("input",this.model)},selectVip:function(){this.$refs.VipSelector.setValue()}}};t.default=o},c9e4:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"default-template"},["wechat"==e.type_template&&e.templateCode[e.type_code]&&e.templateCode[e.type_code].wechat?i("div",{staticClass:"default-template-content wechat"},[i("img",{staticClass:"bg-img",attrs:{src:a("595d"),alt:""}}),i("div",{staticClass:"line"}),i("div",{staticClass:"wechat-notice"},[i("div",{staticClass:"content"},[i("div",{staticClass:"template-title"},[e._v(e._s(e.templateCode[e.type_code].wechat.title))]),i("div",{staticClass:"template-html"},e._l(e.templateCode[e.type_code].wechat.info,(function(t,a){return i("div",{key:a,staticClass:"flex"},[i("div",{staticClass:"label"},[e._v(e._s(t.key)+"：")]),i("div",[e._v(e._s(t.title))])])})),0)])])]):e._e(),"sms"==e.type_template&&e.templateCode[e.type_code]&&e.templateCode[e.type_code].sms?i("div",{staticClass:"default-template-content wxapp"},[i("img",{staticClass:"bg-img",attrs:{src:a("22ea"),alt:""}}),i("div",{staticClass:"sms-notice"},[i("img",{staticClass:"sms-icon-img",attrs:{src:a("6aad"),alt:""}}),i("div",{staticClass:"message-content"},[e._v(e._s(e.templateCode[e.type_code].sms.title))])])]):e._e(),"wxapp"==e.type_template&&e.templateCode[e.type_code]&&e.templateCode[e.type_code].wxapp?i("div",{staticClass:"default-template-content wxapp"},[i("img",{staticClass:"bg-img",attrs:{src:a("595d"),alt:""}}),i("div",{staticClass:"line"}),i("div",{staticClass:"wxapp-notice"},[e._m(0),i("div",{staticClass:"content"},[i("div",{staticClass:"template-title"},[e._v(e._s(e.templateCode[e.type_code].wxapp.title))]),i("div",{staticClass:"template-html"},e._l(e.templateCode[e.type_code].wxapp.info,(function(t,a){return i("div",{key:a,staticClass:"flex"},[i("div",{staticClass:"label"},[e._v(e._s(t.key))]),i("div",[e._v(e._s(t.title))])])})),0)]),i("div",{staticClass:"template-link"},[e._v("拒收通知")])])]):e._e(),"subscribe"==e.type_template&&e.templateCode[e.type_code]&&e.templateCode[e.type_code].subscribe?i("div",{staticClass:"default-template-content wxapp"},[i("img",{staticClass:"bg-img",attrs:{src:a("595d"),alt:""}}),i("div",{staticClass:"line"}),i("div",{staticClass:"wxapp-notice"},[i("div",{staticClass:"title flex"},[i("div",{staticClass:"logo flex"},[i("div",{staticClass:"logo-icon"},[e._v("商城")]),"credit_sign_notice"==e.type_code?i("div",[e._v("商城名称")]):i("div",[e._v("商城")])]),e._m(1)]),i("div",{staticClass:"content"},[i("div",{staticClass:"template-title"},[e._v(e._s(e.templateCode[e.type_code].subscribe.title))]),i("div",{staticClass:"template-html",class:"credit_sign_notice"==e.type_code?"template-html-creditSign":""},e._l(e.templateCode[e.type_code].subscribe.info,(function(t,a){return i("div",{key:a,staticClass:"flex"},[i("div",{staticClass:"label"},[e._v(e._s(t.key))]),i("div",[e._v(e._s(t.title))])])})),0)]),e._m(2)])]):e._e()])},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title flex"},[a("div",{staticClass:"logo flex"},[a("div",{staticClass:"logo-icon"},[e._v("商城")]),a("div",[e._v("商城")])]),a("div",{staticClass:"dot"},[a("span"),a("span"),a("span")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dot"},[a("span"),a("span"),a("span")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"template-link"},[e._v("查看详情 "),a("i",{staticClass:"iconfont icon-line-right",staticStyle:{float:"right"}})])}]},ccbe:function(e,t,a){},de46:function(e,t,a){"use strict";a.r(t);var i=a("267b"),s=a.n(i);for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);t["default"]=s.a},dfef:function(e,t,a){"use strict";a.r(t);var i=a("9537"),s=a("13d7");for(var l in s)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(l);a("e37e");var n=a("2877"),o=Object(n["a"])(s["default"],i["a"],i["b"],!1,null,"370a8620",null);t["default"]=o.exports},e039:function(e,t,a){"use strict";a.r(t);var i=a("f40a"),s=a.n(i);for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);t["default"]=s.a},e37e:function(e,t,a){"use strict";a("ba70")},e4e2:function(e,t,a){"use strict";a("b6efa")},f064:function(e,t,a){"use strict";a.r(t);var i=a("1873"),s=a.n(i);for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);t["default"]=s.a},f40a:function(e,t,a){var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("d81d"),a("a434");var s=i(a("87b7")),l=i(a("a8bf")),n={name:"smsTemplate",components:{defaultTemplate:s.default,VipSelector:l.default},props:{value:{type:Object,default:function(){}},sendTime:{type:String,default:""},type_code:{type:String,default:""},is_showNoticeMember:{type:Boolean,default:!1},isShow_level:{type:Boolean,default:!1}},data:function(){var e=this;this.$createElement;return{model:{status:0,template_id:"",commission_level:"1",member_id:[]},template_list:[],vipList:[],rules:{},columns:[{title:"会员",slot:"nickname"},{key:"option",title:"操作",width:120,align:"center",render:function(t,a){return t("p",{class:"option",style:"text-align:center;"},[t("span",{style:"color: $brand-color;font-size: 14px;cursor:pointer;",on:{click:function(){e.delete(a.index)}}},["删除"])])}}]}},watch:{model:{handler:function(e){this.$emit("input",e)},deep:!0},value:{handler:function(e){var t;this.model=e,this.vipList=null!==(t=null===e||void 0===e?void 0:e.member)&&void 0!==t?t:[]}}},computed:{},created:function(){},mounted:function(){this.getList()},methods:{getList:function(){var e=this;this.$api.noticeApi.getSmsList({scene_code:this.type_code,pager:0}).then((function(t){0==t.error&&(e.template_list=t.list)}))},getVipList:function(e){this.vipList=e.map((function(e){return{id:e.id,source:e.source,avatar:e.avatar,nickname:e.nickname}})),this.model.member_id=this.vipList.map((function(e){return e.id})),this.$emit("input",this.model)},delete:function(e){this.vipList.splice(e,1),this.model.member_id=this.vipList.map((function(e){return e.id})),this.$emit("input",this.model)},selectVip:function(){this.$refs.VipSelector.setValue()}}};t.default=n},fe8e:function(e,t,a){"use strict";a("7412")},ff0d:function(e,t,a){}}]);