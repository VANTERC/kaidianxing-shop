(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[44],{"01ff":function(t,e,i){},"045e":function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("d3b7");var a={props:{list:{type:Object,default:function(){return{}}},goods:{type:Object,default:function(){return{}}},status:{type:String,default:""}},data:function(){return{remark:"",is_refund_front:"1"}},methods:{hasRefundSuc:function(t){return t.every((function(t){return 10==t.refund_status||11==t.refund_status}))},sendGoods:function(t){this.$emit("sendGoods",t)},editReceiveInfo:function(t){this.$emit("editReceiveInfo",t)},generalRefund:function(t){this.$emit("generalRefund",t)},cancelSendGoods:function(t){this.$emit("cancelSendGoods",t)},editExpress:function(t){this.$emit("editExpress",t)},confirmPayment:function(t){var e=this;this.$Modal.confirm({title:"提示",content:"确认此单已付款吗？",okText:"确认付款",onOk:function(){var i={order_id:t.id};e.$api.orderApi.setPayment(i).then((function(t){0===t.error&&(e.$Message.success("确认付款操作成功"),e.$emit("handleRefresh"))}))},onCancel:function(){}})},changePrice:function(t){this.$emit("changePrice",t)},closeOrder:function(t){var e=this,i=this.$createElement;this.$Modal.confirm({title:"是否关闭订单",okText:"确认关闭",onOk:function(){var i={id:t.id,remark:e.remark};e.$api.orderApi.closeOrder(i).then((function(t){0===t.error&&(e.$Message.success("订单关闭成功"),e.$emit("handleRefresh"))}))},onCancel:function(){},render:function(){return i("div",[i("p",{style:"padding-bottom:15px"},["请填写关闭订单原因"]),i("Input",{attrs:{type:"textarea",autofocus:!0,maxlength:"40","show-word-limit":!0,placeholder:"请填写关闭订单原因"},model:{value:e.remark,callback:function(t){e.remark=t}}})])}})},confirmTakeGoods:function(t){var e=this;this.$Modal.confirm({title:"提示",content:"确认此单已收到货了吗？",okText:"确认收货",onOk:function(){e.$api.orderApi.setFinishOrder({order_id:t.id}).then((function(t){0===t.error&&(e.$Message.success("订单确认收货成功"),e.$emit("handleRefresh"))}))},onCancel:function(){}})},packageExpress:function(t){this.$emit("packageExpress",t)}}};e.default=a},"06c4b":function(t,e,i){"use strict";i("b1e7")},"16a0":function(t,e,i){},2279:function(t,e,i){},"2bcc":function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("4de4"),i("d3b7"),i("b680");var a={props:{list:{type:Object,default:function(){return{}}},goods:{type:Object,default:function(){return{}}}},computed:{priceList:function(){var t,e,i,a,n,r,s,o,d,l,c,u,f=[{title:"商品小计：",price:this.calculatePrice,show:!0},{title:"运费：",price:"￥".concat(null===(t=this.list)||void 0===t?void 0:t.dispatch_price),show:"0"===this.goods.type},{title:"改价：",price:this.formatPrice(null===(e=this.list)||void 0===e?void 0:e.change_price),show:this.list.change_price&&"0"!=parseFloat(this.list.change_price)},{title:"会员折扣：",price:"-"+this.formatPrice(null===(i=this.list)||void 0===i||null===(a=i.extra_price_package)||void 0===a?void 0:a.member_price),show:this.list.extra_price_package&&this.list.extra_price_package.member_price},{title:"积分抵扣：",price:"-"+this.formatPrice(null===(n=this.list)||void 0===n||null===(r=n.extra_price_package)||void 0===r?void 0:r.credit),show:this.list.extra_price_package&&this.list.extra_price_package.credit},{title:"余额抵扣：",price:"-"+this.formatPrice(null===(s=this.list)||void 0===s||null===(o=s.extra_price_package)||void 0===o?void 0:o.balance),show:this.list.extra_price_package&&this.list.extra_price_package.balance},{title:"满额立减：",price:"-"+this.formatPrice(null===(d=this.list)||void 0===d||null===(l=d.extra_price_package)||void 0===l?void 0:l.full_deduct),show:this.list.extra_price_package&&this.list.extra_price_package.full_deduct},{title:"优惠券：",price:"-"+this.formatPrice(null===(c=this.list)||void 0===c||null===(u=c.extra_price_package)||void 0===u?void 0:u.coupon),show:this.list.extra_price_package&&this.list.extra_price_package.coupon}];return f=f.filter((function(t){return t.show})),f},calculatePrice:function(){return"￥".concat(this.list.goods_price)}},methods:{isInvoiceInfo:function(t){var e,i=null===t||void 0===t||null===(e=t.invoice_info)||void 0===e?void 0:e.is_company;return i&&("1"==i||"2"==i)},formatPrice:function(t){return parseFloat(t)>=0?"￥".concat(parseFloat(t).toFixed(2)):"-￥".concat(Math.abs(parseFloat(t)).toFixed(2))}}};e.default=a},"2f91":function(t,e,i){var a=i("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("a9e3"),i("d3b7"),i("159b"),i("d81d"),i("e9c4");var n=a(i("1f14")),r=a(i("f0d4")),s=a(i("eb94")),o=a(i("c5e4")),d=a(i("91d9")),l=a(i("d63e")),c=a(i("a467")),u=a(i("b091")),f=a(i("b195")),p=a(i("985f")),h=a(i("d91d")),m=a(i("b0b4")),_=a(i("6835")),v=a(i("6788")),g={name:"OrderList",components:{SendGoods:n.default,CancelSendGoods:r.default,EditExpress:s.default,ChangePrice:o.default,CloseOrder:d.default,PackageExpress:l.default,EditReceivingGoods:c.default,RefundModal:u.default,OrderListItemHead:f.default,TableTd1:p.default,TableTd3:h.default,TableTd5:m.default,TableTd7:_.default,OrderComment:v.default},props:{data:{type:Array,default:function(){return[]}},total:{type:Number,default:0},loading:{type:Boolean,default:!1},pageSize:{type:Number,default:10},current:{type:Number,default:1},status:{type:[Number,String]},checkWidth:{type:[Number,String]}},data:function(){return{columns:[{title:"商品",key:"shop",width:350},{title:"单价/数量",key:"price",width:100},{title:"维权状态",key:"status",width:100},{title:"买家",key:"buyer",width:100},{title:"实付款",key:"payment",width:100},{title:"支付/配送",key:"delivery",width:100},{title:"操作",key:"action",width:100}],cloneColumns:[],totalWidth:0,tableWidth:0,page:{total:10},modal:{cancelSendGoodsModal:0,editExpress:0,changePrice:0,closeOrder:0,packageExpress:0,title:"",id:"",packageId:"",dispatch_type:""},commisionInfo:{}}},methods:{handleResize:function(){var t,e=this;this.tableWidth=(null===(t=this.$refs["order_table"])||void 0===t?void 0:t.offsetWidth)-40-1;var i=this.columns.length,a=Math.floor((this.tableWidth-this.totalWidth)/i);this.columns.forEach((function(t,n){var r=(e.cloneColumns[n].width||0)+a;if(n===i-1){var s=e.getUpdateTotalWidth();r=e.tableWidth-s+100||0}e.$set(e.columns[n],"width",r)}))},getCloneColumns:function(){this.cloneColumns=this.columns.map((function(t){return JSON.parse(JSON.stringify(t))}))},getTotalWidth:function(){var t=this;this.totalWidth=0,this.cloneColumns.forEach((function(e){t.totalWidth+=e.width||0}))},getUpdateTotalWidth:function(){var t=0;return this.columns.forEach((function(e){t+=e.width||0})),t},handlePageChange:function(t){this.$emit("on-page-change",t)},sendGoods:function(t){var e=this;this.modal.id=t.id,this.modal.dispatch_type=t.dispatch_type,this.$nextTick((function(){var t;console.log('this.$refs["send_goods"]',e.$refs["send_goods"]),null===(t=e.$refs["send_goods"])||void 0===t||t.setValue()}))},cancelSendGoods:function(t){var e=this;this.modal.id=t.id,this.$nextTick((function(){e.$refs["cancel_send_goods"].setValue()}))},editReceiveInfo:function(t){var e=this;this.modal.id=t.id,this.modal.dispatch_type=t.dispatch_type,this.$nextTick((function(){e.$refs["edit_receiving_goods"].setValue()}))},generalRefund:function(t){var e=this;this.modal.id=t.id,this.$nextTick((function(){e.$refs["refund_modal"].setValue()}))},editExpress:function(t){var e=this;this.modal.id=t.id,"11"===this.data.status?this.modal.packageId=t.package_id:this.modal.packageId="",this.$nextTick((function(){e.$refs["edit_express"].setValue()}))},changePrice:function(t){var e=this;this.modal.id=t.id,this.$nextTick((function(){e.$refs["change_price"].setValue()}))},packageExpress:function(t){var e=this;this.modal.id=t.id,this.modal.packageId=t.order_goods[0].package_id,this.$nextTick((function(){e.$refs["package_express"].setValue()}))},reset:function(t){var e;null===(e=this.$refs["page"])||void 0===e||e.reset(t)},handleRefresh:function(){this.$emit("on-refresh")},cellStatus:function(t,e){var i=t.is_refund,a=t.refund_type;return"0"===i||"1"===a?0===e:"2"===a||void 0},editCommision:function(t){var e=t.id,i=t.member_id,a=t.order_no;this.$emit("on-edit",{id:e,member_id:i,order_no:a})}},filters:{getRefundText:function(t){return"1"===t?"退款":"2"===t?"退货退款":"3"===t?"退货":"未维权"}},beforeDestroy:function(){window.onresize=null},mounted:function(){var t=this;this.getCloneColumns(),this.getTotalWidth(),setTimeout((function(){t.handleResize()}),500),window.addEventListener("resize",(function(){setTimeout((function(){t.handleResize()}),200)}))}};e.default=g},"323e":function(t,e,i){"use strict";i.r(e);var a=i("eed1b"),n=i("84ba");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);i("c330");var s=i("2877"),o=Object(s["a"])(n["default"],a["a"],a["b"],!1,null,"6c9ae142",null);e["default"]=o.exports},"32c8":function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("td",{attrs:{rowspan:t.list.order_goods.length}},[i("kdx-hint-tooltip",{attrs:{"max-width":310,type:"form"},scopedSlots:t._u([{key:"header",fn:function(){return[i("div",{staticClass:"shop-payment payment"},[i("div",{staticClass:"shop-payment-price"},[i("span",[t._v(" ￥"+t._s(t.list.pay_price)+" ")]),t.isInvoiceInfo(t.list)?i("span",{staticClass:"label"},[t._v(" 票 ")]):t._e(),"0"===t.goods.type?i("p",[t._v(" (含运费：￥"+t._s(t.list.dispatch_price)+") ")]):t._e()])])]},proxy:!0}])},[i("Form",{attrs:{"label-width":72}},[t._l(t.priceList,(function(e,a){return i("FormItem",{key:a,attrs:{label:e.title}},[i("span",[t._v(t._s(e.price))])])})),i("FormItem",{attrs:{label:"实付款："}},[i("span",{staticClass:"danger-color"},[t._v("￥"+t._s(t.list.pay_price))])])],2)],1)],1)},n=[]},"39e6":function(t,e,i){"use strict";i.r(e);var a=i("52f1"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"3b02":function(t,e,i){var a=i("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.Export=void 0;var n=a(i("5530")),r=i("d8cc"),s=a(i("4328")),o=i("384d"),d=a(i("1cc8")),l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(console.log(t,"---------downloadPath"),t){var i="";if(-1===t.indexOf(r.config.base_url)){var a={baseURL:r.config.base_url,url:t};(0,d.default)(a),i=a.baseURL+a.url}else i=t;i=i.indexOf("?")>-1?i:i+"?",e=(0,n.default)((0,n.default)({},e),(0,o.getUserInfo)()),i+="&".concat(s.default.stringify(e)),window.open(i)}};e.Export=l},"3ca8":function(t,e,i){"use strict";i.r(e);var a=i("c057"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"3cb9":function(t,e,i){"use strict";i.r(e);var a=i("59fc"),n=i("39e6");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("2877"),o=Object(s["a"])(n["default"],a["a"],a["b"],!1,null,null,null);e["default"]=o.exports},"3ea3":function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{goods:{type:Object,default:function(){return{}}}},computed:{getType:function(){var t;switch(this.goods.type){case"0":t={goodsName:"real",goodsText:"实"};break;case"1":t={goodsName:"virtual",goodsText:"虚"};break;case"2":t={goodsName:"secret",goodsText:"密"};break}return t}}};e.default=i},"4c24":function(t,e,i){"use strict";i.r(e);var a=i("9943"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"52f1":function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("99af"),i("a434");var a={name:"SearchHeader",props:{status:String},data:function(){return{model:{keywords:"",search_field:"order_no",pay_type:"all",time:"",create_from:"all",refund_type:"0",refund_status:"",dispatch_type:"all",type:"all"},optionData:{search_field:[{key:"order_no",name:"订单编号"},{key:"member_keywords",name:"会员信息"},{key:"member_id",name:"会员ID"},{key:"buyer_keywords",name:"收件人信息"},{key:"address_keywords",name:"地址信息"},{key:"goods_title",name:"商品名称"},{key:"goods_sku",name:"商品编号"}],pay_type:[{id:"all",name:"全部"},{id:"0",name:"未支付"},{id:"1",name:"后台支付"},{id:"2",name:"余额支付"},{id:"3",name:"货到付款"},{id:"20",name:"微信支付"},{id:"30",name:"支付宝支付"},{id:"40",name:"字节跳动支付"}],create_from:[{id:"all",name:"全部"},{id:"20",name:"微信公众号"},{id:"21",name:"微信小程序"},{id:"10",name:"H5"},{id:"31",name:"抖音小程序"},{id:"30",name:"头条小程序"},{id:"32",name:"头条极速版小程序"}],refund_type:[{id:"0",name:"全部"},{id:"1",name:"仅退款"},{id:"2",name:"退货退款"},{id:"3",name:"换货"},{id:"4",name:"退款（含退款退货）"}],refund_status:[{id:"all",name:"全部"},{id:"0",name:"未维权"},{id:"1",name:"维权中"},{id:"2",name:"维权完成"}],dispatchTypeList:[{id:"all",name:"全部"},{id:"10",name:"普通快递"}],order_status:[{id:"all",name:"全部"},{id:"wait_send",name:"待发货"},{id:"wait_pay",name:"待付款"},{id:"wait_pick",name:"待收货"},{id:"success",name:"已完成"},{id:"close",name:"已关闭"}],activity_type:[],goodsType:[]}}},computed:{managePerm:function(){return this.$getPermMap("order.refund.manage")},deliveryList:function(){return this.optionData.dispatchTypeList}},methods:{changeType:function(t){void 0!==t&&(this.model.activity_type=t)},handleSearch:function(){var t=Object.assign({},this.model);t.refund_status="all"===t.refund_status?"":t.refund_status,t.activity_type="all"===t.activity_type?"":t.activity_type,t.status="all"===t.status?"":t.status,t.pay_type="all"===t.pay_type?"":t.pay_type,t.create_from="all"===t.create_from?"":t.create_from,t.dispatch_type="all"===t.dispatch_type?"":t.dispatch_type,"refund"!==this.status&&delete t.refund_type,this.$emit("on-search",t)},handleReset:function(){this.$emit("on-search",{}),this.reset()},handleExport:function(){this.$emit("on-export")},changeDate:function(t){this.model.time=t,t[0]||(this.model.time="")},reset:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={keywords:"",search_field:"order_no",pay_type:"all",time:"",create_from:"all",refund_type:"0",activity_type:"all",status:"all",refund_status:"all",dispatch_type:"all",type:"all"};this.model=Object.assign(e,t)},getOrderType:function(){var t=this;this.$api.orderApi.getOrderType({}).then((function(e){0===e.error&&(t.optionData.activity_type=e.activity_type)}))},getVerylify:function(){var t=this;this.$api.orderApi.getDeliveryList().then((function(e){0===e.error&&(t.optionData.dispatchTypeList=[{id:"all",name:"全部"}].concat(e.dispatch_type))}))},getGoodsType:function(){var t=this;this.$api.orderApi.getGoodsType().then((function(e){0===e.error&&(t.optionData.goodsType=[{key:"all",value:"全部"}].concat(e.goods_type))}))}},watch:{status:{handler:function(t){"send"!==t&&"payment"!==t?(this.optionData.search_field.splice(7,1),this.optionData.search_field.push({key:"express_sn",name:"快递单号"})):this.optionData.search_field.splice(7,1),"refund"===t&&4==this.optionData.refund_status.length&&this.optionData.refund_status.splice(1,1)},immediate:!0}},mounted:function(){this.getOrderType(),this.getGoodsType(),this.reset(),this.getVerylify()}};e.default=a},5447:function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"table-content-time"},[i("div",{staticClass:"left"},[i("Tooltip",{attrs:{content:"公众号",placement:"top"}},["20"==t.item.create_from?i("span",{staticClass:"iconfont icon-weixin icon"}):t._e()]),i("Tooltip",{attrs:{content:"微信小程序",placement:"top"}},["21"==t.item.create_from?i("span",{staticClass:"iconfont icon-weixinxiaochengxu icon"}):t._e()]),i("Tooltip",{attrs:{content:"头条小程序",placement:"top"}},["30"==t.item.create_from?i("kdx-svg-icon",{staticClass:"iconfont icon",attrs:{type:"icon-qudao-toutiao2"}}):t._e(),"32"==t.item.create_from?i("kdx-svg-icon",{staticClass:"iconfont icon",attrs:{type:"icon-qudao-toutiaojisuban"}}):t._e()],1),i("Tooltip",{attrs:{content:"抖音小程序",placement:"top"}},["31"==t.item.create_from?i("kdx-svg-icon",{staticClass:"iconfont icon",attrs:{type:"icon-douyin"}}):t._e()],1),i("Tooltip",{attrs:{content:"手机浏览器H5",placement:"top"}},["10"==t.item.create_from?i("span",{staticClass:"iconfont icon-H icon"}):t._e()]),2==t.item.activity_type?i("div",{staticClass:"activity-icon"},[i("Tooltip",{attrs:{content:"秒杀订单",placement:"top"}},[i("span",{staticClass:"iconfont icon-dingdanliebiao-miaosha seckill"})])],1):t._e(),i("span",{staticClass:"text"},[t._v("下单时间："+t._s(t.item.created_at))]),i("span",{staticClass:"text1"},[t._v("订单编号："+t._s(t.item.order_no))]),i("kdx-copy-text",{attrs:{text:t.item.order_no}},[i("Button",{attrs:{type:"text",size:"small"}},[t._v("复制")])],1)],1),i("div",{staticClass:"right"},[t.hasOrderSheet(t.item)&&!t.item.not_show_express?i("span",{on:{click:function(e){return t.jumpEOrder(t.item.order_no)}}},[t._v("发货单")]):t._e(),t.hasOrderSheet(t.item)&&!t.item.not_show_express&&t.virtualGood(t.item)?i("span",{on:{click:function(e){return t.jumpEOrder(t.item.order_no)}}},[t._v("电子面单")]):t._e(),i("span",{attrs:{type:"text"},on:{click:function(e){return t.handlePrinter(t.item.id)}}},[t._v("打印小票")]),"0"===t.item.status&&1e3*t.item.auto_close_time-Date.now()>0&&t.countTime?i("span",{staticClass:"remaining-time"},[t._v(" "+t._s(t.countTime)+" ")]):t._e(),i("span",{on:{click:function(e){return t.checkDetail(t.item.id,t.item.status)}}},[t._v("订单详情")]),i("Button",{class:{"remark-on":t.item.seller_remark},attrs:{type:"text"},on:{click:t.handlerRemark}},[t._v("备注 ")])],1),i("kdx-modal-frame",{attrs:{title:"请选择相关信息",width:610},on:{"on-cancel":t.printerCancel,"on-ok":t.printerOk},model:{value:t.printerModal,callback:function(e){t.printerModal=e},expression:"printerModal"}},[i("div",{staticClass:"printer-modal"},[i("Form",{ref:"form",attrs:{"label-width":120,model:t.printerModelData,rules:t.rules},nativeOn:{submit:function(t){t.preventDefault()}}},[i("FormItem",{attrs:{label:"打印机：",prop:"printer_id"}},[i("Select",{staticClass:"width-340",attrs:{placeholder:"请选择打印机"},model:{value:t.printerModelData.printer_id,callback:function(e){t.$set(t.printerModelData,"printer_id",e)},expression:"printerModelData.printer_id"}},t._l(t.printerList,(function(e){return i("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name)+" ")])})),1)],1),i("FormItem",{attrs:{label:"打印模板：",prop:"template_id"}},[i("Select",{staticClass:"width-340",attrs:{placeholder:"请选择打印模板"},model:{value:t.printerModelData.template_id,callback:function(e){t.$set(t.printerModelData,"template_id",e)},expression:"printerModelData.template_id"}},t._l(t.templateList,(function(e){return i("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name)+" ")])})),1)],1)],1)],1)]),i("kdx-modal-frame",{attrs:{title:"商家备注",width:520},on:{"on-cancel":t.remarkModalClose,"on-ok":t.remarkModalOk},model:{value:t.remarkModal,callback:function(e){t.remarkModal=e},expression:"remarkModal"}},[i("div",{staticClass:"remark-modal"},[i("Form",[i("FormItem",[i("Input",{attrs:{type:"textarea",placeholder:"请输入",maxlength:"200",autosize:{minRows:4},"show-word-limit":""},model:{value:t.remarkText,callback:function(e){t.remarkText=e},expression:"remarkText"}})],1)],1)],1)])],1)])},n=[]},"59fc":function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("kdx-header-bar",[i("Form",{attrs:{model:t.model,"label-width":100,inline:""},nativeOn:{submit:function(t){t.preventDefault()}}},[i("FormItem",{attrs:{label:"关键词："}},[i("i-input",{staticClass:"width-340",attrs:{type:"text",placeholder:"关键词"},on:{"on-enter":t.handleSearch},model:{value:t.model.keywords,callback:function(e){t.$set(t.model,"keywords",e)},expression:"model.keywords"}},[i("Select",{staticStyle:{width:"120px"},attrs:{slot:"prepend"},slot:"prepend",model:{value:t.model.search_field,callback:function(e){t.$set(t.model,"search_field",e)},expression:"model.search_field"}},t._l(t.optionData.search_field,(function(e,a){return i("Option",{key:a,attrs:{value:e.key}},[t._v(" "+t._s(e.name)+" ")])})),1)],1)],1),i("FormItem",{attrs:{label:"支付方式："}},[i("Select",{staticClass:"width-160",model:{value:t.model.pay_type,callback:function(e){t.$set(t.model,"pay_type",e)},expression:"model.pay_type"}},t._l(t.optionData.pay_type,(function(e){return i("Option",{key:e.id,attrs:{value:e.id}},[t._v(" "+t._s(e.name)+" ")])})),1)],1),i("FormItem",{attrs:{label:"下单时间："}},[i("DatePicker",{staticClass:"width-340",attrs:{type:"datetimerange",placeholder:"下单时间",format:"yyyy-MM-dd HH:mm"},on:{"on-change":t.changeDate},model:{value:t.model.time,callback:function(e){t.$set(t.model,"time",e)},expression:"model.time"}})],1),i("FormItem",{attrs:{label:"订单来源："}},[i("Select",{staticClass:"width-160",model:{value:t.model.create_from,callback:function(e){t.$set(t.model,"create_from",e)},expression:"model.create_from"}},t._l(t.optionData.create_from,(function(e){return i("Option",{key:e.id,attrs:{value:e.id}},[t._v(" "+t._s(e.name)+" ")])})),1)],1),i("FormItem",{attrs:{label:"活动订单："}},[i("Select",{staticClass:"width-160",attrs:{value:t.model.activity_type},on:{"on-change":t.changeType}},[i("Option",{key:"all",attrs:{value:"all"}},[t._v("全部")]),t._l(t.optionData.activity_type,(function(e){return i("Option",{key:e.key,attrs:{value:e.key}},[t._v(t._s(e.value)+" ")])}))],2)],1),"all"==t.status?i("FormItem",{attrs:{label:"订单状态："}},[i("Select",{staticClass:"width-160",model:{value:t.model.status,callback:function(e){t.$set(t.model,"status",e)},expression:"model.status"}},t._l(t.optionData.order_status,(function(e){return i("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name)+" ")])})),1)],1):t._e(),t.managePerm&&"refund"===t.status?i("FormItem",{attrs:{label:"维权类型："}},[i("Select",{staticClass:"width-160",model:{value:t.model.refund_type,callback:function(e){t.$set(t.model,"refund_type",e)},expression:"model.refund_type"}},t._l(t.optionData.refund_type,(function(e){return i("Option",{key:e.id,attrs:{value:e.id}},[t._v(" "+t._s(e.name)+" ")])})),1)],1):t._e(),t.managePerm?i("FormItem",{attrs:{label:"维权状态："}},[i("Select",{staticClass:"width-160",model:{value:t.model.refund_status,callback:function(e){t.$set(t.model,"refund_status",e)},expression:"model.refund_status"}},t._l(t.optionData.refund_status,(function(e){return i("Option",{key:e.id,attrs:{value:e.id}},[t._v(" "+t._s(e.name)+" ")])})),1)],1):t._e(),t.managePerm?i("FormItem",{attrs:{label:"配送方式："}},[i("Select",{staticClass:"width-160",model:{value:t.model.dispatch_type,callback:function(e){t.$set(t.model,"dispatch_type",e)},expression:"model.dispatch_type"}},t._l(t.deliveryList,(function(e){return i("Option",{key:e.id,attrs:{value:e.id}},[t._v(" "+t._s(e.name)+" ")])})),1)],1):t._e(),i("FormItem",{attrs:{label:"商品类型："}},[i("Select",{staticClass:"width-160",model:{value:t.model.type,callback:function(e){t.$set(t.model,"type",e)},expression:"model.type"}},t._l(t.optionData.goodsType,(function(e){return i("Option",{key:e.key,attrs:{value:e.key}},[t._v(t._s(e.value)+" ")])})),1)],1),i("div",{staticClass:"ivu-form-item-btn"},[i("Button",{attrs:{type:"primary"},on:{click:t.handleSearch}},[t._v("搜索")]),i("Button",{attrs:{type:"text"},on:{click:t.handleReset}},[t._v("重置")]),i("Button",{attrs:{type:"text"},on:{click:t.handleExport}},[t._v("导出")])],1)],1)],1)},n=[]},6316:function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("td",{attrs:{rowspan:t._f("getRowNum")(t.list.refund_type,t.list.order_goods.length)}},[i("div",{staticClass:"shop-status refund-status"},[t.hasRefund(t.list,t.goods)?[t._v("-")]:[i("kdx-status-text",{staticStyle:{display:"block"},attrs:{type:t.goods.refund_status>=0&&t.goods.refund_status<10?"danger":"success"}},[t._v(" "+t._s(t.goods.refund_status_text)+" ")]),"refund"===t.status?i("div",{staticClass:"refund-status-box"},[t.goods.refund_type_text?i("span",{staticClass:"refund-status-text"},[t._v(t._s(t.goods.refund_type_text))]):t._e()]):t._e(),"1"==t.list.is_refund?[i("Button",{attrs:{type:"text",to:t.getPath(t.list,t.goods)}},[t._v(" 维权详情 ")])]:t._e()]],2)])},n=[]},"65af":function(t,e,i){"use strict";i.r(e);var a=i("6c18"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},6788:function(t,e,i){"use strict";i.r(e);var a=i("87a1"),n=i("85ee");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("2877"),o=Object(s["a"])(n["default"],a["a"],a["b"],!1,null,"b3dacf5c",null);e["default"]=o.exports},6835:function(t,e,i){"use strict";i.r(e);var a=i("e14a"),n=i("9e37");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);i("c3ae");var s=i("2877"),o=Object(s["a"])(n["default"],a["a"],a["b"],!1,null,"cf1629c0",null);e["default"]=o.exports},"6af2":function(t,e,i){"use strict";i.r(e);var a=i("e007"),n=i("3ca8");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);i("06c4b");var s=i("2877"),o=Object(s["a"])(n["default"],a["a"],a["b"],!1,null,"ddeb8ce0",null);e["default"]=o.exports},"6c18":function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{item:{type:Object,default:function(){return{}}},countTime:{type:String,default:""}},data:function(){return{printerList:[],templateList:[],printerModal:!1,printerModelData:{printer_id:"",template_id:"",order_id:""},rules:{printer_id:[{required:!0,message:"请输入打印机名称"}],template_id:[{required:!0,message:"请选择打印模板"}]},remarkText:"",remarkModal:!1}},methods:{jumpEOrder:function(t){var e="/eOrder/orderPrint/index?order_no=".concat(t);this.$utils.openNewWindowPage(e)},checkDetail:function(t,e){var i="";"10"==e||"11"==e?i="/order/detail/send":"0"==e?i="/order/detail/payment":"20"==e?i="/order/detail/receive":"30"==e?i="/order/detail/achieve":"-1"==e&&(i="/order/detail/close"),this.$router.push({path:i,query:{id:t}})},handlePrinter:function(t){var e=this;this.$api.printerApi.printerList({only_list:1,status:1}).then((function(i){0==i.error&&(i.data.length<=0?e.toPrinterList():(e.printerList=i.data,e.checkPrinter(t)))}))},toPrinterList:function(){var t=this;this.$Modal.confirm({title:"提示",content:"您当前还未配置打印机，立即前往进行配置。",okText:"立即配置",cancelText:"暂不配置",onOk:function(){t.$utils.openNewWindowPage("/printer/manage/list")},onCancel:function(){}})},getPrinterTemList:function(){var t=this;this.$api.printerApi.getPrinterTemList({only_list:1}).then((function(e){0==e.error&&(t.templateList=e.data,t.printerModal=!0)}))},checkPrinter:function(t){var e=this;this.$api.printerApi.executePrinter({order_id:t,is_check:1}).then((function(i){0==i.error&&(e.printerModelData.order_id=t,(null===i||void 0===i?void 0:i.message)>0?e.checkPrinterNum(i.message):e.getPrinterTemList())}))},checkPrinterNum:function(t){var e=this;this.$Modal.confirm({title:"提示",content:"您已经打印".concat(t,"次，是否继续打印"),okText:"立即打印",cancelText:"暂不打印",onOk:function(){e.getPrinterTemList()},onCancel:function(){}})},printerCancel:function(){this.printerModal=!1},printerOk:function(){var t=this;this.$refs["form"].validate((function(e){e&&t.$api.printerApi.executePrinter(t.printerModelData).then((function(e){0==e.error&&t.$Message.success("打印成功"),t.printerModal=!1}))}))},handlerRemark:function(){this.remarkModal=!0,this.remarkText=this.item.seller_remark},remarkModalClose:function(){this.remarkModal=!1},remarkModalOk:function(){var t=this;this.$api.orderApi.setOrderRemark({order_id:this.item.id,seller_remark:this.remarkText}).then((function(e){0==e.error&&(t.$Message.success("保存成功"),t.remarkModal=!1,t.$emit("on-refresh"))}))},hasOrderSheet:function(t){var e;return 1===(null===(e=t.icon)||void 0===e?void 0:e.electronic_sheet)},virtualGood:function(t){var e;return!(1==(null===(e=t.order_goods[0])||void 0===e?void 0:e.type))}}};e.default=i},"75b8":function(t,e,i){"use strict";i("d8fa")},"84ba":function(t,e,i){"use strict";i.r(e);var a=i("2f91"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"85ee":function(t,e,i){"use strict";i.r(e);var a=i("e377"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"87a1":function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.list.buyer_remark||t.list.commission_info?i("div",{staticClass:"table-remark"},[t.list.buyer_remark?i("div",{staticClass:"left"},[t.list.buyer_remark?i("span",{staticClass:"remark"},[t._v(" 买家备注："+t._s(t.list.buyer_remark)+" ")]):t._e()]):t._e(),t.list.commission_info?i("div",{staticClass:"right"},[t._l(t.list.commission_info,(function(e,a){return i("span",{key:a,staticClass:"text"},[t._v(" "+t._s(t._f("getLevel")(a))+" "),i("span",{staticClass:"price"},[t._v(" "+t._s(e.commission)+"元 ")]),e.ladder_commission>0?i("span",{staticStyle:{color:"#939799"}},[t._v("(含阶梯佣金"+t._s(e.ladder_commission)+")")]):t._e()])})),i("Button",{attrs:{type:"text"},on:{click:t.editCommision}},[t._v(" 修改佣金 ")])],2):t._e()]):t._e()},n=[]},"8ede":function(t,e,i){t.exports=i.p+"static/dist/shop/img/discount.png"},"985f":function(t,e,i){"use strict";i.r(e);var a=i("ed4d"),n=i("bcbd");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);i("75b8");var s=i("2877"),o=Object(s["a"])(n["default"],a["a"],a["b"],!1,null,"3a75f019",null);e["default"]=o.exports},9943:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("99af");var a={props:{list:{type:Object,default:function(){return{}}},goods:{type:Object,default:function(){return{}}},status:{type:String,default:""}},filters:{getRowNum:function(t,e){return"2"===t?1:e}},methods:{hasRefund:function(t,e){return"0"==t.is_refund||"1"===t.is_refund&&"2"===t.refund_type&&"0"===e.is_single_refund},getPath:function(t,e){var i=t.refund_type,a=t.id,n=t.is_refund,r="/order/";if("1"===e.refund_type)r+="refund-detail";else if("2"===e.refund_type)r+="returns-refunds-detail";else{if("3"!==e.refund_type)return"";r+="exchange-goods-detail"}return r+="?id=".concat(a,"&is_refund=").concat(n),"2"===i&&(r+="&ids=".concat(e.id)),r}}};e.default=a},"9e37":function(t,e,i){"use strict";i.r(e);var a=i("045e"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},a00b:function(t,e,i){"use strict";i.r(e);var a=i("2bcc"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},b0b4:function(t,e,i){"use strict";i.r(e);var a=i("32c8"),n=i("a00b");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=i("2877"),o=Object(s["a"])(n["default"],a["a"],a["b"],!1,null,"bc76607c",null);e["default"]=o.exports},b195:function(t,e,i){"use strict";i.r(e);var a=i("5447"),n=i("65af");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);i("c1e4");var s=i("2877"),o=Object(s["a"])(n["default"],a["a"],a["b"],!1,null,"7cae5b4a",null);e["default"]=o.exports},b1e7:function(t,e,i){},bcbd:function(t,e,i){"use strict";i.r(e);var a=i("3ea3"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},c057:function(t,e,i){var a=i("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("5530"));i("ac1f"),i("841c"),i("d81d"),i("99af");var r=a(i("3cb9")),s=a(i("323e")),o=a(i("1c03")),d=i("f8b7"),l=i("3b02"),c=i("d1be"),u={name:"index",data:function(){return{tableShow:!1,checkWidth:0,table:{data:[],loading:!1,total:0},page:{pageSize:10,pageNumber:1},search:{},isExport:"0",status:"",timeInterval:"",id:"",member_id:"",visible:!1,orderNo:""}},inject:["returnToTop"],components:{SearchHeader:r.default,OrderList:s.default,CommissionEdit:o.default},watch:{"$route.path":{handler:function(){var t=this;if(0==this.$route.path.indexOf("/order/list/")){this.status=this.$route.params.id;var e=this.$route.query||{};this.$history.setRoute(this.$route).getData((function(i){t.page=t.$utils.deepCopy(i.page)||{pageSize:10,pageNumber:1},t.search=t.$utils.deepCopy(i.search)||{};var a=t.$utils.deepCopy(t.search);for(var r in a)a[r]||delete a[r];setTimeout((function(){t.$nextTick((function(){t.resetSearch((0,n.default)((0,n.default)({},a),e)),t.refreshTable(i.page)}))}))}))}},immediate:!0}},methods:{handleSearch:function(t){this.search=t,this.refreshTable()},resetSearch:function(t){var e=this;this.search=Object.assign({},t),this.$nextTick((function(){e.$refs["search"].reset(t)}))},changePage:function(t){this.page=t,this.getList()},refreshTable:function(t){var e=this;this.page=(0,n.default)({pageSize:10,pageNumber:1},t),this.getList(),this.$nextTick((function(){e.$refs["table"].reset(t)}))},getListName:function(){var t;switch(this.$route.path){case"/order/list/all":t="getAllList";break;case"/order/list/send":t="getSendList";break;case"/order/list/payment":t="getPaymentList";break;case"/order/list/receive":t="getReceiveList";break;case"/order/list/achieve":t="getAchieveList";break;case"/order/list/close":t="getCloseList";break;case"/order/list/refund":t="getRefundList";break}return t},getList:function(){var t,e,i,a=this;this.returnToTop(),this.table.loading=!0;var n=0;if(n=(null===(t=this.$refs["content"])||void 0===t?void 0:t.offsetWidth)-40-1,n){this.checkWidth=n,null!==(e=this.search)&&void 0!==e&&null!==(i=e.time)&&void 0!==i&&i.length&&(this.search.time=this.search.time.map((function(t){return"string"==typeof t?t:(0,c.formatDate)(t,"yyyy-MM-dd hh:mm:ss")}))),this.$history.setData({search:this.$utils.deepCopy(this.search),page:this.page});var r=Object.assign({pagesize:this.page.pageSize,page:this.page.pageNumber},this.search),s=this.getListName();this.$api.orderApi[s](r).then((function(t){0===t.error&&(a.table.data=t.list||[],a.table.total=t.total,"getPaymentList"!==s&&"getAllList"!==s||a.countDownPayment(),a.table.loading=!1,a.tableShow=!0)}))}else setTimeout((function(){a.getList()}),30)},handleExport:function(){var t=(0,n.default)({export:"1"},this.search),e=this.getListName();(0,l.Export)(d.orderApi[e].api,t)},countDownPayment:function(){var t=this;"payment"!==this.status&&"all"!==this.status||(this.timeInterval=setInterval((function(){var e;null!==(e=t.table.data)&&void 0!==e&&e.length&&(t.table.data=t.table.data.map((function(t){return t.count_down_time="剩余支付"+f(t.auto_close_time),t})))}),1e3))},editCommision:function(t){var e=t.id,i=t.member_id,a=t.order_no;this.orderNo=a,this.id=e,this.member_id=i,this.visible=!0}},beforeDestroy:function(){clearInterval(this.timeInterval)},mounted:function(){}};function f(t){if(t=1e3*t-(new Date).getTime(),t<=0&&t>=-10)return clearInterval(this.timeInterval),void this.refreshTable();var e=parseInt(t/864e5)||"00",i=parseInt(t/36e5%24)||"00",a=parseInt(t/6e4%60)||"00",n=parseInt(t/1e3%60)||"00",r="".concat(e,"天").concat(i,"小时").concat(a,"分钟").concat(n,"秒");return r}e.default=u},c1e4:function(t,e,i){"use strict";i("01ff")},c330:function(t,e,i){"use strict";i("f953")},c3ae:function(t,e,i){"use strict";i("2279")},d8fa:function(t,e,i){},d91d:function(t,e,i){"use strict";i.r(e);var a=i("6316"),n=i("4c24");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);i("e96e6");var s=i("2877"),o=Object(s["a"])(n["default"],a["a"],a["b"],!1,null,"2a998c90",null);e["default"]=o.exports},e007:function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"content",staticClass:"order-list"},[i("search-header",{ref:"search",attrs:{status:t.status},on:{"on-search":t.handleSearch,"on-export":t.handleExport}}),i("div",{directives:[{name:"loading",rawName:"v-loading",value:!t.tableShow,expression:"!tableShow"}]},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.tableShow,expression:"tableShow"}],staticClass:"content"},[i("order-list",{ref:"table",attrs:{checkWidth:t.checkWidth,current:t.page.pageNumber,pageSize:t.page.pageSize,data:t.table.data,total:t.table.total,loading:t.table.loading,status:t.status},on:{"on-page-change":t.changePage,"on-refresh":t.getList,"on-edit":t.editCommision}})],1)]),i("commission-edit",{attrs:{orderId:t.id,orderNo:t.orderNo,memberId:t.member_id,visible:t.visible},on:{"update:visible":function(e){t.visible=e},"on-success":t.getList}}),t._t("default")],2)},n=[]},e14a:function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("td",{attrs:{rowspan:t.list.order_goods.length}},[t.hasRefundSuc(t.list.order_goods)?i("div",{staticClass:"shop-action action refund"},[t._v("整单维权完成")]):i("div",{staticClass:"shop-action action"},[i("div",{staticClass:"order-status"},["10"==t.list.status?i("span",{staticClass:"wait-send-goods"},[t._v("待发货")]):t._e(),"11"===t.list.status?i("span",{staticClass:"wait-send-goods"},[t._v("部分发货")]):"0"===t.list.status?i("span",{staticClass:"wait-payment"},[t._v("待付款")]):"20"===t.list.status?i("span",{staticClass:"wait-tack-goods"},[t._v("待收货")]):"30"===t.list.status?i("span",{staticClass:"order-archive"},[t._v("已完成")]):"-1"===t.list.status?i("span",{staticClass:"order-close"},[t._v("已关闭")]):t._e()]),i("div",{staticClass:"btn"},["10"==t.list.status?[[i("Button",{attrs:{type:"text"},on:{click:function(e){return t.sendGoods(t.list)}}},[t._v("确认发货")]),i("Button",{attrs:{type:"text"},on:{click:function(e){return t.editReceiveInfo(t.list)}}},[t._v("修改收货信息 ")])],"3"!=t.list.pay_type&&"1"!=t.list.pay_type?i("Button",{attrs:{type:"text"},on:{click:function(e){return t.generalRefund(t.list)}}},[t._v("退款 ")]):t._e()]:"11"===t.list.status?[[i("Button",{attrs:{type:"text"},on:{click:function(e){return t.sendGoods(t.list)}}},[t._v("确认发货")]),i("Button",{attrs:{type:"text"},on:{click:function(e){return t.cancelSendGoods(t.list)}}},[t._v("取消发货 ")])],"3"!=t.list.pay_type&&"1"!=t.list.pay_type?i("Button",{attrs:{type:"text"},on:{click:function(e){return t.generalRefund(t.list)}}},[t._v("退款 ")]):t._e(),[i("Button",{attrs:{type:"text"},on:{click:function(e){return t.editExpress(t.list)}}},[t._v("修改物流 ")])]]:"0"===t.list.status?["20"!=t.list.scene?i("Button",{attrs:{type:"text"},on:{click:function(e){return t.confirmPayment(t.list)}}},[t._v("确认付款 ")]):t._e(),i("Button",{attrs:{type:"text"},on:{click:function(e){return t.changePrice(t.list)}}},[t._v("订单改价 ")]),i("Button",{attrs:{type:"text"},on:{click:function(e){return t.closeOrder(t.list)}}},[t._v("关闭订单")])]:"20"===t.list.status&&"20"!=t.list.dispatch_type?[[i("Button",{attrs:{type:"text"},on:{click:function(e){return t.confirmTakeGoods(t.list)}}},[t._v("确认收货 ")]),"0"===t.goods.type?i("Button",{attrs:{type:"text"},on:{click:function(e){return t.editExpress(t.list)}}},[t._v("修改物流 ")]):t._e(),"1"!==t.goods.type&&"3"!=t.list.pay_type||"1"==t.list.refund_type?t._e():i("Button",{attrs:{type:"text"},on:{click:function(e){return t.generalRefund(t.list)}}},[t._v("退款 ")])],"0"===t.goods.type?i("Button",{attrs:{type:"text"},on:{click:function(e){return t.packageExpress(t.list)}}},[t._v("物流信息 ")]):t._e()]:t._e()],2)])])},n=[]},e377:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{list:{type:Object,default:function(){return{}}}},methods:{editCommision:function(){this.$emit("click")}},filters:{getLevel:function(t){var e={1:"一级预计佣金：",2:"二级预计佣金："};return e[t]}}};e.default=i},e96e6:function(t,e,i){"use strict";i("16a0")},ed4d:function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return n}));var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("div",{staticClass:"shop"},[a("div",{staticClass:"shop-image"},[""===t.goods.thumb?a("div",["1"==t.goods.ext_field.coupon_sale_type?a("div",{staticClass:"shop-item"},[a("img",{attrs:{src:i("999e"),alt:""},on:{error:t.replaceImage}})]):"2"==t.goods.ext_field.coupon_sale_type?a("div",{staticClass:"shop-item"},[a("img",{attrs:{src:i("8ede"),alt:""},on:{error:t.replaceImage}})]):t._e()]):a("div",{staticClass:"shop-item"},[a("img",{attrs:{src:t.$media(t.goods.thumb),alt:""},on:{error:t.replaceImage}})])]),a("div",{staticClass:"shop-information"},[a("div",{staticClass:"title"},[a("span",{staticClass:"mark",class:t.getType.goodsName},[t._v(" "+t._s(t.getType.goodsText)+" ")]),t._v(" "+t._s(t.goods.title)+" ")]),a("div",{staticClass:"shop-label"},[t.goods.plugin_identification&&"1"==t.goods.plugin_identification.is_commission?a("kdx-tag-label",{attrs:{type:"warning",size:"small"}},[a("div",[a("span",{staticClass:"iconfont icon-fenxiao"}),a("span",[t._v(" 分销商品 ")])])]):t._e(),t.goods.option_title?a("kdx-tag-label",{attrs:{type:"info",size:"small"}},[t._v(" "+t._s(t.goods.option_title)+" ")]):t._e()],1)])])])},n=[]},eed1b:function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"order-table-list"},[i("div",{ref:"order_table",staticClass:"order-table-list-box"},[i("div",{staticClass:"table-header"},[i("table",{staticStyle:{"border-collapse":"collapse"},style:{width:(t.tableWidth||t.checkWidth)+"px"}},[i("colgroup",{attrs:{align:"left"}},t._l(t.columns,(function(t,e){return i("col",{key:e+"_"+t.width,attrs:{width:t.width}})})),0),i("tr",t._l(t.columns,(function(e,a){return i("th",{key:a},[i("div",{staticClass:"table-cell"},[t._v(t._s(e.title))])])})),0)])]),t.data.length>0?t._l(t.data,(function(e){return i("div",{key:e.id,staticClass:"table-content"},[i("OrderListItemHead",{attrs:{item:e,"count-time":e.count_down_time},on:{"on-refresh":t.handleRefresh}}),e.order_goods&&e.order_goods.length>0?i("div",{staticClass:"table-order"},[i("table",{staticStyle:{"border-collapse":"collapse"},style:{width:(t.tableWidth||t.checkWidth)+"px"}},[i("colgroup",{attrs:{align:"left"}},t._l(t.columns,(function(t,e){return i("col",{key:e+"_"+t.width,attrs:{width:t.width}})})),0),e.order_goods.length>0?t._l(e.order_goods,(function(a,n){return i("tr",{key:a.id+"_"+n},[i("TableTd1",{attrs:{goods:a}}),i("td",[i("div",{staticClass:"shop-price-number price"},[i("p",[t._v("￥"+t._s(a.price_unit))]),i("p",[t._v("X "+t._s(a.total))])])]),t.cellStatus(e,n)?[i("TableTd3",{attrs:{list:e,goods:a,status:t.status}})]:t._e(),0===n?[i("td",{attrs:{rowspan:e.order_goods.length}},[e.buyer_name||e.buyer_mobile?i("div",{staticClass:"shop-buyer buyer"},[i("p",[t._v(t._s(e.buyer_name))]),i("p",[t._v(t._s(e.buyer_mobile))])]):[t._v("-")]],2),i("TableTd5",{attrs:{list:e,goods:a}}),i("td",{attrs:{rowspan:e.order_goods.length}},[i("div",{staticClass:"shop-payment delivery"},[i("p",[t._v(t._s(e.pay_type_text))]),"0"==a.type||"1"==a.type||"3"==a.type?i("p",[t._v(t._s(e.dispatch_type_text))]):t._e()])]),i("TableTd7",{attrs:{list:e,goods:a,status:t.status},on:{sendGoods:t.sendGoods,editReceiveInfo:t.editReceiveInfo,generalRefund:t.generalRefund,cancelSendGoods:t.cancelSendGoods,editExpress:t.editExpress,handleRefresh:t.handleRefresh,changePrice:t.changePrice,packageExpress:t.packageExpress}})]:t._e()],2)})):t._e()],2)]):t._e(),i("OrderComment",{attrs:{list:e},on:{click:function(i){return t.editCommision(e)}}})],1)})):i("div",{staticStyle:{"text-align":"center",padding:"20px 0"}},[t._v("暂无数据")])],2),i("div",{directives:[{name:"show",rawName:"v-show",value:t.total>=10,expression:"total >= 10"}],staticClass:"table-footer"},[i("kdx-page-component",{ref:"page",attrs:{current:t.current,pageSize:t.pageSize,total:t.total},on:{"on-change":t.handlePageChange}})],1),i("send-goods",{ref:"send_goods",attrs:{id:t.modal.id,dispatch_type:t.modal.dispatch_type},on:{"on-refresh":t.handleRefresh}}),i("cancel-send-goods",{ref:"cancel_send_goods",attrs:{id:t.modal.id},on:{"on-refresh":t.handleRefresh}}),i("edit-express",{ref:"edit_express",attrs:{id:t.modal.id,"package-id":t.modal.packageId},on:{"on-refresh":t.handleRefresh}}),i("change-price",{ref:"change_price",attrs:{id:t.modal.id},on:{"on-refresh":t.handleRefresh}}),i("close-order",{ref:"close_order",attrs:{visible:t.modal.closeOrder,id:t.modal.id,title:t.modal.title},on:{"on-refresh":t.handleRefresh}}),i("package-express",{ref:"package_express",attrs:{id:t.modal.id,"package-id":t.modal.packageId}}),i("edit-receiving-goods",{ref:"edit_receiving_goods",attrs:{id:t.modal.id,dispatch_type:t.modal.dispatch_type},on:{"on-refresh":t.handleRefresh}}),i("refund-modal",{ref:"refund_modal",attrs:{id:t.modal.id,pay_type:t.modal.pay_type,good_type:t.modal.good_type},on:{"on-refresh":t.handleRefresh}})],1)},n=[]},f953:function(t,e,i){}}]);