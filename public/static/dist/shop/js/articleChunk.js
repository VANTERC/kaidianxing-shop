(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[32],{"0070":function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("kdx-content-bar",{attrs:{loading:t.loading},scopedSlots:t._u([{key:"btn",fn:function(){return[i("Button",{staticClass:"primary-long",attrs:{disabled:t.noManagePerm},on:{click:t.handleSave}},[t._v("保存")])]},proxy:!0}])},[i("div",{staticClass:"article-settings"},[i("kdx-form-title",[t._v("功能设置")]),i("Form",{ref:"form",attrs:{model:t.model,"label-width":160,rules:t.rule},nativeOn:{submit:function(t){t.preventDefault()}}},[i("FormItem",{staticClass:"title",attrs:{label:"文章标题栏自定义：",prop:"title"}},[i("Input",{staticClass:"width-430",attrs:{type:"text"},model:{value:t.model.title,callback:function(e){t.$set(t.model,"title",e)},expression:"model.title"}}),i("kdx-hint-text",[t._v(" 支持专题页面名称自定义"),i("kdx-hint-tooltip",{staticClass:"tooltip",attrs:{type:"image",image:a("d82c")}})],1)],1),i("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"文章模板：",prop:"template_type"}},[i("RadioGroup",{staticClass:"radio-box",on:{"on-change":t.handleChange},model:{value:t.model.template_type,callback:function(e){t.$set(t.model,"template_type",e)},expression:"model.template_type"}},[i("Radio",{attrs:{label:"1"}},[t._v(" 小图模式"),i("kdx-hint-tooltip",{staticClass:"tooltip",attrs:{type:"image",hintText:"",image:a("a896")}})],1),i("Radio",{attrs:{label:"2"}},[t._v(" 瀑布流"),i("kdx-hint-tooltip",{staticClass:"tooltip",attrs:{type:"image",hintText:"",image:a("d077")}})],1)],1)],1),i("FormItem",{staticClass:"add-img",attrs:{label:"文章页面banner：",prop:"banner"}},[i("div",{staticClass:"hint-box"},[i("kdx-hint-alert",{staticStyle:{"margin-bottom":"10px"}},[t._v(" 仅小图模式支持展示banner，瀑布流模式不展示已设置的banner图 ")]),i("kdx-hint-tooltip",{staticClass:"tooltip",attrs:{type:"image",hintText:"示例",image:a("45df")}})],1),i("DragSortableItems",{staticClass:"banner-item",attrs:{list:t.model.banner},on:{delItem:t.delItem},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.item;return[i("AddImg",{attrs:{draggable:!1,tip:"图片宽度建议750px",item:a,url:"imgurl",link:"linkurl"},on:{"change-img":t.changeImg,"change-link":t.changeLink}})]}}])}),t.model.banner.length<5?i("i-button",{style:{width:"100%",color:t.$css["--theme-color"]},on:{click:t.addItem}},[t._v("+添加图片")]):t._e()],1),i("FormItem",{staticClass:"time",attrs:{label:"转发奖励时间：",prop:"reward_time_limit"}},[t._v(" 被分享者阅读 "),i("kdx-rr-input",{staticClass:"time-input width-100",attrs:{placeholder:"请输入",number:"",fixed:0,"min-value":10,"max-value":60},model:{value:t.model.reward_time_limit,callback:function(e){t.$set(t.model,"reward_time_limit",e)},expression:"model.reward_time_limit"}},[i("span",{attrs:{slot:"append"},slot:"append"},[t._v("秒")])]),t._v(" 进行奖励发放 ")],1)],1)],1)])},n=[]},"0642":function(t,e,a){"use strict";a.r(e);var i=a("ac3b"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"0659":function(t,e,a){"use strict";a.r(e);var i=a("7967"),n=a("6da0");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("faf1");var o=a("2877"),r=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"8a2de6e4",null);e["default"]=r.exports},"06c6":function(t,e,a){},"0780":function(t,e,a){"use strict";a.r(e);var i=a("6397"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"0991":function(t,e,a){},"0b28":function(t,e,a){"use strict";a("1bd5")},"0c2d":function(t,e,a){},"0d35":function(t,e,a){"use strict";a.r(e);var i=a("5778"),n=a("6820");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("3218");var o=a("2877"),r=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"6da70863",null);e["default"]=r.exports},"11cd":function(t,e,a){"use strict";a.r(e);var i=a("7e33"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},1589:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex article-add-wrap"},[a("Preview",{attrs:{p_model:Object.assign({},t.baseInfo,t.ruleSettings)}}),a("div",{staticClass:"right"},[a("kdx-content-bar",{staticClass:"content-bar-right",scopedSlots:t._u([{key:"btn",fn:function(){return[a("Button",{staticClass:"primary-long",attrs:{type:"primary",disabled:t.noManagePerm,loading:t.loading},on:{click:t.handleSave}},[t._v(" 保存 ")]),a("Button",{staticClass:"default-long",attrs:{to:"/plugins/market/article/article/list"}},[t._v(" 取消 ")])]},proxy:!0}])},[a("div",{staticClass:"content"},[a("base-info",{ref:"baseInfo",staticClass:"base-info",attrs:{id:t.id,noManagePerm:t.noManagePerm},model:{value:t.baseInfo,callback:function(e){t.baseInfo=e},expression:"baseInfo"}}),a("rule-settings",{ref:"ruleSettings",attrs:{id:t.id},model:{value:t.ruleSettings,callback:function(e){t.ruleSettings=e},expression:"ruleSettings"}})],1)])],1)],1)},n=[]},"1a73":function(t,e,a){"use strict";a.r(e);var i=a("ddbb"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"1ba6":function(t,e,a){"use strict";a("f000")},"1bd5":function(t,e,a){},"1bf3":function(t,e,a){"use strict";a("74f1")},"1edc":function(t,e,a){},2115:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"add-img-img",class:["icon"==t.type?"mini":t.size],on:{mouseenter:t.mouseenter}},[a("div",{staticClass:"img-img-box",on:{click:t.addImg}},[t.imgurl&&"image"==t.type?a("img",{ref:"img",attrs:{src:t.$utils.media(t.imgurl),alt:""},on:{load:t.success}}):t.imgurl&&"icon"==t.type?a("i",{staticClass:"sel-icon",class:[t.imgurl]}):"video"==t.type&&t.imgurl?a("div",{staticClass:"video"},[a("video",{attrs:{src:t.$utils.media(t.imgurl,"video")}})]):a("i",{staticClass:"icon",class:[t.getIcon]}),t.imgurl||"mini"===t.size||"icon"==t.type?t._e():a("span",[t._v(t._s(t.tip))]),a("transition",{attrs:{name:"fade"}},[t.imgurl?a("span",{staticClass:"replace"},[a("i",[t._v("替换")])]):t._e()])],1),t.imgurl?a("i",{staticClass:" close ivu-icon ivu-icon-md-close-circle",on:{click:function(e){return e.stopPropagation(),t.delImg.apply(null,arguments)}}}):t._e(),t.loadSelector&&"image"==t.type?a("image-selector",{ref:"image_selector",attrs:{current:t.imgurl,multiple:!1},on:{"on-change":t.changeImage}}):t.loadSelector&&"icon"==t.type?a("icon-selector",{ref:"iconSelector",on:{"on-change":t.getIconClass}}):t.loadSelector&&"video"==t.type?a("video-selector",{ref:"video_selector",attrs:{current:t.value},on:{"on-change":t.changeVideo}}):t._e()],1)},n=[]},"254f7":function(t,e,a){},"260a":function(t,e){t.exports="data:image/png;base64,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"},"2bad":function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"data-card"},[t.tmpList&&t.tmpList.length?a("ul",t._l(t.tmpList,(function(e,i){return a("li",{key:i},[a("div",{staticClass:"card-box",class:{hover:!t.type&&"ladder_commission_count"!=e.key&&"agent_ladder_count"!=e.key},on:{click:function(a){return t.skipToOtherPage(e)}}},[e.image?a("div",{staticClass:"image"},[a("img",{attrs:{src:e.image,alt:""}})]):t._e(),a("div",{staticClass:"card-content"},[a("div",{staticClass:"title flex"},[a("div",{staticClass:"line-hide"},[t._v(" "+t._s(e.title)+" ")]),e.tooltip?a("kdx-hint-tooltip",[t._v(" "+t._s(e.tooltip.content)+" ")]):t._e()],1),a("div",{staticClass:"number"},[t.data[e.key]&&t.data[e.key].wait_send?a("div",[a("span",[t._v(t._s(t.data[e.key].wait_send))]),a("span",{staticClass:"no-hover"},[t._v("/")]),a("span",{staticClass:"no-hover"},[t._v(t._s(t.data[e.key].order_count))])]):"ladder_commission_count"==e.key?a("div",[a("span",[t._v(t._s(t.data[e.key]))]),a("span",{staticClass:"no-hover"},[t._v("/")]),a("span",{staticClass:"no-hover"},[t._v(t._s(t.data.ladder_remit_success_count))])]):"agent_ladder_count"==e.key?a("div",[a("span",[t._v(t._s(t.data[e.key]))]),a("span",{staticClass:"no-hover"},[t._v("/")]),a("span",{staticClass:"no-hover"},[t._v(t._s(t.data.agent_count))])]):a("div",[t._v(" "+t._s(e.prefix||"")+t._s(t.data[e.key]||"0")+" ")])])])])])})),0):t._e()])},n=[]},"2c28":function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("2c55")),s={components:{DataCard:n.default},created:function(){var t;this.id=null===(t=this.$route.query)||void 0===t?void 0:t.id,this.getArticleStatistics(),this.getArticleSellData()},data:function(){var t=this.$createElement;return{id:0,info:{title:"",created_at:"",publisher:""},overview:{tempList:[{key:"share",image:a("260a"),title:"分享数"},{key:"visit",image:a("51c3"),title:"访问数"},{key:"proportion",image:a("8d78"),title:"点赞数"}],data:{}},type:"1",tabList:[{id:"1",name:"商品",loading:!1},{id:"2",name:"优惠券",loading:!1}],goodsColumns:[{title:"商品名称",key:"title"},{title:"引导成交人数",key:"member_count"},{title:"引导成交金额",key:"money",renderHeader:function(){return t("div",[t("span",["引导成交金额"]),t("kdx-hint-tooltip",{attrs:{maxWidth:700,width:"640px",type:"form"},style:"font-weight: normal"},["此金额不包含在购物车同时下单的其他商品金额"])])}}],pageSize:10,page:1,total:0,couponColumns:[{title:"用户名称",slot:"nickname"},{title:"优惠券名称",key:"coupon_title"},{title:"使用状态",slot:"status"},{title:"领取时间",key:"created_at"}],tableData:[]}},methods:{getArticleStatistics:function(){var t=this;this.$api.articleApi.getArticleStatistics({id:this.id}).then((function(e){0===e.error&&(t.info={title:e.data.title,created_at:e.data.created_at,publisher:e.data.publisher},t.overview.data={share:e.data.share_number,visit:e.data.read_number,proportion:e.data.thumps_up_number})}))},getArticleSellData:function(){var t=this,e={id:this.id,type:this.type};"2"===this.type&&(e.page=this.page,e.page_size=this.pageSize),this.$api.articleApi.getArticleSellData(e).then((function(e){0===e.error&&(t.tableData=e.list,t.total=e.total)}))},selectTab:function(t){var e=this;this.type=t,this.getArticleSellData(),"2"===t&&this.$refs["page"]&&this.$nextTick((function(){e.resetPage()}))},changePage:function(t){this.page=t,this.getArticleSellData()},changeSize:function(t){this.page=1,this.pageSize=t,this.getArticleList()},resetPage:function(){this.$refs["page"].reset()}}};e.default=s},"2c55":function(t,e,a){"use strict";a.r(e);var i=a("2bad"),n=a("e345");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("9161");var o=a("2877"),r=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"409ee9e2",null);e["default"]=r.exports},"2d0a":function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"sortItem",staticClass:"drag-sortable-items"},[t.lazyLoad?a("draggable",{attrs:{options:{draggable:".drag-sort-item",filter:"input",preventOnFilter:!1}},on:{end:t.drag},model:{value:t.newList,callback:function(e){t.newList=e},expression:"newList"}},[a("transition-group",{attrs:{name:"flip-list",tag:"ul"}},t._l(t.list,(function(e,i){return a("div",{key:e._sortId||i,staticClass:"drag-sort-item",class:{onlyone:1==t.list.length&&!t.allowAllDel}},[t._t("default",null,{item:e,index:i}),t.delabled?a("span",{staticClass:"del-item ivu-icon ivu-icon-md-close-circle",on:{click:function(a){return t.delItem(e,i)}}}):t._e()],2)})),0)],1):t._e()],1)},n=[]},"2d1c":function(t,e,a){"use strict";a.r(e);var i=a("4f7d"),n=a("e643");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("39b1");var o=a("2877"),r=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"7076408c",null);e["default"]=r.exports},"2e1d":function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("2909")),s=i(a("5530")),o=i(a("b85c"));a("a9e3"),a("a434"),a("4de4"),a("d3b7"),a("159b"),a("ac1f"),a("841c");var r={name:"goodsSelector",props:{current:{type:[String,Object],default:function(){}},currentList:{type:Array,default:function(){return[]}},value:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},limit:{type:Number},isStore:{type:Boolean,default:!1},params:{type:Object,default:function(){}},type:{type:String,default:""},flag:{type:String,default:""},status:{type:Number,default:5},show_activity:{type:[Number],default:0},is_shopping_reward:{type:[Number],default:0}},computed:{columns:function(){var t=this,e=(this.$createElement,[{title:"商品",key:"shop",minWidth:450,render:function(e,a){var i;switch(a.row.type){case"0":i={goodsText:"实"};break;case"1":i={goodsText:"虚"};break;case"2":i={goodsText:"密"};break;case"3":i={goodsText:"预"};break}return e("div",{class:{"shop-box":!0}},[e("div",{class:{image:!0}},[e("img",{attrs:{src:t.$media(a.row.thumb)},on:{error:function(e){t.replaceImage(e)}}})]),e("div",{class:{content:!0}},[e("div",{class:{"content-text":!0}},[e("span",{class:{mark:!0},style:{display:"1"===a.row.has_option?"inline-block":"none"}},"多"),e("span",{class:{mark:!0,real:"0"===a.row.type,virtual:"1"===a.row.type,secret:"2"===a.row.type,appoint:"3"===a.row.type}},i.goodsText),e("span",{class:{text:!0}},a.row.title)])])])}},{title:"价格",key:"price",minWidth:60,render:function(t,e){return"1"===e.row.has_option?t("div",{class:"price"},[t("span",["￥",e.row.min_price," ~ ￥",e.row.max_price])]):t("div",{class:"price"},[t("span",["￥",e.row[e.column.key]])])}},{title:"库存",key:"stock",width:60,render:function(t,e){var a=parseInt(e.row[e.column.key]);return"3"==e.row.type?t("div","-"):t("div",a||0===a?a<=999?a:"999+":"-")}},{title:"操作",key:"action",width:80,render:function(e,a){return e("div",{class:"action"},[e("Button",{class:"default-primary",attrs:{disabled:1===a.row.is_select},style:{display:a.row.checked?"none":"block"},on:{click:function(){t.setChecked(a.index,!0)}}},["选择"]),e("Button",{attrs:{type:"primary"},style:{display:a.row.checked?"block":"none"},on:{click:function(){t.setChecked(a.index,!1)}}},["已选"])])}}]);return this.show_activity&&e.splice(-1,0,{title:"营销活动",key:"is_activity_goods",width:130,render:function(e,a){return e("div",{class:1===a.row.is_activity_goods?"brand-color pointer":"pointer",on:{click:function(){t.viewActivity(a.row)}}},[1===a.row.is_activity_goods?"查看参与的活动":"未参与活动"])}}),e}},data:function(){var t=this.$createElement;return{search:{keywords:"",group:""},goodsGroup:[],page:{pageSize:10,pageNumber:1},selectRows:[],selectRow:{},table:{data:[],loading:!1,total:0},activity:{show:!1,columns:[{title:"活动名称",key:"title"},{title:"活动状态",key:"status",slot:"status"},{title:"活动时间",key:"time",slot:"date"},{title:"活动类型",key:"type_text"},{title:"活动来源",key:"sub_shop_id",render:function(){return t("div",["平台"])}}],data:[]}}},created:function(){this.activity.columns=this.activity.columns.filter((function(t){return"sub_shop_id"!==t.key}))},methods:{handleSearch:function(){this.resetPage(),this.getShopList()},resetPage:function(){var t;this.page={pageSize:10,pageNumber:1},null===(t=this.$refs["page"])||void 0===t||t.reset()},handlePageChange:function(t){this.page=t,this.getShopList();try{this.$refs.scrollBox.scrollTop=0}catch(e){console.log(e)}},setChecked:function(t,e){var a=this;if(this.multiple){if(this.limit&&this.selectRows.length===this.limit&&e)return void this.$Message.error("已超出最大可选数量");this.$set(this.table.data[t],"checked",e),0===this.selectRows.length||e?this.selectRows.push(this.table.data[t]):this.selectRows=this.selectRows.filter((function(e){return e.id!==a.table.data[t].id}))}else e?(this.table.data.forEach((function(t,e){a.$set(a.table.data[e],"checked",!1)})),this.$set(this.table.data[t],"checked",!0),this.selectRow=this.table.data[t]):(this.$set(this.table.data[t],"checked",!1),this.selectRow={})},defaultChecked:function(){var t,e=this,a=this.isStore?"broadcast_goods_id":"id",i=this.isStore?"broadcast_goods_id":"id";this.multiple?this.table.data.forEach((function(t,n){var s,r=(0,o.default)(e.selectRows);try{for(r.s();!(s=r.n()).done;){var l=s.value;if(l[i]===t[a]){e.$set(e.table.data[n],"checked",!0);break}}}catch(c){r.e(c)}finally{r.f()}})):null===(t=this.table.data)||void 0===t||t.forEach((function(t,n){e.selectRow&&t[a]===e.selectRow[i]?e.$set(e.table.data[n],"checked",!0):e.$set(e.table.data[n],"checked",!1)}))},getShopList:function(){var t=this;if(this.isStore)this.getGoodsStore();else{this.table.loading=!0;var e=Object.assign((0,s.default)({page:this.page.pageNumber,pagesize:this.page.pageSize,status:-1===this.status?"":this.status,type:this.type,flag:this.flag,show_activity:this.show_activity,is_shopping_reward:this.is_shopping_reward},this.params),this.search);this.$api.goodsApi.goodsList(e).then((function(e){t.table.loading=!1,0===e.error&&(t.table.data=e.list,t.table.total=e.total,t.defaultChecked())})).catch()}},getGoodsStore:function(){var t=this;this.table.loading=!0;var e=Object.assign({page:this.page.pageNumber,pagesize:this.page.pageSize,bro_goods_status:2},{title:this.search.keywords});this.$api.liverApi.getGoodsStore(e).then((function(e){t.table.loading=!1,0===e.error&&(t.table.data=e.list,t.table.total=e.total,t.defaultChecked())})).catch()},goodGroupList:function(){var t=this;this.$api.goodsApi.goodGroupList({pager:0}).then((function(e){0===e.error?t.goodsGroup=e.list:t.$Message.error("商品组获取失败")}))},handleSave:function(){this.multiple?this.$emit("on-change",this.selectRows):this.$emit("on-change",this.selectRow),this.handleCancel()},handleCancel:function(){this.$emit("on-cancel"),this.activity.show=!1},resetSearch:function(){this.search={keywords:"",group:""}},viewActivity:function(t){console.log(t,"data>>>>>>>>viewActivity"),t.is_activity_goods&&(this.activity.show=!0,this.activity.data=t.join_activity)},getTime:function(t){return"0000-00-00 00:00:00"===t?"-":t}},watch:{value:{handler:function(t){t&&(this.multiple?this.selectRows=(0,n.default)(this.currentList)||[]:this.selectRow=this.current,this.resetSearch(),this.resetPage(),this.getShopList())},immediate:!0}}};e.default=r},3159:function(t,e,a){},3218:function(t,e,a){"use strict";a("de2b")},"335f4":function(t,e,a){"use strict";a("0c2d")},3502:function(t,e,a){"use strict";a.r(e);var i=a("bac0"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"352d":function(t,e,a){"use strict";a.r(e);var i=a("2d0a"),n=a("bb30");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("b09b");var o=a("2877"),r=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"76de5458",null);e["default"]=r.exports},"354e":function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("Form",{ref:"form",attrs:{model:t.model,"label-width":120,rules:t.rule},nativeOn:{submit:function(t){t.preventDefault()}}},[i("kdx-form-title",[t._v("基本信息")]),i("FormItem",{attrs:{label:"文章标题：",prop:"title"}},[i("Input",{staticClass:"width-430 limit-input",attrs:{type:"textarea",autosize:{minRows:1},maxlength:"64","show-word-limit":"",placeholder:"请输入文章标题"},on:{"on-blur":t.checkTitle},model:{value:t.model.title,callback:function(e){t.$set(t.model,"title",e)},expression:"model.title"}})],1),i("FormItem",{attrs:{label:"文章封面：",prop:"cover"}},[i("kdx-image-video",{attrs:{type:"image",current:t.model.cover},on:{"on-change":t.changeCover}}),i("kdx-hint-text",[t._v(" 用于展示文章列表的图片。建议尺寸：800*800像素"),i("kdx-hint-tooltip",{attrs:{type:"image",image:a("5f66")}})],1)],1),i("FormItem",{attrs:{label:"文章简介：",prop:"digest"}},[i("Input",{staticClass:"width-430 limit-input",attrs:{type:"textarea",autosize:{minRows:1},maxlength:"120","show-word-limit":"",placeholder:"请输入文章简介"},model:{value:t.model.digest,callback:function(e){t.$set(t.model,"digest",e)},expression:"model.digest"}}),i("kdx-hint-text",[t._v("用于展示文章列表的简介信息。")])],1),i("FormItem",{attrs:{label:"选择分组：",prop:"group_id"}},[i("Select",{staticClass:"width-340",attrs:{placeholder:"请选择分组"},model:{value:t.model.group_id,callback:function(e){t.$set(t.model,"group_id",e)},expression:"model.group_id"}},t._l(t.groupList,(function(e){return i("Option",{key:e.id,attrs:{value:e.id}},[t._v(" "+t._s(e.name)+" ")])})),1),i("Button",{staticClass:"add-group",attrs:{disabled:t.noManagePerm,type:"text"},on:{click:t.addGroup}},[t._v(" 新增分组 ")])],1),i("FormItem",{attrs:{label:"作者名称：",prop:"author"}},[i("Input",{staticClass:"width-340 limit-input",attrs:{type:"text",maxlength:"4","show-word-limit":"",placeholder:"请输入作者名称"},model:{value:t.model.author,callback:function(e){t.$set(t.model,"author",e)},expression:"model.author"}})],1),i("FormItem",{attrs:{label:"文章排序：",prop:"sort_by"}},[i("Input",{staticClass:"width-160",attrs:{maxlength:"4",placeholder:"请输入文章排序"},model:{value:t.model.sort_by,callback:function(e){t.$set(t.model,"sort_by",t._n(e))},expression:"model.sort_by"}}),i("kdx-hint-text",[t._v(" 最多4位数字, 数字越大, 排名越靠前,默认排序为创建时间 ")])],1),i("FormItem",{attrs:{label:"文章详情：",prop:"content_origin"}},[i("div",{staticClass:"editor"},[i("editor",{ref:"editor",attrs:{plugins:t.plugins,height:482},on:{change:t.handleChange},model:{value:t.model.content_origin,callback:function(e){t.$set(t.model,"content_origin",e)},expression:"model.content_origin"}}),i("div",{staticClass:"btn-group"},[i("Button",{staticClass:"goods-btn default-primary",on:{click:t.chooseGoods}},[t._v("插入商品")]),i("Button",{staticClass:"default-primary",on:{click:t.chooseCoupon}},[t._v("插入优惠券")])],1)],1)])],1),i("add-group-modal",{ref:"groupModal",on:{success:t.getGroup}}),i("goods-selector",{attrs:{multiple:!0,limit:5,"current-list":t.goodsSelector.data,show_activity:1},on:{"on-change":t.changeGoodList,"on-cancel":t.goodsClose},model:{value:t.goodsSelector.value,callback:function(e){t.$set(t.goodsSelector,"value",e)},expression:"goodsSelector.value"}}),i("coupon-selector",{attrs:{multiple:!0,currentList:t.couponSelector.data},on:{"on-change":t.changeCouponList,"on-cancel":t.couponClose},model:{value:t.couponSelector.value,callback:function(e){t.$set(t.couponSelector,"value",e)},expression:"couponSelector.value"}})],1)},n=[]},"39b1":function(t,e,a){"use strict";a("7266")},"3a6e":function(t,e,a){"use strict";a("64b0")},"3b02":function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.Export=void 0;var n=i(a("5530")),s=a("d8cc"),o=i(a("4328")),r=a("384d"),l=i(a("1cc8")),c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t){var a="";if(-1===t.indexOf(s.config.base_url)){var i={baseURL:s.config.base_url,url:t};(0,l.default)(i),a=i.baseURL+i.url}else a=t;a=a.indexOf("?")>-1?a:a+"?",e=(0,n.default)((0,n.default)({},e),(0,r.getUserInfo)()),a+="&".concat(o.default.stringify(e)),window.open(a)}};e.Export=c},41421:function(t,e,a){"use strict";a.r(e);var i=a("5d54"),n=a("d87d");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("c405");var o=a("2877"),r=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"9c9c60e2",null);e["default"]=r.exports},4459:function(t,e,a){},"45df":function(t,e,a){t.exports=a.p+"static/dist/shop/img/article_banner.png"},"466a":function(t,e,a){"use strict";a("0991")},"495b":function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("96cf"),a("ac1f"),a("1276"),a("d81d"),a("e9c4"),a("d3b7"),a("5319");var n=i(a("1da1")),s=i(a("5530")),o=i(a("ebae")),r=i(a("ac8a")),l=i(a("bd51")),c={components:{Preview:o.default,BaseInfo:r.default,RuleSettings:l.default},data:function(){return{loading:!1,id:"",type:"",baseInfo:{title:"",cover:"",digest:"",group_id:"",author:"",sort_by:"",content:{},content_origin:"",goods_ids:[],coupon_ids:[]},ruleSettings:{read_number_status:"1",read_number_init:"",read_number_step:"",thumps_up_status:"1",thumps_up_number_init:"",member_level_limit_type:"0",member_level_limit_ids:[],commission_level_limit_type:"0",commission_level_limit_ids:[],reward_type:"0",reward_rule:{},creditOnce:"",creditMax:"",balanceOnce:"",balanceMax:"",status:"1"}}},created:function(){var t=this.$route.query,e=t.id,a=t.data;this.id=e,this.baseInfo.title=null===a||void 0===a?void 0:a.title,this.baseInfo.author=null===a||void 0===a?void 0:a.author,this.baseInfo.digest=null===a||void 0===a?void 0:a.digest,this.baseInfo.content_origin=null===a||void 0===a?void 0:a.content,this.id&&this.getArticleDetail()},computed:{noManagePerm:function(){return!this.$getPermMap("article.article.manage")}},methods:{formatParams:function(){var t=(0,s.default)((0,s.default)({},this.baseInfo),this.ruleSettings),e=this.baseInfo.content_origin.split(/<!-- article-item-.*? -->/);return t.content=e.map((function(t){if(-1!==t.indexOf("\x3c!-- goods --\x3e")){var e=t.substring(t.indexOf('data-goods-id="')+15,t.indexOf('" data-goods-id-end'));return{type:"goods",id:e}}if(-1!==t.indexOf("\x3c!-- coupon --\x3e")){var a=t.substring(t.indexOf('data-coupon-id="')+16,t.indexOf('" data-coupon-id-end'));return{type:"coupon",id:a}}return{type:"text",value:t}})),"0"===t.read_number_status&&(t.read=0,t.read_number_step=0),"0"===t.thumps_up_status&&(t.thumps_up_number_init=0),"0"===t.member_level_limit_type&&(t.member_level_limit_ids=[]),"0"===t.commission_level_limit_type&&(t.commission_level_limit_ids=[]),"0"===t.reward_type?(t.creditOnce=0,t.creditMax=0,t.balanceOnce=0,t.balanceMax=0):"1"===t.reward_type?(t.balanceOnce=0,t.balanceMax=0):"2"===t.reward_type&&(t.creditOnce=0,t.creditMax=0),t.reward_rule={credit:{once:this.ruleSettings.creditOnce||0,max:this.ruleSettings.creditMax||0},balance:{once:this.ruleSettings.balanceOnce||0,max:this.ruleSettings.balanceMax||0}},t.content=JSON.stringify(t.content),t.goods_ids=JSON.stringify(t.goods_ids),t.coupon_ids=JSON.stringify(t.coupon_ids),t.member_level_limit_ids=JSON.stringify(t.member_level_limit_ids),t.commission_level_limit_ids=JSON.stringify(t.commission_level_limit_ids),t.reward_rule=JSON.stringify(t.reward_rule),t.sort_by=t.sort_by||0,t.read_number_init=t.read_number_init||0,t.read_number_step=""===t.read_number_step?1:t.read_number_step,t.thumps_up_number_init=t.thumps_up_number_init||0,t},getArticleDetail:function(){var t=this;this.$api.articleApi.getArticleDetail({article_id:this.id}).then((function(e){if(0==e.error){var a,i,n,s,o,r,l,c;for(var d in t.baseInfo){var u={};u[d]=e.data[d],Object.assign(t.baseInfo,u)}for(var f in t.ruleSettings){var m={};m[f]=e.data[f],Object.assign(t.ruleSettings,m)}"0"===e.data.group_id&&(t.baseInfo.group_id=""),t.ruleSettings.creditOnce=null===(a=e.data.reward_rule)||void 0===a||null===(i=a.credit)||void 0===i?void 0:i.once,t.ruleSettings.creditMax=null===(n=e.data.reward_rule)||void 0===n||null===(s=n.credit)||void 0===s?void 0:s.max,t.ruleSettings.balanceOnce=null===(o=e.data.reward_rule)||void 0===o||null===(r=o.balance)||void 0===r?void 0:r.once,t.ruleSettings.balanceMax=null===(l=e.data.reward_rule)||void 0===l||null===(c=l.balance)||void 0===c?void 0:c.max,t.$refs.baseInfo.handleChange()}}))},handleSave:function(){var t=this;return(0,n.default)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$refs.baseInfo.validateForm();case 3:return e.next=5,t.$refs.ruleSettings.validateForm();case 5:t.saveArticle(),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),t.loading=!1;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},saveArticle:function(){var t=this,e=this.formatParams();this.id&&(e.article_id=this.id),this.$api.articleApi.saveArticle(e).then((function(e){0==e.error&&(t.$Message.success("操作成功"),t.$router.replace({path:"/plugins/market/article/article/list"}))})).finally((function(){t.loading=!1}))}}};e.default=c},"4a08":function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("5530"));a("d3b7"),a("159b"),a("a434"),a("b0c0"),a("d81d"),a("e9c4");var s=i(a("352d")),o=i(a("c833")),r={provide:{chooseTab:"article"},components:{DragSortableItems:s.default,AddImg:o.default},data:function(){return{loading:!1,model:{title:"",template_type:"1",banner:[{imgurl:"",linkurl:""}],reward_time_limit:15},rule:{title:[{required:!0,message:"专题页面名称必填"}],banner:[{validator:function(t,e,a){var i=!1;e.forEach((function(t){t.linkurl&&!t.imgurl&&(i=!0)})),i?a(new Error("图片必选")):a()}}],reward_time_limit:[{required:!0,message:"转发奖励时间必填"}]}}},created:function(){this.getData()},computed:{noManagePerm:function(){return!this.$getPermMap("article.settings.manage")}},methods:{getData:function(){var t=this;this.loading=!0,this.$api.articleApi.getArticleSettings().then((function(e){0===e.error&&(t.model=e.data)})).finally((function(){t.loading=!1}))},handleChange:function(t){"2"==t&&this.$Modal.info({title:"提示",content:"切换模式可能会导致封面图片适配问题，如有问题，请前往文章进行相应编辑"})},delItem:function(t){for(var e=0;e<this.model.banner.length;e++)if(t===this.model.banner[e]){this.model.banner.splice(e,1);break}},addItem:function(){this.model.banner.length<5&&this.model.banner.push({imgurl:"",linkurl:""})},changeLink:function(t,e){e.linkurl=t.url,e.linkurl_name=t.name},changeImg:function(t,e){e.imgurl=t},handleSave:function(){var t=this;this.loading=!0,this.$refs["form"].validate((function(e){if(e){var a=t.model.banner.map((function(t){return{imgurl:t.imgurl,linkurl:t.linkurl,linkurl_name:t.linkurl_name}})),i=(0,n.default)({},t.model);i.banner=a,t.$api.articleApi.setArticleSettings({data:JSON.stringify(i)}).then((function(e){0===e.error&&t.$Message.success("操作成功")}))}})).finally((function(){t.loading=!1}))}}};e.default=r},"4a4d":function(t,e,a){"use strict";a("ee0e")},"4f7d":function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"select-link",staticStyle:{"margin-bottom":"10px"},on:{mouseenter:t.mouseenter}},[a("div",{staticClass:"body"},[t.linkInfo.url?a("Input",{staticClass:"input",staticStyle:{"border-left":"0",flex:"1"},attrs:{disabled:"",value:t.linkInfo.name,"enter-button":"修改"}},[a("i",{class:[t.icon],attrs:{slot:"prepend"},slot:"prepend"}),t.enabled?a("span",{staticStyle:{padding:"4px 16px"},attrs:{slot:"append"},on:{click:t.selectLink},slot:"append"},[t._v("修改")]):t._e()]):t._e(),t.linkInfo.url?t._e():a("i-button",{staticStyle:{padding:"4px 6px",width:"100%","text-align":"left",flex:"1"},attrs:{icon:t.btnIcon},on:{click:t.selectLink}},[t._v(t._s(t.btnText)+" ")])],1),t.loadSelector&&t.enabled?a("union-selector",{attrs:{"tab-name":t.chooseTabs,current:t.linkInfo},on:{"on-cancel":t.handleCancel,"on-change":t.changeLink},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}}):t._e()],1)},n=[]},"51c3":function(t,e){t.exports="data:image/png;base64,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"},"541d":function(t,e,a){},5778:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("kdx-modal-frame",{attrs:{value:t.value,title:"优惠券选择器",width:"1000","ok-text":"保存"},on:{"on-ok":t.handleSave,"on-cancel":t.handleCancel}},[a("div",{staticClass:"selector-link-discount-coupon"},[a("div",{ref:"scrollBox",staticClass:"coupon-content"},[a("div",{staticClass:"search"},[a("Input",{staticClass:"width-250",attrs:{search:"","enter-button":"搜索",placeholder:"请输入"},on:{"on-search":t.getCouponList,"on-enter":t.getCouponList},model:{value:t.search.keyword,callback:function(e){t.$set(t.search,"keyword",e)},expression:"search.keyword"}}),a("span",{staticClass:"label"},[t._v("优惠券类型：")]),a("Select",{staticClass:"width-160",on:{"on-change":t.handleSearch},model:{value:t.search.coupon_sale_type,callback:function(e){t.$set(t.search,"coupon_sale_type",e)},expression:"search.coupon_sale_type"}},[a("Option",{attrs:{value:"all"}},[t._v("全部")]),a("Option",{attrs:{value:"1"}},[t._v("满减券")]),a("Option",{attrs:{value:"2"}},[t._v("折扣券")])],1)],1),a("Table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"table",attrs:{columns:t.columns,data:t.data}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.total>10,expression:"total>10"}],staticClass:"footer-page"},[a("kdx-page-component",{ref:"page",attrs:{total:t.total},on:{"on-change":t.handlePageChange}})],1)])])},n=[]},"5b6d":function(t,e,a){"use strict";a.r(e);var i=a("4a08"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"5d54":function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("kdx-modal-frame",{attrs:{title:"新增分组",width:700},on:{"on-cancel":t.handleClose,"on-ok":t.handleOk},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[a("Form",{ref:"form",staticClass:"import-form",attrs:{model:t.model,rules:t.rules,"label-width":120},nativeOn:{submit:function(t){t.preventDefault()}}},[a("FormItem",{attrs:{label:"分组名称：",prop:"name"}},[a("Input",{staticClass:"width-430",attrs:{maxlength:"4","show-word-limit":"",placeholder:"请输入分组名称"},model:{value:t.model.name,callback:function(e){t.$set(t.model,"name",e)},expression:"model.name"}})],1)],1)],1)},n=[]},"5f66":function(t,e,a){t.exports=a.p+"static/dist/shop/img/article_cover.png"},"5f90":function(t,e,a){},6397:function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("5530")),s={props:["p_model"],data:function(){return{model:{title:"",author:"",date:"",content_origin:"",goods_ids:[],read_number_status:"",thumps_up_status:""}}},computed:{readNumber:function(){return this.model.read_number>9999?"9999+":this.model.read_number}},watch:{p_model:{handler:function(t){this.model=(0,n.default)((0,n.default)({},this.model),t)},immediate:!0,deep:!0}}};e.default=s},"64b0":function(t,e,a){},6820:function(t,e,a){"use strict";a.r(e);var i=a("a7d8"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"6da0":function(t,e,a){"use strict";a.r(e);var i=a("2e1d"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"6f9a":function(t,e,a){},7058:function(t,e,a){"use strict";a.r(e);var i=a("87d6"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"708a":function(t,e,a){},"714c":function(t,e,a){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("e9c4"),a("b0c0");var i={name:"ImportArticleModal",data:function(){return{value:!1,model:{name:""},rules:{name:[{required:!0,message:"分组名称必填"}]}}},methods:{setValue:function(){this.value=!this.value,this.value&&this.resetModel()},handleClose:function(){this.resetModel(),this.setValue()},handleOk:function(){var t=this;this.$refs["form"].validate((function(e){e&&t.addGroup()}))},addGroup:function(){var t=this,e=JSON.stringify([{name:this.model.name,status:1}]);this.$api.articleApi.saveArticleGroup({data:e}).then((function(e){0===e.error&&(t.$emit("success"),t.handleClose())}))},resetModel:function(){this.$refs.form.resetFields()}}};e.default=i},7266:function(t,e,a){},"738a":function(t,e,a){"use strict";a.r(e);var i=a("c824"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"74f1":function(t,e,a){},"77f2":function(t,e,a){"use strict";a.r(e);var i=a("c7e1"),n=a("0642");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("466a");var o=a("2877"),r=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"f118d00c",null);e["default"]=r.exports},"783c":function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"article-wrap"},[a("search-header",{ref:"search_header",attrs:{isPermPlugins:t.isPermPlugins},on:{"on-search":t.handleSearch}}),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"table-list"},[a("Table",{ref:"table",attrs:{columns:t.columns,data:t.data},scopedSlots:t._u([{key:"title",fn:function(e){var i=e.row;return[a("div",{staticClass:"title"},["1"===i.is_top?a("span",{staticClass:"title-top"},[t._v("置顶")]):t._e(),t._v(" "+t._s(i.title)+" ")])]}},{key:"status",fn:function(e){var i=e.row;return["1"===i.status?a("kdx-status-text",{attrs:{type:"success"}},[t._v(" 显示 ")]):t._e(),"0"===i.status?a("kdx-status-text",{attrs:{type:"danger"}},[t._v(" 隐藏 ")]):t._e()]}},{key:"action",fn:function(e){var i=e.row;return[a("div",{staticClass:"btn-box"},[a("Button",{attrs:{type:"text",disabled:!t.isPermPlugins},on:{click:function(e){return t.goPage("edit",i.id)}}},[t._v(" 编辑 ")]),a("Button",{attrs:{type:"text",disabled:t.noManagePerm},on:{click:function(e){return t.handleHide(i.id,i.status)}}},[t._v(" "+t._s("0"===i.status?"显示":"隐藏")+" ")]),a("Button",{attrs:{type:"text",disabled:t.noManagePerm},on:{click:function(e){return t.handleExtend(i.id)}}},[t._v(" 推广 ")]),a("Button",{attrs:{type:"text",disabled:t.noManagePerm},on:{click:function(e){return t.handleTopping(i.id,i.is_top)}}},[t._v(" "+t._s("1"===i.is_top?"取消置顶":"置顶")+" ")]),a("Button",{attrs:{type:"text",disabled:t.noViewPerm},on:{click:function(e){return t.goPage("statistics",i.id)}}},[t._v(" 统计 ")]),a("Button",{attrs:{type:"text",disabled:t.noManagePerm},on:{click:function(e){return t.handleDelete(i.id)}}},[t._v(" 删除 ")])],1)]}}])}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.data.length>0,expression:"data.length > 0"}],staticClass:"footer-page"},[a("kdx-page-component",{ref:"page",attrs:{total:t.total},on:{"on-change":t.changePage,"on-size":t.changeSize}})],1),a("article-extend",{ref:"extend",attrs:{id:t.id}})],1)],1)},n=[]},"789a":function(t,e,a){"use strict";a.r(e);var i=a("7fa6"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},7967:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("kdx-modal-frame",{attrs:{value:t.value,title:"商品选择器",width:"1000","ok-text":"保存"},on:{"on-ok":t.handleSave,"on-cancel":t.handleCancel},scopedSlots:t._u([{key:"footer",fn:function(){return[t.activity.show?a("div",{staticClass:"btn-group"},[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.activity.show=!1}}},[t._v("返回选择商品")])],1):t._e()]},proxy:!0}])},[a("div",{staticClass:"goods-preview"},[a("div",{ref:"scrollBox",staticClass:"goods-preview-content"},[t.activity.show?t._e():a("div",{staticClass:"search"},[a("Input",{staticClass:"width-250",attrs:{search:"","enter-button":"搜索",placeholder:"请输入"},on:{"on-search":t.handleSearch,"on-enter":t.handleSearch},model:{value:t.search.keywords,callback:function(e){t.$set(t.search,"keywords",e)},expression:"search.keywords"}})],1),t.activity.show?t._e():a("Table",{directives:[{name:"loading",rawName:"v-loading",value:t.table.loading,expression:"table.loading"}],ref:"table",attrs:{columns:t.columns,data:t.table.data}}),t.activity.show?a("Table",{ref:"activityTable",attrs:{columns:t.activity.columns,data:t.activity.data},scopedSlots:t._u([{key:"status",fn:function(e){var i=e.row;return[1===+i.status?a("kdx-status-text",{attrs:{type:"success"}},[t._v("进行中")]):t._e(),-1===+i.status?a("kdx-status-text",{attrs:{type:"danger"}},[t._v("已停止")]):t._e(),-2===+i.status?a("kdx-status-text",{attrs:{type:"danger"}},[t._v("手动停止")]):t._e(),0===+i.status?a("kdx-status-text",{attrs:{type:"warning"}},[t._v("未开始")]):t._e()]}},{key:"date",fn:function(e){var i=e.row;return[a("div",{staticClass:"time"},[t._v("起："+t._s(t.getTime(i.start_time)))]),a("div",{staticClass:"time"},[t._v("止："+t._s(t.getTime(i.end_time)))])]}}],null,!1,940490386)}):t._e()],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.table.total>10&&!t.activity.show,expression:"table.total > 10&&!activity.show"}],staticClass:"footer-page"},[a("kdx-page-component",{ref:"page",attrs:{total:t.table.total},on:{"on-change":t.handlePageChange}})],1)])])},n=[]},"7e33":function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("2909"));a("d3b7"),a("4d63"),a("c607"),a("ac1f"),a("2c3e"),a("25f0"),a("4de4"),a("1276"),a("d81d"),a("159b"),a("99af");var s=i(a("ceb0")),o=i(a("41421")),r=i(a("0659")),l=i(a("0d35")),c=a("d1be"),d={components:{Editor:s.default,addGroupModal:o.default,goodsSelector:r.default,CouponSelector:l.default},props:{id:{type:String,default:""},value:{type:Object,default:function(){}}},data:function(){return{plugins:"lists image media table wordcount link preview paste quickbars noneditable",model:{title:"",cover:"",digest:"",group_id:"",author:"",sort_by:"",content:[],content_origin:"",goods_ids:[],coupon_ids:[]},groupList:[],rule:{title:[{required:!0,message:"文章标题必填"},{max:64,message:"文章标题长度不能大于64位"}],cover:[{required:!0,message:"文章封面必选"}],digest:[{max:120,message:"文章简介长度不能大于120位"}],author:[{max:4,message:"作者名称长度不能大于4位"}],group_id:[{required:!0,message:"文章分组必选"}],content_origin:[{required:!0,message:"文章详情必填"}],sort_by:[{pattern:/^(0|[1-9][0-9]{0,4})$/,message:"文章排序为数字类型，最长为4位数"}]},goodsSelector:{value:!1,data:[]},couponSelector:{value:!1,data:[]}}},created:function(){this.getGroup()},watch:{value:{handler:function(t){this.model=t},immediate:!0,deep:!0},model:{handler:function(t){this.$emit("input",t)},deep:!0}},computed:{noManagePerm:function(){return!this.$getPermMap("article.group.manage")}},methods:{changeCover:function(t){this.model.cover=t},checkTitle:function(){var t={article_id:this.id,title:this.model.title};this.$api.articleApi.checkArticleTitle(t)},getGroup:function(){var t=this;this.$api.articleApi.getGroupList({status:1}).then((function(e){0===e.error&&(t.groupList=e.list)}))},addGroup:function(){this.$refs.groupModal.setValue()},handleChange:function(){var t=this,e=["goods","coupon"];e.forEach((function(e){var a=new RegExp("\x3c!-- article-item-".concat(e,".*? --\x3e")),i=t.model.content_origin.split(a).filter((function(t){return-1!==t.indexOf("\x3c!-- ".concat(e," --\x3e"))}));t.model["".concat(e,"_ids")]=i.map((function(t){var a="data-".concat(e,'-id="');return t.substring(t.indexOf(a)+a.length,t.indexOf('" data-'.concat(e,"-id-end")))})),t["".concat(e,"Selector")].data=t["".concat(e,"Selector")].data.filter((function(a){var i=!1;return t.model["".concat(e,"_ids")].forEach((function(t){t===a.id&&(i=!0)})),i})),t.model["".concat(e,"_ids")].forEach((function(a){var i=!0;t["".concat(e,"Selector")].data.forEach((function(t){a===t.id&&(i=!1)})),i&&t["".concat(e,"Selector")].data.push({id:a})}))}))},chooseGoods:function(){this.goodsSelector.value=!0},goodsClose:function(){this.goodsSelector.value=!1},changeGoodList:function(t){this.changeItem("goods",t)},chooseCoupon:function(){this.couponSelector.value=!0},couponClose:function(){this.couponSelector.value=!1},changeCouponList:function(t){this.changeItem("coupon",t)},changeItem:function(t,e){var a=this;this["".concat(t,"Selector")].data=(0,n.default)(e);var i=this.model["".concat(t,"_ids")].filter((function(t){var a=!0;return e.forEach((function(e){t===e.id&&(a=!1)})),a})),s=e.filter((function(e){var i=!0;return a.model["".concat(t,"_ids")].forEach((function(t){t===e.id&&(i=!1)})),i}));i.forEach((function(e){var i="\x3c!-- article-item-".concat(t).concat(e," --\x3e"),n="<div class='mceNonEditable'>",s=a.model.content_origin.indexOf(i),o=a.model.content_origin.indexOf(i,s+i.length);a.model.content_origin=a.model.content_origin.substring(0,s-n.length)+a.model.content_origin.substring(o+i.length+6)})),s.forEach((function(e){a.insertItem(t,e)})),this.model["".concat(t,"_ids")]=this["".concat(t,"Selector")].data.map((function(t){return t.id})),this["".concat(t,"Close")]()},insertItem:function(t,e){var a="";a="coupon"===t?"<div class='mceNonEditable'>\n                    \x3c!-- article-item-coupon".concat(e.id,' --\x3e\n                    \x3c!-- coupon --\x3e\n                    <div class="article-coupon" data-coupon-id="').concat(e.id,'" data-coupon-id-end>\n                        <div class="coupon-tag">').concat(this.couponTag(e),'</div>\n                        <div class="coupon-price">\n                            <span style="display: ').concat("1"===e.coupon_sale_type?"inline":"none",'" class="span">￥</span>').concat(e.discount_price,'<span style="display: ').concat("2"===e.coupon_sale_type?"inline":"none",'" class="span">折</span>\n                        </div>\n                        <div class="coupon-content">\n                            <div class="coupon-title">').concat(e.content,"</div>\n                            <div>").concat(this.couponTimeLimit(e),'</div>\n                        </div>\n                        <div class="coupon-btn">立即领取</div>\n                    </div>\n                    \x3c!-- article-item-coupon').concat(e.id," --\x3e\n                </div>\n                <br>"):"<div class='mceNonEditable'>\n                    \x3c!-- article-item-goods".concat(e.id,' --\x3e\n                    \x3c!-- goods --\x3e\n                    <div class="article-goods" data-goods-id="').concat(e.id,'" data-goods-id-end>\n                        <img class="goods-thumb" src="').concat(this.$media(e.thumb),'" />\n                        <div class="goods-r">\n                            <div class="goods-title">').concat(e.title,'</div>\n                            <div class="goods-b">\n                                <div class="price">').concat(this.goodsPrice(e),'</div>\n                                <div>\n                                    去购买\n                                    <i class="iconfont-m- icon-m-right"> </i>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    \x3c!-- article-item-goods').concat(e.id," --\x3e\n                </div>\n                <br>"),console.log(a),this.$refs.editor.insertHtml(a)},goodsPrice:function(t){var e="￥".concat(t.price);return"1"===t.has_option&&(e="￥".concat(t.min_price," ~ ￥").concat(t.max_price)),e},couponTag:function(){var t="店铺优惠券";return t},couponTimeLimit:function(t){var e="";return e="1"===t.time_limit?"0"===t.limit_day?"无限制":"领取".concat(t.limit_day,"日之内支持使用"):"".concat((0,c.formatDate)(new Date(t.start_time),"yyyy/MM/dd"),"~").concat((0,c.formatDate)(new Date(t.end_time),"yyyy/MM/dd")),e},validateForm:function(){var t=this;return new Promise((function(e,a){t.$refs.form.validate((function(t){t?e():a()}))}))}}};e.default=d},"7e4b":function(t,e,a){"use strict";a.r(e);var i=a("0070"),n=a("5b6d");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("9b59"),a("f8b2");var o=a("2877"),r=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"492f556e",null);e["default"]=r.exports},"7fa6":function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("a9e3"),a("d3b7"),a("159b"),a("caad"),a("ac1f"),a("1276"),a("ace4"),a("5cc6"),a("907a"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d61"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("72f7");var n=i(a("c4a7")),s=a("c15a"),o=a("3b02"),r={props:{id:{type:[Number,String],required:!0}},data:function(){return{showModal:!1,oldId:"",tab:{list:[{id:"wxapp",name:"微信小程序"},{id:"wechat",name:"微信公众号"},{id:"h5",name:"手机浏览器H5"},{id:"toutiao",name:"头条小程序"},{id:"douyin",name:"抖音小程序"}],select:"wxapp",selectData:null,data:null},loading:!1}},methods:{getVerifyQrcode:function(){var t=this;this.loading=!0,this.$api.articleApi.promoteArticle({id:this.id}).then((function(e){0===e.error&&(t.tab.data={},t.tab.select="",t.tab.list.forEach((function(a){["h5"].includes(a.id)?t.tab.data[a.id]={image:t.markQrcode(e.data[a.id].url),url:e.data[a.id].url}:["wechat"].includes(a.id)?t.tab.data[a.id]={image:t.markQrcode(e.data[a.id].qrcode),url:e.data[a.id].qrcode}:t.tab.data[a.id]={image:e.data[a.id].qrcode,url:"/pagesArticle/detail/index?id=".concat(t.id)},!t.tab.data[a.id].image&&(t.tab.data[a.id]=null),!t.tab.select&&t.tab.data[a.id]&&(t.tab.select=a.id,t.tab.selectData=a)})),console.log("tab-data",t.tab.data))})).finally((function(){t.loading=!1}))},setValue:function(){this.showModal=!this.showModal,this.showModal&&this.oldId!==this.id&&this.getVerifyQrcode(),this.oldId=this.id},chooseChannel:function(t){this.tab.select=t.id,this.tab.selectData=t},handleCancel:function(){this.showModal=!1},markQrcode:function(t){return t?new n.default({element:this.$refs.qrcode,value:t,size:180}).toDataURL():""},downLoadQrcode:function(){"h5"!==this.tab.select&&"wechat"!==this.tab.select?(0,o.Export)(s.articleApi.downloadImageArticle.api,{url:this.tab.data[this.tab.select].image}):this.downloadFile("",this.tab.data[this.tab.select].image)},downloadFile:function(t,e){console.log("file-name",t,e);var a=document.createElement("a");a.download="",a.href=e,a.click()},base64ToBlob:function(t){for(var e=t.split(";base64,"),a=e[0].split(":")[1],i=window.atob(e[1]),n=i.length,s=new Uint8Array(n),o=0;o<n;++o)s[o]=i.charCodeAt(o);return new Blob([s],{type:a})}}};e.default=r},"8515c":function(t,e,a){"use strict";a("1edc")},8608:function(t,e,a){},"87d6":function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("5530")),s=i(a("ada8")),o={components:{ImportArticleModal:s.default},props:{isPermPlugins:{type:Boolean,default:!1}},created:function(){this.getGroup()},data:function(){return{show:!1,model:{title:"",start_time:"",end_time:"",status:"all",group_id:"0"},date:[],statusList:[{value:"all",label:"全部"},{value:"1",label:"显示"},{value:"0",label:"隐藏"}],groupList:[]}},computed:{noManagePerm:function(){return!this.$getPermMap("article.article.manage")}},methods:{getGroup:function(){var t=this;this.$api.articleApi.getGroupList().then((function(e){0===e.error&&(t.groupList=e.list)}))},importArticle:function(){this.$refs.modal.setValue()},addArticle:function(){this.$router.push({path:"/plugins/market/article/article/add",query:{}})},changeDate:function(t){this.model.start_time=t[0],this.model.end_time=t[1]},handleSearch:function(){var t=(0,n.default)({},this.model);"all"===this.model.status&&(t=(0,n.default)((0,n.default)({},t),{},{status:""})),"0"===this.model.group_id&&(t=(0,n.default)((0,n.default)({},t),{},{group_id:""})),this.$emit("on-search",t)},handleReset:function(){this.reset(),this.handleSearch()},reset:function(){this.model={title:"",status:"all",start_time:"",end_time:"",group_id:"0"},this.date=[]}}};e.default=o},8857:function(t,e,a){"use strict";a("c903")},"8be4":function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("kdx-modal-frame",{attrs:{title:"微信文章导入",width:700},on:{"on-cancel":t.handleClose,"on-ok":t.handleOk},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[a("Form",{ref:"form",staticClass:"import-form",attrs:{model:t.model,rules:t.rules,"label-width":120},nativeOn:{submit:function(t){t.preventDefault()}}},[a("FormItem",{attrs:{label:"选择链接：",prop:"link"}},[a("Input",{staticClass:"width-430",attrs:{placeholder:"请输入"},model:{value:t.model.link,callback:function(e){t.$set(t.model,"link",e)},expression:"model.link"}}),a("kdx-hint-text",[t._v("请输入相应微信公众号文章链接，其他非文章链接不支持导入")])],1)],1)],1)},n=[]},"8d78":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAYAAABxLuKEAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAZGSURBVHgB7ZzPbxtFFMe/M7trx3bi2gqUirqiB05FQiAkqvRULm3/AAgH4IKIuFWiwJlwpvwQnFARSBzDP4B6oaeGHhAgEU6caCtVgcSOncQ/9sdjZhyncfxzdr3jdcRHShx712vPN++9mfdmZhkMQquXbeSbDuxA/DgWmHiUcMvqOjHwffBUAHefEDAXHndRTbts9Y4HQzDECJG4/s3ns8jMzYGREGMu2ud5DXHFdBMNv4HSeostw0dMxCIMrV5I4Yn5BTjpFOLEpwY27bqwpAYmzESFobWlDLbYQo9rxI10vTrV2I31OibERIRRFvJUoWBckONMUKBIwtAaLGy+XIjdZXTZr9Vx9rdalBgUWhj65EoO2fJC5IAaF9wJUKtXw1qPdqNUT/PVxQWkUznMAs3WHrt+rwpNtIRRrlO+XBTdgYOZwnJRvFPWca2xhVGibF1anHqADYsMzIt3t8YVZyxhZl6UDhrijBTmxIjSYUxxOEYhY8pJEUUi2yLapDqRYacNO0hfXswbDbS+nRdfd0UEy8/BxP80vg9yVM86hIGqqeF92S7AKPxb8eva4VOGW6DgI8RFNVNlH97e63eor8WouPKPdwrmudb1jKT1sPcRFwVvXrW1D/1d6eEL5ke0tnCjfkhx/AHHohK4XKU0fegRRrlQdiED0zTpXN/XGcuDB68jLkSeR2sXenK9XouRZYNpYPuDXZdhCXGyVeixmi5hlLVMrWvmV4ccfA6xfrRl0WdLXV7SbTHTshYJHQu8psl0t/1QGFo9Pzc1a2G4JH6fG3LGsGOTQVrNkVjz2GJOl8wH3A7Eb4w44z5MsDl/aDVKGNWXW2wO06A9wr004iztekooZA91kCocWMzSdEqTgXARGmMAR2RGGMnNK1n50BbmX2s61sL5xxgrfrA/YIpMRWnRFoaaaRjHkpYybk/0AKZIz9vywaavXxLZs+mCthSFNHIgMmcxIk2gny7bHNVFw/FFVxQBo3WY5NemYyO9I8YuhrRhIqYQrWi9h4Qopido7EAIwylUIapSrq6AvHcGHRdt2bHt1Hu5/PxG+8Osq/A0RWlfSKQD/J7GG3bAgm+EoGsIi+1Ytkq9oR97ibwV0fjSwOOit/E9T7rM2+oFPzgVbn6PyZKDRtmB5BDgC/EF7od2QRY4HE4mNkP14U+j2NWGjRw0DoWfqEL3UYiFHxQKTUbPEgyAMfY3Eo0fKb8KLwyYuWF6GAJMRxhhq8kWxmIbiABXM3Mnj0iiSE3CWwwzVCMJA0UUhjcDLopELkJAlOQYQ3cRBSslhPHcUK7EuRhhJpUgiGYx+4HHcSacxSQWWdSKGHjlgmuOcivUamsyWSPRgbFobiR5Me1y9u4vrlpxrYnNrGS6EiFaiYI7AXvljndQwWPa7iRGzckMvoEfzWLcVks+tIWpFya+5HwqyIw6anyR+xTQEWbvtvZa2Ewuk8RxTPRKX6n02GLYqsgs3GYLM0/E8YtPDbb8gxq+HJmJ3K1Bk8T1TBSxNuw92u/8eSgMW/6zNeN504ZoTXj39n2fXf+r2XnanSstkpbVJKsmQz8iCo3utncJw5bX6zpWk6iajB+EF0Zay7HNGL3Z9WKlgrHRqMlYPM4B4UakbrrR6yk9wqhYE0sPxdbVOCMOiG4hNOn9flt3+tdjTj9TGSdNYJwP7R45jmTgnlcFBa+q+Z6JCkSfimmScHNIso3F4m6/Q4MXQH9/JYd6ffR8jl/PVxtu32mSfC4/WIBgQqukovREe15l0EavoXNKasn8rGzY0iXX2mNvDt7gNby0uX1vF81dY5vAzWG5w0SRDBVGpQpnnt0+UQVz2Zbik+VRp425kes1C1sPT8hGrrNbnXxoGBpb/2ZcHA1RJGNPn6gLigvPZsyxXB1RJKFWOsxUbyV6H7zxc03kdVrl2/Ab0uW+A7mnKakb0uXgLV+ssbf6b9QaRcRbGIi4Uy7PA80skoTlNZEv7ei4znEmc9OLad0F5DgqwFYqKt+LyP+3SRlAPDfW+e78HOqlTOz7E5TL7OxOwkKOE++tmGQMwoOUWpIvV59P4lZMabuF8l4TH/y+r9vT6GC0R1Gr0IspG48KDrIVG36Lw8kyuLC7TnTQHis1yIO74OPpiovtlqdmTQ3xH99ebaOZ/EJEAAAAAElFTkSuQmCC"},"8dbd":function(t,e,a){"use strict";a.r(e);var i=a("ec8a"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"903a":function(t,e,a){"use strict";a.r(e);var i=a("9630"),n=a("94c9");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("335f4");var o=a("2877"),r=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"5366e238",null);e["default"]=r.exports},9151:function(t,e,a){"use strict";a.r(e);var i=a("ddea"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},9161:function(t,e,a){"use strict";a("06c6")},"94c9":function(t,e,a){"use strict";a.r(e);var i=a("2c28"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},9630:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"statistics"},[a("div",{staticClass:"statistics-header"},[a("kdx-form-title",[t._v("文章信息")]),a("div",{staticClass:"artic-info"},[a("div",{staticClass:"item item-title"},[a("div",{staticClass:"title"},[t._v("文章名称：")]),a("div",[t._v(t._s(t.info.title))])]),a("div",{staticClass:"item"},[t._v("发布时间："+t._s(t.info.created_at))]),a("div",{staticClass:"item"},[t._v("发布人："+t._s(t.info.publisher))])])],1),a("div",{staticClass:"article-overview-box"},[a("div",{staticClass:"overview-title"},[t._v("文章数据")]),a("data-card",{attrs:{"tmp-list":t.overview.tempList,data:t.overview.data}})],1),a("div",{staticClass:"table-content"},[a("div",{staticClass:"tab"},[a("ul",t._l(t.tabList,(function(e){return a("li",{key:e.id,class:{"tab-active":t.type===e.id},on:{click:function(a){return t.selectTab(e.id)}}},[a("div",{staticClass:"name"},[t._v(t._s(e.name))]),a("div",{staticClass:"line"})])})),0)]),a("div",{staticClass:"table-list"},[a("div",{directives:[{name:"show",rawName:"v-show",value:"1"===t.type,expression:"type === '1'"},{name:"loading",rawName:"v-loading",value:t.tabList[0].loading,expression:"tabList[0].loading"}]},[a("Table",{attrs:{columns:t.goodsColumns,data:t.tableData},scopedSlots:t._u([{key:"price",fn:function(e){var i=e.row;return[a("div",[t._v("￥"+t._s(i.price))])]}}])})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"2"===t.type,expression:"type === '2'"},{name:"loading",rawName:"v-loading",value:t.tabList[1].loading,expression:"tabList[1].loading"}]},[a("Table",{attrs:{columns:t.couponColumns,data:t.tableData},scopedSlots:t._u([{key:"nickname",fn:function(e){var i=e.row;return[a("div",{staticClass:"vip-message"},[a("div",[t._v(t._s(i.nickname))]),a("div",[t._v(t._s(i.mobile))])])]}},{key:"status",fn:function(e){var i=e.row;return[a("div",{staticClass:"use-status"},["0"==i.status?a("span",{staticClass:"unused"},[t._v("未使用")]):t._e(),"1"==i.status?a("span",{staticClass:"be-used"},[t._v("已使用")]):t._e()])]}}])}),t.total>t.pageSize?a("div",{staticClass:"footer-page"},[a("kdx-page-component",{ref:"page",attrs:{current:t.page,pageSize:t.pageSize,total:t.total},on:{"on-change":t.changePage,"on-size":t.changeSize}})],1):t._e()],1)])])])},n=[]},"9b59":function(t,e,a){"use strict";a("3159")},"9d575":function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("kdx-modal-frame",{attrs:{title:"文章推广",loading:t.loading},on:{"on-cancel":t.handleCancel},scopedSlots:t._u([{key:"footer",fn:function(){return[a("Button",{staticClass:"primary-long",on:{click:t.handleCancel}},[t._v("关闭")])]},proxy:!0}]),model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[a("div",{staticClass:"modal-frame-content"},[a("div",{staticClass:"tag-label flex"},[t._l(t.tab.list,(function(e){return[t.tab.data&&t.tab.data[e.id]?a("div",{key:e.id,on:{click:function(a){return t.chooseChannel(e)}}},[a("kdx-tag-label",{class:{active:e.id===t.tab.select}},[t._v(t._s(e.name))])],1):t._e()]}))],2),t.tab.select&&t.tab.data&&t.tab.data[t.tab.select]?[a("div",{staticClass:"qrcode-img"},[a("img",{attrs:{src:t.tab.data[t.tab.select].image,alt:""}})]),a("div",{staticClass:"channel-title"},[t._v(t._s(t.tab.selectData.name))]),a("div",[a("Button",{staticClass:"marginR-10",attrs:{type:"text"},on:{click:t.downLoadQrcode}},[t._v("下载二维码")]),a("kdx-copy-text",{attrs:{text:t.tab.data[t.tab.select].url}},[a("Button",{attrs:{type:"text"}},[t._v("复制路径")])],1)],1),a("kdx-hint-text",[t._v("二维码有效期默认30天")])]:t._e()],2)])},n=[]},"9dd9":function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"select-good"},[t.draggable?a("i",{staticClass:"iconfont icon-move move-icon"}):t._e(),a("div",{staticClass:"select-item"},[a("AddImgImg",{attrs:{value:t.item[t.url]},on:{getImgInfo:t.getImgInfo,change:t.changeImg}}),a("div",{staticClass:"body"},[a("SelectLink",{staticStyle:{"margin-bottom":"10px"},attrs:{"tab-name":t.tabName,value:{url:t.item[t.link],name:t.item[t.link+"_name"],wxappid:t.item[t.wxappid]}},on:{change:t.changeLink}}),a("span",{staticClass:"tip"},[t._v(t._s(t.tip))])],1),t.nodel?t._e():a("span",{staticClass:"close ivu-icon ivu-icon-md-close-circle",on:{click:t.delItem}})],1)])},n=[]},a4e4:function(t,e,a){"use strict";a.r(e);var i=a("1589"),n=a("d13e");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("8857");var o=a("2877"),r=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"1e2d8bb6",null);e["default"]=r.exports},a7d8:function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("2909")),s=i(a("5530")),o=i(a("b85c"));a("a9e3"),a("4de4"),a("d3b7"),a("159b"),a("ac1f"),a("841c");var r={name:"CouponSelector",props:{value:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},current:{type:[String,Object]},currentList:{type:Array},limit:{type:Number},pick_way:{type:[String,Number],default:""},params:{type:Object,default:function(){}}},data:function(){var t=this;this.$createElement;return{search:{keyword:"",coupon_sale_type:""},columns:[{title:"类型",key:"coupon_sale_type",width:80,render:function(t,e){return"2"===e.row.coupon_sale_type?t("div",{class:"coupons-type coupons-type-blue"},[t("span",["折"]),t("img",{class:"coupons-img",attrs:{src:a("e7cd")}})]):t("div",{class:"coupons-type coupons-type-yellow"},[t("span",["减"]),t("img",{class:"coupons-img",attrs:{src:a("626b")}})])}},{title:"名称",key:"coupon_name"},{title:"优惠内容",key:"content"},{title:"剩余数量",key:"surplus",render:function(t,e){return"0"==e.row.stock_type?t("div",["不限制"]):t("div",[e.row[e.column.key]])}},{title:"创建时间",key:"created_at",render:function(t,e){return t("div",{style:"word-break: normal"},[e.row[e.column.key]])}},{title:" ",key:"action",width:100,render:function(e,a){return e("div",{class:"action"},[e("Button",{class:"default-primary",attrs:{disabled:1===a.row.is_select},style:{display:a.row.checked?"none":"block"},on:{click:function(){t.setChecked(a.index,!0)}}},["选择"]),e("Button",{attrs:{type:"primary"},style:{display:a.row.checked?"block":"none"},on:{click:function(){t.setChecked(a.index,!1)}}},["已选"])])}}],data:[],total:0,page:{pageSize:10,pageNumber:1},loading:!1,selectRows:[],selectRow:{}}},methods:{handleSearch:function(){this.resetPage(),this.getCouponList()},handlePageChange:function(t){this.page=t,this.getCouponList();try{this.$refs.scrollBox.scrollTop=0}catch(e){console.log(e)}},resetPage:function(){var t;this.page={pageSize:10,pageNumber:1},null===(t=this.$refs["page"])||void 0===t||t.reset()},setChecked:function(t,e){var a=this;if(this.multiple){if(this.limit&&this.selectRows.length===this.limit&&e)return void this.$Message.error("已超出最大可选数量");this.$set(this.data[t],"checked",e),0===this.selectRows.length||e?this.selectRows.push(this.data[t]):this.selectRows=this.selectRows.filter((function(e){return e.id!==a.data[t].id}))}else e?(this.data.forEach((function(t,e){a.$set(a.data[e],"checked",!1)})),this.$set(this.data[t],"checked",!0),this.selectRow=this.data[t]):(this.$set(this.data[t],"checked",!1),this.selectRow={})},defaultChecked:function(){var t=this;this.multiple?this.data.forEach((function(e,a){var i,n=(0,o.default)(t.selectRows);try{for(n.s();!(i=n.n()).done;){var s=i.value;if(s.id===e.id){t.$set(t.data[a],"checked",!0);break}}}catch(r){n.e(r)}finally{n.f()}})):this.data.forEach((function(e,a){t.selectRow&&e.id===t.selectRow.id?t.$set(t.data[a],"checked",!0):t.$set(t.data[a],"checked",!1)}))},getCouponList:function(){var t=this;this.loading=!0;var e=Object.assign({},this.search,{pick_way:this.pick_way});e.coupon_sale_type="all"===e.coupon_sale_type?"":e.coupon_sale_type;var a=Object.assign((0,s.default)({pagesize:this.page.pageSize,page:this.page.pageNumber},this.params),e);this.$api.marketApi.getCouponAllList(a).then((function(e){t.loading=!1,0===e.error&&(t.data=e.list,t.total=e.total,t.defaultChecked())}))},handleSave:function(){this.multiple?this.$emit("on-change",this.selectRows):this.$emit("on-change",this.selectRow),this.handleCancel()},handleCancel:function(){this.$emit("on-cancel")},resetSearch:function(){this.search={keyword:"",coupon_sale_type:"all"}}},watch:{value:{handler:function(t){t&&(this.multiple?this.selectRows=(0,n.default)(this.currentList)||[]:this.selectRow=this.current||{},this.resetSearch(),this.resetPage(),this.getCouponList())},immediate:!0}},mounted:function(){this.resetSearch()}};e.default=r},a896:function(t,e,a){t.exports=a.p+"static/dist/shop/img/article_small.png"},ac3b:function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("a434"),a("d81d"),a("d3b7"),a("159b"),a("e9c4"),a("a9e3");var n=i(a("aa47")),s=i(a("41421")),o={components:{addGroupModal:s.default},data:function(){return{loading:!1,list:[]}},mounted:function(){var t=this;this.getGroupList().then((function(){t.list.length&&t.initSortable()}))},computed:{noManagePerm:function(){return!this.$getPermMap("article.group.manage")}},methods:{addGroup:function(){this.$refs.groupModal.setValue()},initSortable:function(){var t=this;this.$nextTick((function(){var e=t.$refs["draggle"];new n.default(e,{handle:".icon",dataIdAttr:"data-id",onEnd:t.endSortable,animation:150,ghostClass:"blue-background-class"})}))},endSortable:function(t){var e=this.list[t.oldIndex];this.list.splice(t.oldIndex,1),this.list.splice(t.newIndex,0,e);var a=this.list.map((function(t,e){return e})).reverse();this.list.forEach((function(t,e){t.sort_by=a[e]}))},handleSave:function(){var t=this,e=JSON.stringify(this.list);this.$api.articleApi.saveArticleGroup({data:e}).then((function(e){0===e.error&&(t.$Message.success("操作成功"),t.getGroupList())}))},getGroupList:function(){var t=this;return this.loading=!0,this.$api.articleApi.getGroupList({get_article_count:1}).then((function(e){0===e.error&&(t.list=e.list)})).finally((function(){t.loading=!1}))},handleHide:function(t,e){var a=this,i="确认显示该分组吗？";console.log(e),"1"==e&&(i="确认隐藏该分组吗？"),this.$Modal.confirm({title:"提示",content:i,onOk:function(){a.changeStatus(t,e)},onCancel:function(){}})},changeStatus:function(t,e){var a=this,i=Number(!Number(e));this.$api.articleApi.changeHideArticleGroup({id:t,status:i}).then((function(t){0===t.error&&(a.$Message.success("操作成功"),a.getGroupList())}))},handleDelete:function(t){var e=this;this.$Modal.confirm({title:"提示",content:"确认删除该分组吗？",onOk:function(){e.deleteGroup(t)},onCancel:function(){}})},deleteGroup:function(t){var e=this;this.$api.articleApi.deleteArticleGroup({id:t}).then((function(t){0===t.error&&(e.$Message.success("操作成功"),e.getGroupList())}))},refreshTable:function(){this.getGroupList()}}};e.default=o},ac8a:function(t,e,a){"use strict";a.r(e);var i=a("354e"),n=a("11cd");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("1bf3");var o=a("2877"),r=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"3794769e",null);e["default"]=r.exports},ada8:function(t,e,a){"use strict";a.r(e);var i=a("8be4"),n=a("738a");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("0b28");var o=a("2877"),r=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"2e33287b",null);e["default"]=r.exports},b0907:function(t,e,a){"use strict";a.r(e);var i=a("9d575"),n=a("789a");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("3a6e");var o=a("2877"),r=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"d44d483a",null);e["default"]=r.exports},b09b:function(t,e,a){"use strict";a("5f90")},b51b:function(t,e){t.exports="data:image/png;base64,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"},b96a:function(t,e,a){"use strict";a.r(e);var i=a("783c"),n=a("3502");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("8515c");var o=a("2877"),r=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"ba04b4d0",null);e["default"]=r.exports},bac0:function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("ac1f"),a("841c"),a("d3b7"),a("a9e3");var n=i(a("5530")),s=i(a("eb77")),o=i(a("b0907")),r=i(a("eb3e")),l={mixins:[r.default],components:{SearchHeader:s.default,ArticleExtend:o.default},data:function(){return{loading:!1,id:0,page:{pageSize:10,pageNumber:1},search:{title:"",status:"",group_id:"",start_time:"",end_time:""},columns:[{title:"排序",key:"sort_by",width:70},{title:"文章标题",slot:"title",maxWidth:400,minWidth:220},{title:"阅读数",key:"read_number_real",maxWidth:200,minWidth:85},{title:"点赞数",key:"thumps_up_number_real",maxWidth:200,minWidth:85},{title:"转发数",key:"share_number_real",maxWidth:200,minWidth:85},{title:"分组",key:"group_name",minWidth:85},{title:"发布人",key:"publisher",minWidth:85},{title:"发布时间",key:"created_at",minWidth:170},{title:"状态",slot:"status",maxWidth:70,minWidth:60},{title:"操作",slot:"action",maxWidth:280,minWidth:140}],data:[{id:0,title:111,status:"1",stop_time:11,top:1}],total:0}},created:function(){this.getArticleList()},computed:{noManagePerm:function(){return!this.$getPermMap("article.article.manage")},noViewPerm:function(){return!this.$getPermMap("article.article.view")}},methods:{getArticleList:function(){var t=this;this.loading=!0;var e=(0,n.default)((0,n.default)({},this.search),{},{pagesize:this.page.pageSize,page:this.page.pageNumber});this.$api.articleApi.getArticleList(e).then((function(e){0===e.error&&(t.data=e.list,t.total=e.total)})).finally((function(){t.loading=!1}))},handleSearch:function(t){this.search=(0,n.default)((0,n.default)({},this.search),t),this.refreshTable()},changePage:function(t){this.page=t,this.getArticleList()},changeSize:function(t){this.page=1,this.pageSize=t,this.getArticleList()},goPage:function(t,e){var a="/plugins/market/article/article/statistics";if("edit"===t){if(!this.isPermPlugins)return;a="/plugins/market/article/article/edit"}this.$router.push({path:a,query:{id:e}})},handleHide:function(t,e){var a=this,i="确认显示该篇文章吗？";"1"==e&&(i="确认隐藏该篇文章吗？"),this.$Modal.confirm({title:"提示",content:i,onOk:function(){a.changeStatus(t,e)},onCancel:function(){}})},changeStatus:function(t,e){var a=this,i=Number(!Number(e));this.$api.articleApi.changeHideArticle({id:t,status:i}).then((function(t){0===t.error&&a.getArticleList()}))},handleExtend:function(t){var e=this;this.id=t,this.$nextTick((function(){e.$refs.extend.setValue()}))},handleTopping:function(t,e){var a=this,i=Number(!Number(e));this.$api.articleApi.changeToppingArticle({id:t,is_top:i}).then((function(t){0===t.error&&(a.refreshTable(),a.$Message.success("操作成功"))}))},handleDelete:function(t){var e=this;this.$Modal.confirm({title:"提示",content:"确认删除该篇文章吗？",onOk:function(){e.deleteArticle(t)},onCancel:function(){}})},deleteArticle:function(t){var e=this;this.$api.articleApi.deleteArticle({id:t}).then((function(t){0===t.error&&(e.refreshTable(),e.$Message.success("操作成功"))}))},refreshTable:function(){this.page={pageSize:10,pageNumber:1},this.$refs["page"].reset(),this.getArticleList()}}};e.default=l},bb30:function(t,e,a){"use strict";a.r(e);var i=a("cd3b"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},bd51:function(t,e,a){"use strict";a.r(e);var i=a("d1cb"),n=a("8dbd");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("d9a6");var o=a("2877"),r=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"47465a7d",null);e["default"]=r.exports},bd67:function(t,e,a){"use strict";a("6f9a")},bf7a:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"left"},[a("div",{staticClass:"preview-title"},[t._v("文章预览")]),a("div",{staticClass:"preview-box"},[t._m(0),a("div",{staticClass:"preview-content"},[a("div",{staticClass:"article-title"},[a("span",{staticClass:"topping"},[t._v("置顶")]),t._v(" "+t._s(t.model.title||"此处是文章标题")+" ")]),a("div",{staticClass:"article-info"},[a("span",{staticClass:"author"},[t._v(t._s(t.model.author))]),a("span",{staticClass:"date"},[t._v(t._s(t.model.date||"2020-07-12 12:00:00"))])]),a("div",{staticClass:"article-content",domProps:{innerHTML:t._s(t.model.content_origin)}}),1==t.model.read_number_status?a("div",{staticClass:"article-read"},[t._v("阅读数：9999+")]):t._e()]),a("div",{staticClass:"btn-group"},[a("div",[t.model.goods_ids.length?a("div",{staticClass:"btn btn-l"},[a("span",[a("span",{staticClass:"badge"},[t._v(t._s(t.model.goods_ids.length))]),a("i",{staticClass:"icon iconfont-m- icon-m-quanbushangpin2"})])]):t._e()]),a("div",{staticClass:"btn btn-r"},[1==t.model.thumps_up_status?a("span",{staticClass:"read"},[a("i",{staticClass:"icon iconfont-m- icon-m-dianzan"}),t._v(" 9999+ ")]):t._e(),t._m(1)])])])])},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"preview-top"},[i("div",[t._v("文章详情")]),i("img",{attrs:{src:a("b51b"),alt:""}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"thumps"},[a("i",{staticClass:"icon iconfont-m- icon-m-zhuanfa"}),t._v(" 9999+ ")])}]},c405:function(t,e,a){"use strict";a("708a")},c503:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"DataCard",props:{tmpList:{type:Array,default:function(){return[]}},data:{type:Object,default:function(){}},type:{type:String,default:""},params:{type:Object,default:function(){}}},methods:{skipToOtherPage:function(t){"credit_wait_order"===t.key&&this.$router.push({path:"/order/list/send",query:{activity_type:"5"}})}}};e.default=a},c7e1:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("kdx-content-bar",{scopedSlots:t._u([{key:"btn",fn:function(){return[a("div",{staticClass:"btn-bottom"},[a("Button",{staticClass:"primary-long",attrs:{disabled:t.noManagePerm},on:{click:t.handleSave}},[t._v("保存")])],1)]},proxy:!0}])},[a("div",{staticClass:"good-classification"},[a("div",{staticClass:"header"},[a("Button",{attrs:{type:"primary",disabled:t.noManagePerm},on:{click:t.addGroup}},[t._v("+添加分组")])],1),a("div",{staticClass:"header-space"}),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"content"},[a("div",{staticClass:"table-header"},[a("div",{staticClass:"name"},[t._v("分组名称")]),a("div",{staticClass:"count"},[t._v("专题文章数量")]),a("div",{staticClass:"status"},[t._v("状态")]),a("div",{staticClass:"action"},[t._v("操作")])]),t.list.length>0?a("div",[a("div",{staticClass:"grag-sort-list"},[a("div",{ref:"draggle"},t._l(t.list,(function(e){return a("div",{key:e.id},[a("div",{staticClass:"table-content"},[a("div",{staticClass:"icon"},[a("Icon",{attrs:{type:"md-menu"}})],1),a("div",{staticClass:"name"},[t._v(t._s(e.name))]),a("div",{staticClass:"count"},[t._v(t._s(e.article_count))]),a("div",{staticClass:"status"},[a("span",{class:{show:1==e.status,hide:1!=e.status}},[t._v(t._s(1==e.status?"显示":"隐藏"))])]),a("div",{staticClass:"action"},[a("Button",{attrs:{type:"text",disabled:t.noManagePerm},on:{click:function(a){return t.handleHide(e.id,e.status)}}},[t._v(t._s(1==e.status?"隐藏":"显示"))]),a("Button",{attrs:{type:"text",disabled:t.noManagePerm},on:{click:function(a){return t.handleDelete(e.id)}}},[t._v("删除")])],1)])])})),0)])]):a("div",[a("div",{staticStyle:{"text-align":"center"}},[t._v(" 暂无数据 ")])])])]),a("add-group-modal",{ref:"groupModal",on:{success:t.getGroupList}})],1)},n=[]},c824:function(t,e,a){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("d3b7"),a("9911");var i={name:"ImportArticleModal",data:function(){return{value:!1,model:{link:""},rules:{link:[{required:!0,message:"链接必填"}]}}},methods:{setValue:function(){this.value=!this.value,this.value&&this.resetModel()},handleClose:function(){this.resetModel(),this.setValue()},handleOk:function(){var t=this;this.$refs["form"].validate((function(e){e&&t.importArtcle()}))},importArtcle:function(){var t=this;this.$api.articleApi.wxArticle({url:this.model.link}).then((function(e){0===e.error&&t.$router.push({path:"/plugins/market/article/article/add",query:{data:e.data}})})).finally((function(){t.setValue()}))},resetModel:function(){this.$refs.form.resetFields()}}};e.default=i},c833:function(t,e,a){"use strict";a.r(e);var i=a("9dd9"),n=a("9151");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("bd67");var o=a("2877"),r=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"bc8d81c2",null);e["default"]=r.exports},c903:function(t,e,a){},cd0e:function(t,e,a){"use strict";a.r(e);var i=a("2115"),n=a("1a73");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("f9ff");var o=a("2877"),r=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"bde92490",null);e["default"]=r.exports},cd3b:function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("53ca"));a("d81d");var s=i(a("b76a")),o={components:{draggable:s.default},props:{list:{type:Array,default:function(){return[{}]}},delabled:{type:Boolean,default:!0},allowAllDel:{type:Boolean,default:!1}},data:function(){return{lazyLoad:!1,newList:[],key:(new Date).getTime()}},mounted:function(){this.toggle(!0)},beforeDestroy:function(){this.toggle(!1)},actived:function(){this.toggle(!0)},deactivated:function(){this.toggle(!1)},watch:{list:{immediate:!0,handler:function(){this.newList=this.list.map((function(t){return"object"!=(0,n.default)(t)||t._sortId||(t._sortId=(new Date).getTime()+"_"+Math.random()),t}))}}},methods:{toggle:function(t){var e=this;setTimeout((function(){e.$nextTick((function(){e.lazyLoad=t}))}),100)},delItem:function(t,e){this.$emit("delItem",t,e)},drag:function(){this.$emit("end",this.newList)}}};e.default=o},d077:function(t,e,a){t.exports=a.p+"static/dist/shop/img/article_waterfall.png"},d13e:function(t,e,a){"use strict";a.r(e);var i=a("495b"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},d1cb:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Form",{ref:"form",attrs:{model:t.model,"label-width":120,rules:t.rule},nativeOn:{submit:function(t){t.preventDefault()}}},[a("kdx-form-title",[t._v("规则设置")]),a("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"阅读数量：",prop:"read_number_status"}},[a("RadioGroup",{staticClass:"radio-box",model:{value:t.model.read_number_status,callback:function(e){t.$set(t.model,"read_number_status",e)},expression:"model.read_number_status"}},[a("Radio",{attrs:{label:"1"}},[t._v("展示")]),a("Radio",{attrs:{label:"0"}},[t._v("隐藏")])],1),1==t.model.read_number_status?a("div",{staticClass:"nest-box"},[a("FormItem",{attrs:{label:"初始阅读量：",prop:"read_number_init"}},[a("kdx-rr-input",{staticClass:"width-340 ",attrs:{placeholder:"请输入",number:"",fixed:0,"min-value":0,"max-value":999999999},model:{value:t.model.read_number_init,callback:function(e){t.$set(t.model,"read_number_init",t._n(e))},expression:"model.read_number_init"}})],1),a("FormItem",{attrs:{label:"阅读数量：",prop:"read_number_step"}},[a("kdx-rr-input",{staticClass:"width-340 ",attrs:{placeholder:"请输入",number:"",fixed:0,"min-value":1,"max-value":100},model:{value:t.model.read_number_step,callback:function(e){t.$set(t.model,"read_number_step",t._n(e))},expression:"model.read_number_step"}}),a("kdx-hint-text",[t._v("阅读者每阅读一次，记录的阅读次数，输入框输入最大值，根据设置的最大值随机新增")])],1)],1):t._e()],1),a("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"点赞数：",prop:"thumps_up_status"}},[a("RadioGroup",{staticClass:"radio-box",model:{value:t.model.thumps_up_status,callback:function(e){t.$set(t.model,"thumps_up_status",e)},expression:"model.thumps_up_status"}},[a("Radio",{attrs:{label:"1"}},[t._v("展示")]),a("Radio",{attrs:{label:"0"}},[t._v("隐藏")])],1),1==t.model.thumps_up_status?a("div",{staticClass:"nest-box"},[a("FormItem",{attrs:{label:"初始点赞量：",prop:"thumps_up_number_init"}},[a("kdx-rr-input",{staticClass:"width-340 ",attrs:{placeholder:"请输入",number:"",fixed:0,"min-value":0,"max-value":999999999},model:{value:t.model.thumps_up_number_init,callback:function(e){t.$set(t.model,"thumps_up_number_init",t._n(e))},expression:"model.thumps_up_number_init"}})],1)],1):t._e()],1),a("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"会员等级：",prop:"member_level_limit_type"}},[a("RadioGroup",{staticClass:"radio-box",model:{value:t.model.member_level_limit_type,callback:function(e){t.$set(t.model,"member_level_limit_type",e)},expression:"model.member_level_limit_type"}},[a("Radio",{attrs:{label:"0"}},[t._v("全部会员")]),a("Radio",{attrs:{label:"1"}},[t._v("指定会员身份")])],1),1==t.model.member_level_limit_type?a("div",{staticClass:"nest-box"},[a("FormItem",{attrs:{label:"会员等级：",prop:"member_level_limit_ids"}},[a("CheckboxGroup",{model:{value:t.model.member_level_limit_ids,callback:function(e){t.$set(t.model,"member_level_limit_ids",e)},expression:"model.member_level_limit_ids"}},t._l(t.levelList,(function(e){return a("Checkbox",{key:e.id,attrs:{label:e.id}},[t._v(t._s(e.level_name))])})),1)],1)],1):t._e()],1),a("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"分销商等级：",prop:"commission_level_limit_type"}},[a("RadioGroup",{staticClass:"radio-box",model:{value:t.model.commission_level_limit_type,callback:function(e){t.$set(t.model,"commission_level_limit_type",e)},expression:"model.commission_level_limit_type"}},[a("Radio",{attrs:{label:"0"}},[t._v("全部分销商")]),a("Radio",{attrs:{label:"1"}},[t._v("指定分销商身份")])],1),1==t.model.commission_level_limit_type?a("div",{staticClass:"nest-box"},[a("FormItem",{attrs:{label:"分销商等级：",prop:"commission_level_limit_ids"}},[a("CheckboxGroup",{model:{value:t.model.commission_level_limit_ids,callback:function(e){t.$set(t.model,"commission_level_limit_ids",e)},expression:"model.commission_level_limit_ids"}},t._l(t.agentGradeList,(function(e){return a("Checkbox",{key:e.id,attrs:{label:e.id}},[t._v(t._s(e.name))])})),1)],1)],1):t._e()],1),a("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"奖励设置：",prop:"reward_type"}},[a("RadioGroup",{staticClass:"radio-box",model:{value:t.model.reward_type,callback:function(e){t.$set(t.model,"reward_type",e)},expression:"model.reward_type"}},[a("Radio",{attrs:{label:"0"}},[t._v("无奖励")]),a("Radio",{attrs:{label:"1"}},[t._v("积分")]),a("Radio",{attrs:{label:"2"}},[t._v("余额")])],1),1==t.model.reward_type?a("div",{staticClass:"nest-box nest-box-reward"},[a("FormItem",{key:"creditOnce",attrs:{label:"用户每次分享文章可得：","label-width":180,prop:"creditOnce"}},[a("kdx-rr-input",{staticClass:"width-172",attrs:{placeholder:"请输入",number:"",fixed:0,"min-value":0,"max-value":999999999},model:{value:t.model.creditOnce,callback:function(e){t.$set(t.model,"creditOnce",e)},expression:"model.creditOnce"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("积分")])]),a("kdx-hint-text",[t._v("分享出去的文章，需用户进行阅读相应时间后才进行发放")])],1),a("FormItem",{key:"creditMax",attrs:{label:"限制每人最多支持获得：","label-width":180,prop:"creditMax"}},[a("kdx-rr-input",{staticClass:"width-172",attrs:{placeholder:"请输入",number:"",fixed:0,"min-value":0,"max-value":999999999},model:{value:t.model.creditMax,callback:function(e){t.$set(t.model,"creditMax",e)},expression:"model.creditMax"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("积分")])]),a("kdx-hint-text",[t._v("设置限制发放最大值后，用户再进行转发操作后不再进行奖励的发放")])],1)],1):t._e(),2==t.model.reward_type?a("div",{staticClass:"nest-box nest-box-reward"},[a("FormItem",{key:"balanceOnce",attrs:{label:"用户每次分享文章可得：","label-width":180,prop:"balanceOnce"}},[a("kdx-rr-input",{staticClass:"width-172",attrs:{placeholder:"请输入",number:"",fixed:0,"min-value":0,"max-value":999999999},model:{value:t.model.balanceOnce,callback:function(e){t.$set(t.model,"balanceOnce",e)},expression:"model.balanceOnce"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("余额")])]),a("kdx-hint-text",[t._v("分享出去的文章，需用户进行阅读相应时间后才进行发放")])],1),a("FormItem",{key:"balanceMax",attrs:{label:"限制每人最多支持获得：","label-width":180,prop:"balanceMax"}},[a("kdx-rr-input",{staticClass:"width-172",attrs:{placeholder:"请输入",number:"",fixed:0,"min-value":0,"max-value":999999999},model:{value:t.model.balanceMax,callback:function(e){t.$set(t.model,"balanceMax",e)},expression:"model.balanceMax"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("余额")])]),a("kdx-hint-text",[t._v("设置限制发放最大值后，用户再进行转发操作后不再进行奖励的发放")])],1)],1):t._e()],1),a("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"文章发布状态：",prop:"status"}},[a("RadioGroup",{staticClass:"radio-box",model:{value:t.model.status,callback:function(e){t.$set(t.model,"status",e)},expression:"model.status"}},[a("Radio",{attrs:{label:"1"}},[t._v("显示")]),a("Radio",{attrs:{label:"0"}},[t._v("隐藏")])],1)],1)],1)],1)},n=[]},d82c:function(t,e,a){t.exports=a.p+"static/dist/shop/img/article_title.png"},d87d:function(t,e,a){"use strict";a.r(e);var i=a("714c"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},d9a6:function(t,e,a){"use strict";a("254f7")},da9e:function(t,e,a){},ddbb:function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("53ca"));a("d3b7"),a("3ca3"),a("ddb0");var s={components:{ImageSelector:function(){return Promise.resolve().then(a.bind(null,"7177"))},IconSelector:function(){return a.e(137).then(a.bind(null,"a92e"))},VideoSelector:function(){return Promise.resolve().then(a.bind(null,"3127"))}},props:{type:{type:String,default:"image"},value:{type:[String,Object],default:""},icon:{type:String,default:""},size:{type:String,default:""},tip:{type:String,default:"添加图片"}},watch:{value:{immediate:!0,handler:function(){var t;(console.log(this.value,"上次的值是多少值"),"object"===(0,n.default)(this.value))?this.imgurl=null===(t=this.value)||void 0===t?void 0:t.path:this.imgurl=this.value}}},computed:{getIcon:function(){return this.icon?this.icon:"large"!=this.size?"ivu-icon ivu-icon-md-add":"ivu-icon ivu-icon-ios-add"}},data:function(){return{show:!1,imgurl:"",loadSelector:!1}},methods:{mouseenter:function(){this.loadSelector=!0},success:function(){var t=this;this.$nextTick((function(){var e=t.$refs.img;e&&t.$emit("getImgInfo",{naturalWidth:e.naturalWidth,naturalHeight:e.naturalHeight,width:e.width,height:e.height})}))},changeVideo:function(t){this.$emit("change",t),this.$emit("input",t)},getIconClass:function(t){this.$emit("change",t),this.$emit("input",t)},delImg:function(){this.imgurl="",this.$emit("change",""),this.$emit("input","")},changeImage:function(t){this.imgurl=t,this.$emit("change",t),this.$emit("input",t)},addImg:function(){var t=this;"image"==this.type?this.$nextTick((function(){setTimeout((function(){t.$refs["image_selector"]?t.$refs["image_selector"].setValue():t.addImg()}),50)})):"video"===this.type?this.$nextTick((function(){setTimeout((function(){t.$refs.video_selector?t.$refs.video_selector.setValue():t.addImg()}),50)})):this.$nextTick((function(){setTimeout((function(){t.$refs.iconSelector?t.$refs.iconSelector.setValue():t.addImg(),t.$emit("click")}),50)}))}}};e.default=s},ddea:function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("caad"),a("ac1f"),a("5319");var n=i(a("cd0e")),s=i(a("2d1c")),o={components:{AddImgImg:n.default,SelectLink:s.default},props:{tip:{type:String,default:"建议图片宽度750px，高度跟随第一张图片的高度变化"},nodel:{type:Boolean,default:!0},url:{type:String,default:"url"},link:{type:String,default:"link"},item:{type:Object,default:function(){return{url:"",link:""}}},draggable:{type:Boolean,default:!1},wxappid:{type:String,default:"wxappid"}},data:function(){return{tabName:"store,goods,liver,coupon,customPage,customLink,goodsClassify,wxapplink"}},mounted:function(){var t=["/decorate/custom"];t.includes(this.$route.path)&&(this.tabName=this.tabName.replace(",customLink",""))},methods:{getImgInfo:function(t){this.$emit("getImgInfo",t)},changeImg:function(t){this.$emit("change-img",t,this.item)},changeLink:function(t){this.$emit("change-link",t,this.item)},delItem:function(){this.$emit("del",this.item)}}};e.default=o},de2b:function(t,e,a){},e345:function(t,e,a){"use strict";a.r(e);var i=a("c503"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},e643:function(t,e,a){"use strict";a.r(e);var i=a("f3be"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},eb3e:function(t,e,a){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("caad"),a("2532");var i=a("7f3d"),n={data:function(){return{isPermPlugins:!1}},created:function(){var t=this;this.$store.dispatch("config/getAppState","article").then((function(e){t.isPermPlugins=[i.APP_IS_NORMAL].includes(e)}))}};e.default=n},eb77:function(t,e,a){"use strict";a.r(e);var i=a("efc0"),n=a("7058");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("f18e");var o=a("2877"),r=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"5ecdf20f",null);e["default"]=r.exports},ebae:function(t,e,a){"use strict";a.r(e);var i=a("bf7a"),n=a("0780");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("1ba6"),a("4a4d");var o=a("2877"),r=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"2cd50d0b",null);e["default"]=r.exports},ec8a:function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("2909"));a("a9e3"),a("d3b7");var s={props:{id:{type:String,default:""},value:{type:Object,default:function(){}}},data:function(){var t=this,e=function(e,a,i){Number(t.model.creditMax)<Number(t.model.creditOnce)?i(new Error("最大值应大于每次获取值")):i()},a=function(e,a,i){Number(t.model.balanceMax)<Number(t.model.balanceOnce)?i(new Error("最大值应大于每次获取值")):i()};return{model:{read_number_status:"1",read_number_init:"",read_number_step:"",thumps_up_status:"1",thumps_up_number_init:"",member_level_limit_type:"0",member_level_limit_ids:[],commission_level_limit_type:"0",commission_level_limit_ids:[],reward_type:"0",reward_rule:{},creditOnce:"",creditMax:"",balanceOnce:"",balanceMax:"",status:"1"},rule:{member_level_limit_ids:[{required:!0,message:"会员等级必选"}],commission_level_limit_ids:[{required:!0,message:"分销商等级必选"}],creditOnce:[{required:!0,message:"每次分享可得积分必填"}],creditMax:[{required:!0,message:"最多获得积分必填"},{validator:e}],balanceOnce:[{required:!0,message:"每次分享可得余额必填"}],balanceMax:[{required:!0,message:"最多获得余额必填"},{validator:a}]},levelList:[],agentGradeList:[]}},created:function(){this.getLevelList(),this.getAgentGradeList()},watch:{value:{handler:function(t){this.model=t},immediate:!0,deep:!0},model:{handler:function(t){this.$emit("input",t)},deep:!0}},methods:{getLevelList:function(){var t=this;this.$api.memberApi.getLevelList({is_all:1}).then((function(e){0===e.error&&(t.levelList=(0,n.default)(e.list)||[])}))},getAgentGradeList:function(){var t=this;this.$api.commissionApi.getAgentGradeAllList().then((function(e){0===e.error&&(t.agentGradeList=(0,n.default)(e.list))}))},validateForm:function(){var t=this;return new Promise((function(e,a){t.$refs.form.validate((function(t){t?e():a()}))}))}}};e.default=s},ee0e:function(t,e,a){},efc0:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("kdx-header-bar",{scopedSlots:t._u([{key:"header",fn:function(){return[a("Button",{staticClass:"weixin-article",attrs:{disabled:!t.isPermPlugins||t.noManagePerm,type:"primary"},on:{click:t.importArticle}},[t._v("导入微信文章")]),a("Button",{attrs:{type:"primary",disabled:!t.isPermPlugins||t.noManagePerm},on:{click:t.addArticle}},[t._v("+新增文章")])]},proxy:!0}])},[a("Form",{ref:"form",attrs:{model:t.model,"label-width":100,inline:""},nativeOn:{submit:function(t){t.preventDefault()}}},[a("FormItem",{attrs:{label:"文章标题："}},[a("i-input",{staticClass:"width-340",attrs:{type:"text",placeholder:"请输入文章标题"},on:{"on-enter":t.handleSearch},model:{value:t.model.title,callback:function(e){t.$set(t.model,"title",e)},expression:"model.title"}})],1),a("FormItem",{attrs:{label:"发布时间："}},[a("DatePicker",{staticClass:"width-340",attrs:{type:"datetimerange",format:"yyyy-MM-dd HH:mm:ss",placeholder:"请选择"},on:{"on-change":t.changeDate},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),a("FormItem",{attrs:{label:"文章状态："}},[a("Select",{staticClass:"width-160",model:{value:t.model.status,callback:function(e){t.$set(t.model,"status",e)},expression:"model.status"}},t._l(t.statusList,(function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(" "+t._s(e.label)+" ")])})),1)],1),a("FormItem",{attrs:{label:"选择分组："}},[a("Select",{staticClass:"width-160",model:{value:t.model.group_id,callback:function(e){t.$set(t.model,"group_id",e)},expression:"model.group_id"}},[a("Option",{attrs:{value:"0"}},[t._v("全部")]),t._l(t.groupList,(function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v(" "+t._s(e.name)+" ")])}))],2)],1),a("div",{staticClass:"ivu-form-item-btn"},[a("Button",{attrs:{type:"primary"},on:{click:t.handleSearch}},[t._v("搜索")]),a("Button",{attrs:{type:"text"},on:{click:t.handleReset}},[t._v("重置")])],1)],1),a("import-article-modal",{ref:"modal"})],1)},n=[]},f000:function(t,e,a){},f18e:function(t,e,a){"use strict";a("8608")},f3be:function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("58bb")),s={inject:{chooseTab:{default:"LinkStorePageLink,LinkArticleLink,LinkCouponLink,LinkCreditShopLink,LinkCustomLink,LinkCustomPageLink,LinkGoodsClassifyLink,LinkGoodsGroupLink,LinkGoodsLink,LinkLiverLink,LinkMarketingPage,LinkWxAppLink,LinkApplicationPlug"}},components:{UnionSelector:n.default},props:{enabled:{type:Boolean,default:!0},showSelector:{type:Boolean,default:!0},value:{type:Object,default:function(){}},btnText:{type:String,default:"选择链接"},icon:{type:String,default:"ivu-icon ivu-icon-ios-link"},tabName:{type:String,default:"LinkStorePageLink,LinkArticleLink,LinkCouponLink,LinkCreditShopLink,LinkCustomLink,LinkCustomPageLink,LinkGoodsClassifyLink,LinkGoodsGroupLink,LinkGoodsLink,LinkLiverLink,LinkMarketingPage,LinkWxAppLink,LinkApplicationPlug"},btnIcon:{type:String,default:"ios-link"}},watch:{value:{immediate:!0,handler:function(){this.linkInfo=this.value}}},data:function(){return{show:!1,linkInfo:{url:"",name:""},loadSelector:!1,chooseTabs:""}},created:function(){this.chooseTabs=this.chooseTab?this.chooseTab:this.tabName},methods:{mouseenter:function(){this.loadSelector=!0},handleCancel:function(){this.show=!1},changeLink:function(t){this.linkInfo=t,this.show=!1,this.$emit("change",t)},selectLink:function(){var t=this;this.showSelector?this.$nextTick((function(){setTimeout((function(){t.show=!0}))})):this.$emit("click")}}};e.default=s},f8b2:function(t,e,a){"use strict";a("da9e")},f9ff:function(t,e,a){"use strict";a("4459")},faf1:function(t,e,a){"use strict";a("541d")}}]);