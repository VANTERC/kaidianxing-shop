(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[22],{"0863":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("d3b7"),n("159b"),n("d81d"),n("ddb0"),n("ac1f"),n("5319");var a=n("2569"),r={},i=[];a.keys().map((function(e){return"./index.js"!=e?(i.push(e.replace(/(\.\/|\.js)/g,"").toLowerCase()),a(e).default):""})).forEach((function(e,t){r[i[t]]=e}));var o=r;t.default=o},"221f":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var n=function(){var e=this,t=e._self._c;return t("div",{key:e.item._comIndex_,ref:"dragItem",staticClass:"drag-item",class:[{"active-item":e.activeItem,chooseable:e.chooseable,errorInfo:e.errorInfo&&e.errorInfo._comIndex_==e.item._comIndex_},e.item._comIndex_],on:{mouseenter:e.mouseEnter,mouseleave:e.mouseLeave,"!click":function(t){return e.clickTmp(e.item)}}},[e._t("default"),e.showDel?t("span",{staticClass:"del",attrs:{"data-html2canvas-ignore":""},on:{click:function(t){return t.stopPropagation(),e.delTmp(e.item)}}},[e._v("删除")]):e._e(),e.modalShow&&e.activeItem?t("div",{staticClass:"del-modal",attrs:{"data-html2canvas-ignore":""}},[t("div",{staticClass:"del-title"},[e._v("确认删除该组件吗？")]),t("div",{staticClass:"modal-btn-group"},[t("div",{staticClass:"modal-btn sure",on:{click:e.sureHandler}},[e._v("确认")]),t("div",{staticClass:"modal-btn cancel",on:{click:e.cancelHandler}},[e._v("取消")])])]):e._e(),t("i",{staticClass:"left-border border",attrs:{"data-html2canvas-ignore":""}}),t("i",{staticClass:"right-border border",attrs:{"data-html2canvas-ignore":""}})],2)};t.render=n;var a=[];t.staticRenderFns=a},2569:function(e,t,n){var a={"./Coupon.js":"90df","./Diyform.js":"3b47","./Goods.js":"70b7","./index.js":"0863"};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id="2569"},"262ed":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var a=n("b380");function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Object(a["a"])(e,t)}},"264c":function(e,t,n){"use strict";var a=n("221f");n.o(a,"render")&&n.d(t,"render",(function(){return a["render"]})),n.o(a,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return a["staticRenderFns"]}))},"2caf":function(e,t,n){"use strict";function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}n.r(t),n.d(t,"default",(function(){return d}));var r=n("d967"),i=n("53ca");function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t){if(t&&("object"===Object(i["default"])(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return o(e)}function d(e){var t=Object(r["a"])();return function(){var n,r=a(e);if(t){var i=a(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}},"3b47":function(e,t,n){var a=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("d4ec")),i=a(n("bee2")),o=a(n("365c")),u=function(){function e(){(0,r.default)(this,e)}return(0,i.default)(e,[{key:"update",value:function(e){console.log(e.id,e,o.default)}}]),e}(),d=new u;t.default=d},"70b7":function(e,t,n){var a=n("dbce").default,r=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("d9e2"),n("d3b7"),n("159b"),n("d81d"),n("4de4");var i=r(n("5530")),o=r(n("262ed")),u=r(n("2caf")),d=r(n("d4ec")),s=r(n("bee2")),c=r(n("365c")),l=a(n("d1be")),f=function(){function e(){(0,d.default)(this,e)}return(0,s.default)(e,[{key:"getGoodsList",value:function(){throw new Error("Please implement it in a subclass")}}]),e}(),p=function(e){(0,o.default)(n,e);var t=(0,u.default)(n);function n(e){var a;return(0,d.default)(this,n),a=t.call(this,e),a.getParams=function(e){var t={0:{key:"",by:"desc"},1:{key:"sales",by:"desc"},2:{key:"price",by:"desc"},3:{key:"price",by:"asc"}},n={label_field:"",sort:t[e.params.goodssort].key,by:t[e.params.goodssort].by},a=[];switch(e.params.goodsdata+""){case"0":e.data.forEach((function(e){e.gid&&a.push(e.gid)})),n=a.length?{ids:a,sort:"",by:"",page:1,pagesize:e.data.length}:null;break;case"1":n=e.params.cateid?(0,i.default)((0,i.default)({},n),{},{category_id:e.params.cateid,page:1,pagesize:e.data.length}):null;break;case"2":n=e.params.groupid?(0,i.default)((0,i.default)({},n),{},{group_id:e.params.groupid,page:1,pagesize:e.data.length}):null;break;case"3":case"is_new":n=(0,i.default)((0,i.default)({},n),{},{is_new:1,page:1,pagesize:e.data.length});break;case"4":case"is_hot":n=(0,i.default)((0,i.default)({},n),{},{is_hot:1,page:1,pagesize:e.data.length});break;case"5":case"is_recommand":n=(0,i.default)((0,i.default)({},n),{},{is_recommand:1,page:1,pagesize:e.data.length});break}return n&&(n.get_activity=1),n},a.getGoodsList=function(e){return new Promise((function(t){var n=e.data;if(n&&n.length){var r=a.getParams(e);if(!r)return;c.default.goodsApi.goodsList(r).then((function(e){if(0==e.error){var n=e.list.filter((function(e){return e})).map((function(e){var t,n,a,r={thumb:l.media(e.thumb),price:parseFloat(null!==(t=e.activities)&&void 0!==t&&t.member_price?null===(n=e.activities)||void 0===n?void 0:n.member_price:e.price),productprice:parseFloat(e.original_price),title:e.title,sales:e.sales,gid:e.id,bargain:0,credit:0,ctype:1,stock:e.stock,sub_name:e.sub_name,commission:(null===(a=e.activities)||void 0===a?void 0:a.commission)||null,has_option:e.has_option,goodstype:e.type,activities:null===e||void 0===e?void 0:e.activities,type:e.type};return r}));t(n)}else t([])}))}}))},a}return(0,s.default)(n)}(f),m=function(){function e(){(0,d.default)(this,e)}return(0,s.default)(e,[{key:"update",value:function(e){var t;"0"==e.params.goodstype&&(t=new p),t.getGoodsList(e).then((function(t){e.data=t.map((function(e){return(0,i.default)((0,i.default)({},e),{},{id:e.gid})}))}))}}]),e}(),h=new m;t.default=h},"90df":function(e,t,n){var a=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("d4ec")),i=a(n("bee2")),o=a(n("365c")),u=function(){function e(){(0,r.default)(this,e)}return(0,i.default)(e,[{key:"update",value:function(e){console.log(e.id,e,o.default)}}]),e}(),d=new u;t.default=d},c6b4:function(e,t,n){var a=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("5530")),i=n("2f62"),o=a(n("f54f")),u=a(n("0863")),d={props:{item:{type:[Object,Array],default:null},lazyUpdate:{type:Boolean,default:!1}},data:function(){return{modalShow:!1,permsChecker:{},moving:!1,updater:null}},computed:(0,r.default)((0,r.default)({chooseable:function(){return"diymenu"!=this.item.id}},(0,i.mapState)("decorate",{currentModal:function(e){return e.currentModal},onlyOneComponent:function(e){return e.onlyOneComponent},errorInfo:function(e){return e.errorInfo}})),{},{activeItem:function(){return this.currentModal===this.item&&!this.onlyOneComponent},showDel:function(){return!this.onlyOneComponent&&(this.currentModal==this.item||this.moving&&this.chooseable)&&this.currentModal.params&&!1!==this.item.params.delable}}),watch:{lazyUpdate:{immediate:!0,handler:function(){this.isEdit="edit"==this.$route.query.type,this.isEdit&&this.lazyUpdate&&(this.updater=u.default[this.item.id],this.updater&&"function"==typeof this.updater.update&&this.updater.update(this.item,this.$slots.default[0]))}},activeItem:function(e){e||(this.modalShow=!1)}},created:function(){this.permsChecker=(0,o.default)()},methods:(0,r.default)((0,r.default)({},(0,i.mapMutations)("decorate",["changeFocus","delModal"])),{},{delTmp:function(){this.modalShow=!0},sureHandler:function(){this.delModal({item:this.item,pageId:this.$route.params.page}),this.modalShow=!1},cancelHandler:function(){this.modalShow=!1},clickTmp:function(e){var t=this;if(document.getElementById("forFocus").focus(),e!==this.currentModal){if("diymenu"==e.id)return;this.$emit("beforeChange",e),this.$nextTick((function(){t.changeFocus({item:e,pageId:t.$route.params.page})}))}},mouseEnter:function(){this.moving=!0},mouseLeave:function(){this.moving=!1}})};t.default=d},de68:function(e,t,n){"use strict";n.r(t);var a=n("c6b4"),r=n.n(a);for(var i in a)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(i);t["default"]=r.a},df776:function(e,t,n){"use strict";n.r(t);var a=n("264c"),r=n("de68");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("fe76");var o=n("2877"),u=Object(o["a"])(r["default"],a["render"],a["staticRenderFns"],!1,null,"5396a504",null);t["default"]=u.exports},eebc:function(e,t,n){},fe76:function(e,t,n){"use strict";n("eebc")}}]);