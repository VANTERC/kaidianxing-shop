(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[134],{"0d42":function(t,e,a){var n=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(a("5530"));a("4e82"),a("ac1f"),a("841c");var r=n(a("c45e")),o={name:"index",components:{SearchHeader:r.default},props:{},data:function(){this.$createElement;return{query:{},loading:!1,page:{pageSize:10,pageNumber:1},search:{},data:[],total:0,columns:[{title:"会员昵称",slot:"nickname"},{title:"首次签到时间",key:"first_date",sortable:"custom",render:function(t,e){return e.row[e.column.key]?t("div",{class:"vip-grade"},[t("div",{class:"text"},[e.row[e.column.key]])]):t("div",["-"])}},{title:"上次签到时间",key:"last_date",sortable:"custom"},{title:"累计签到天数",key:"sign_day",sortable:"custom"},{title:"最长连续签到天数",key:"longest_day",sortable:"custom"},{title:"奖励领取情况",key:"award_time",render:function(t,e){return t("div",[t("div",["积分：",e.row.credit_num>0?"".concat(e.row.credit_num,"个"):"-"]),t("div",["优惠券：",e.row.coupon_num>0?"".concat(e.row.coupon_num,"张"):"-"])])}}]}},computed:{},created:function(){},mounted:function(){var t=this,e=this.$route.query||{};this.handleSearch(e),this.$nextTick((function(){t.$refs["search_header"].reset(e)}))},methods:{changeSort:function(t){var e=t.key,a=t.order;this.sort={sort:e,by:a},this.refreshTable()},handleSearch:function(t){this.search=t,this.refreshTable()},getList:function(){var t=this;this.loading=!0;var e=(0,i.default)((0,i.default)((0,i.default)({},this.sort),this.search),{},{pagesize:this.page.pageSize,page:this.page.pageNumber},this.query);this.$api.creditSignApi.getRecordList(e).then((function(e){t.loading=!1,0===e.error&&(t.data=e.list,t.total=e.total)}))},changePage:function(t){this.page=t,this.getList()},refreshTable:function(){this.page={pageSize:10,pageNumber:1},this.$refs["page"].reset(),this.getList()}}};e.default=o},"5b4d":function(t,e,a){"use strict";a.r(e);var n=a("ac19"),i=a("9782");for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);a("af5f");var o=a("2877"),s=Object(o["a"])(i["default"],n["a"],n["b"],!1,null,"3f56aa8b",null);e["default"]=s.exports},"7a269":function(t,e,a){"use strict";a.r(e);var n=a("bf74"),i=a.n(n);for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);e["default"]=i.a},"7b8f":function(t,e,a){},9782:function(t,e,a){"use strict";a.r(e);var n=a("0d42"),i=a.n(n);for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);e["default"]=i.a},ac19:function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"b",(function(){return i}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"award-list"},[a("search-header",{ref:"search_header",on:{"on-search":t.handleSearch}}),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"table-list"},[a("Table",{ref:"table",attrs:{columns:t.columns,data:t.data},on:{"on-sort-change":t.changeSort},scopedSlots:t._u([{key:"nickname",fn:function(e){var n=e.row;return[a("div",{staticClass:"vip-info"},[a("img",{attrs:{src:t.$utils.media(n.avatar),alt:""},on:{error:function(e){return t.replaceImage(e,"avatar")}}}),a("p",{staticClass:"name"},[a("span",{staticStyle:{"margin-bottom":"4px"}},[t._v(t._s(n.nickname||"-"))]),new Set(["10","20","21"]).has(n.source)?a("i",{staticClass:"iconfont",class:{"icon-H":"10"===n.source,"icon-weixin":"20"===n.source,"icon-weixinxiaochengxu":"21"===n.source}}):"30"===n.source?a("kdx-svg-icon",{staticClass:"iconfont",attrs:{type:"icon-qudao-toutiao2"}}):"32"===n.source?a("kdx-svg-icon",{staticClass:"iconfont",attrs:{type:"icon-qudao-toutiaojisuban"}}):"31"===n.source?a("kdx-svg-icon",{staticClass:"iconfont",attrs:{type:"icon-douyin"}}):"40"===n.source?a("kdx-svg-icon",{staticClass:"iconfont",attrs:{type:"icon-qudao-App"}}):t._e()],1)])]}}])}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.data.length>0,expression:"data.length > 0"}],staticClass:"footer-page"},[a("kdx-page-component",{ref:"page",attrs:{total:t.total},on:{"on-change":t.changePage}})],1)],1)],1)},i=[]},af5f:function(t,e,a){"use strict";a("7b8f")},bf74:function(t,e,a){var n=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(a("5530")),r={data:function(){return{model:{nickname:""}}},computed:{},created:function(){},methods:{addActivity:function(){this.$router.push({path:"/performanceAward/activity/index",query:{type:"add"}})},handleSearch:function(){var t=(0,i.default)({},this.model);this.$emit("on-search",t)},handleReset:function(){this.model={nickname:""},this.handleSearch()},reset:function(t){Object.assign(this.model,t)}}};e.default=r},c45e:function(t,e,a){"use strict";a.r(e);var n=a("e2267"),i=a("7a269");for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);var o=a("2877"),s=Object(o["a"])(i["default"],n["a"],n["b"],!1,null,"8c3df530",null);e["default"]=s.exports},e2267:function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"b",(function(){return i}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("kdx-header-bar",[a("Form",{ref:"form",attrs:{model:t.model,"label-width":100,inline:""},nativeOn:{submit:function(t){t.preventDefault()}}},[a("FormItem",{attrs:{label:"会员昵称："}},[a("i-input",{staticClass:"width-340",attrs:{type:"text",placeholder:"请输入会员昵称"},on:{"on-enter":t.handleSearch},model:{value:t.model.nickname,callback:function(e){t.$set(t.model,"nickname",e)},expression:"model.nickname"}})],1),a("div",{staticClass:"ivu-form-item-btn"},[a("Button",{attrs:{type:"primary"},on:{click:t.handleSearch}},[t._v("搜索")]),a("Button",{attrs:{type:"text"},on:{click:t.handleReset}},[t._v("重置")])],1)],1)],1)},i=[]}}]);