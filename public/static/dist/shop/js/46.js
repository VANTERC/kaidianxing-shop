(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[46],{"0401":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var i=function(){var e=this,t=e._self._c;return t("div",{ref:"content",staticClass:"order-list"},[t("search-header",{ref:"search",attrs:{status:e.status},on:{"on-search":e.handleSearch,"on-export":e.handleExport}}),t("div",{directives:[{name:"loading",rawName:"v-loading",value:!e.tableShow,expression:"!tableShow"}]},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.tableShow,expression:"tableShow"}],staticClass:"content"},[t("order-list",{ref:"table",attrs:{checkWidth:e.checkWidth,current:e.page.pageNumber,pageSize:e.page.pageSize,data:e.table.data,total:e.table.total,loading:e.table.loading,status:e.status},on:{"on-page-change":e.changePage,"on-refresh":e.getList,"on-edit":e.editCommision}})],1)]),t("commission-edit",{attrs:{orderId:e.id,orderNo:e.orderNo,memberId:e.member_id,visible:e.visible},on:{"update:visible":function(t){e.visible=t},"on-success":e.getList}}),e._t("default")],2)};t.render=i;var n=[];t.staticRenderFns=n},"045e":function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("d3b7");var n={props:{list:{type:Object,default:function(){return{}}},goods:{type:Object,default:function(){return{}}},status:{type:String,default:""}},data:function(){return{remark:"",is_refund_front:"1"}},methods:{hasRefundSuc:function(e){return e.every((function(e){return 10==e.refund_status||11==e.refund_status}))},sendGoods:function(e){this.$emit("sendGoods",e)},editReceiveInfo:function(e){this.$emit("editReceiveInfo",e)},generalRefund:function(e){this.$emit("generalRefund",e)},cancelSendGoods:function(e){this.$emit("cancelSendGoods",e)},editExpress:function(e){this.$emit("editExpress",e)},confirmPayment:function(e){var t=this;this.$Modal.confirm({title:"提示",content:"确认此单已付款吗？",okText:"确认付款",onOk:function(){var i={order_id:e.id};t.$api.orderApi.setPayment(i).then((function(e){0===e.error&&(t.$Message.success("确认付款操作成功"),t.$emit("handleRefresh"))}))},onCancel:function(){}})},changePrice:function(e){this.$emit("changePrice",e)},closeOrder:function(e){var t=this,i=this.$createElement;this.$Modal.confirm({title:"是否关闭订单",okText:"确认关闭",onOk:function(){var i={id:e.id,remark:t.remark};t.$api.orderApi.closeOrder(i).then((function(e){0===e.error&&(t.$Message.success("订单关闭成功"),t.$emit("handleRefresh"))}))},onCancel:function(){},render:function(){return i("div",[i("p",{style:"padding-bottom:15px"},["请填写关闭订单原因"]),i("Input",{attrs:{type:"textarea",autofocus:!0,maxlength:"40","show-word-limit":!0,placeholder:"请填写关闭订单原因"},model:{value:t.remark,callback:function(e){t.remark=e}}})])}})},confirmTakeGoods:function(e){var t=this;this.$Modal.confirm({title:"提示",content:"确认此单已收到货了吗？",okText:"确认收货",onOk:function(){t.$api.orderApi.setFinishOrder({order_id:e.id}).then((function(e){0===e.error&&(t.$Message.success("订单确认收货成功"),t.$emit("handleRefresh"))}))},onCancel:function(){}})},packageExpress:function(e){this.$emit("packageExpress",e)}}};t.default=n},"0c67":function(e,t,i){"use strict";i("82cf5")},"2bcc":function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("4de4"),i("d3b7"),i("b680");var n={props:{list:{type:Object,default:function(){return{}}},goods:{type:Object,default:function(){return{}}}},computed:{priceList:function(){var e,t,i,n,a,r,s,o,d,c,l,u,f=[{title:"商品小计：",price:this.calculatePrice,show:!0},{title:"运费：",price:"￥".concat(null===(e=this.list)||void 0===e?void 0:e.dispatch_price),show:"0"===this.goods.type},{title:"改价：",price:this.formatPrice(null===(t=this.list)||void 0===t?void 0:t.change_price),show:this.list.change_price&&"0"!=parseFloat(this.list.change_price)},{title:"会员折扣：",price:"-"+this.formatPrice(null===(i=this.list)||void 0===i||null===(n=i.extra_price_package)||void 0===n?void 0:n.member_price),show:this.list.extra_price_package&&this.list.extra_price_package.member_price},{title:"积分抵扣：",price:"-"+this.formatPrice(null===(a=this.list)||void 0===a||null===(r=a.extra_price_package)||void 0===r?void 0:r.credit),show:this.list.extra_price_package&&this.list.extra_price_package.credit},{title:"余额抵扣：",price:"-"+this.formatPrice(null===(s=this.list)||void 0===s||null===(o=s.extra_price_package)||void 0===o?void 0:o.balance),show:this.list.extra_price_package&&this.list.extra_price_package.balance},{title:"满额立减：",price:"-"+this.formatPrice(null===(d=this.list)||void 0===d||null===(c=d.extra_price_package)||void 0===c?void 0:c.full_deduct),show:this.list.extra_price_package&&this.list.extra_price_package.full_deduct},{title:"优惠券：",price:"-"+this.formatPrice(null===(l=this.list)||void 0===l||null===(u=l.extra_price_package)||void 0===u?void 0:u.coupon),show:this.list.extra_price_package&&this.list.extra_price_package.coupon}];return f=f.filter((function(e){return e.show})),f},calculatePrice:function(){return"￥".concat(this.list.goods_price)}},methods:{isInvoiceInfo:function(e){var t,i=null===e||void 0===e||null===(t=e.invoice_info)||void 0===t?void 0:t.is_company;return i&&("1"==i||"2"==i)},formatPrice:function(e){return parseFloat(e)>=0?"￥".concat(parseFloat(e).toFixed(2)):"-￥".concat(Math.abs(parseFloat(e)).toFixed(2))}}};t.default=n},"2f91":function(e,t,i){var n=i("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("a9e3"),i("d3b7"),i("159b"),i("d81d"),i("e9c4");var a=n(i("1f14")),r=n(i("f0d4")),s=n(i("eb94")),o=n(i("c5e4")),d=n(i("91d9")),c=n(i("d63e")),l=n(i("a467")),u=n(i("b091")),f=n(i("b195")),p=n(i("985f")),h=n(i("d91d")),m=n(i("b0b4")),_=n(i("6835")),v=n(i("6788")),y={name:"OrderList",components:{SendGoods:a.default,CancelSendGoods:r.default,EditExpress:s.default,ChangePrice:o.default,CloseOrder:d.default,PackageExpress:c.default,EditReceivingGoods:l.default,RefundModal:u.default,OrderListItemHead:f.default,TableTd1:p.default,TableTd3:h.default,TableTd5:m.default,TableTd7:_.default,OrderComment:v.default},props:{data:{type:Array,default:function(){return[]}},total:{type:Number,default:0},loading:{type:Boolean,default:!1},pageSize:{type:Number,default:10},current:{type:Number,default:1},status:{type:[Number,String]},checkWidth:{type:[Number,String]}},data:function(){return{columns:[{title:"商品",key:"shop",width:350},{title:"单价/数量",key:"price",width:100},{title:"维权状态",key:"status",width:100},{title:"买家",key:"buyer",width:100},{title:"实付款",key:"payment",width:100},{title:"支付/配送",key:"delivery",width:100},{title:"操作",key:"action",width:100}],cloneColumns:[],totalWidth:0,tableWidth:0,page:{total:10},modal:{cancelSendGoodsModal:0,editExpress:0,changePrice:0,closeOrder:0,packageExpress:0,title:"",id:"",packageId:"",dispatch_type:""},commisionInfo:{}}},methods:{handleResize:function(){var e,t=this;this.tableWidth=(null===(e=this.$refs["order_table"])||void 0===e?void 0:e.offsetWidth)-40-1;var i=this.columns.length,n=Math.floor((this.tableWidth-this.totalWidth)/i);this.columns.forEach((function(e,a){var r=(t.cloneColumns[a].width||0)+n;if(a===i-1){var s=t.getUpdateTotalWidth();r=t.tableWidth-s+100||0}t.$set(t.columns[a],"width",r)}))},getCloneColumns:function(){this.cloneColumns=this.columns.map((function(e){return JSON.parse(JSON.stringify(e))}))},getTotalWidth:function(){var e=this;this.totalWidth=0,this.cloneColumns.forEach((function(t){e.totalWidth+=t.width||0}))},getUpdateTotalWidth:function(){var e=0;return this.columns.forEach((function(t){e+=t.width||0})),e},handlePageChange:function(e){this.$emit("on-page-change",e)},sendGoods:function(e){var t=this;this.modal.id=e.id,this.modal.dispatch_type=e.dispatch_type,this.$nextTick((function(){var e;console.log('this.$refs["send_goods"]',t.$refs["send_goods"]),null===(e=t.$refs["send_goods"])||void 0===e||e.setValue()}))},cancelSendGoods:function(e){var t=this;this.modal.id=e.id,this.$nextTick((function(){t.$refs["cancel_send_goods"].setValue()}))},editReceiveInfo:function(e){var t=this;this.modal.id=e.id,this.modal.dispatch_type=e.dispatch_type,this.$nextTick((function(){t.$refs["edit_receiving_goods"].setValue()}))},generalRefund:function(e){var t=this;this.modal.id=e.id,this.$nextTick((function(){t.$refs["refund_modal"].setValue()}))},editExpress:function(e){var t=this;this.modal.id=e.id,"11"===this.data.status?this.modal.packageId=e.package_id:this.modal.packageId="",this.$nextTick((function(){t.$refs["edit_express"].setValue()}))},changePrice:function(e){var t=this;this.modal.id=e.id,this.$nextTick((function(){t.$refs["change_price"].setValue()}))},packageExpress:function(e){var t=this;this.modal.id=e.id,this.modal.packageId=e.order_goods[0].package_id,this.$nextTick((function(){t.$refs["package_express"].setValue()}))},reset:function(e){var t;null===(t=this.$refs["page"])||void 0===t||t.reset(e)},handleRefresh:function(){this.$emit("on-refresh")},cellStatus:function(e,t){var i=e.is_refund,n=e.refund_type;return"0"===i||"1"===n?0===t:"2"===n||void 0},editCommision:function(e){var t=e.id,i=e.member_id,n=e.order_no;this.$emit("on-edit",{id:t,member_id:i,order_no:n})}},filters:{getRefundText:function(e){return"1"===e?"退款":"2"===e?"退货退款":"3"===e?"退货":"未维权"}},beforeDestroy:function(){window.onresize=null},mounted:function(){var e=this;this.getCloneColumns(),this.getTotalWidth(),setTimeout((function(){e.handleResize()}),500),window.addEventListener("resize",(function(){setTimeout((function(){e.handleResize()}),200)}))}};t.default=y},"323e":function(e,t,i){"use strict";i.r(t);var n=i("eed1"),a=i("84ba");for(var r in a)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(r);i("0c67");var s=i("2877"),o=Object(s["a"])(a["default"],n["render"],n["staticRenderFns"],!1,null,"6c9ae142",null);t["default"]=o.exports},"32c8":function(e,t,i){"use strict";var n=i("8d18");i.o(n,"render")&&i.d(t,"render",(function(){return n["render"]})),i.o(n,"staticRenderFns")&&i.d(t,"staticRenderFns",(function(){return n["staticRenderFns"]}))},"39e6":function(e,t,i){"use strict";i.r(t);var n=i("52f1"),a=i.n(n);for(var r in n)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(r);t["default"]=a.a},"3a10":function(e,t,i){"use strict";i("542c3")},"3b02":function(e,t,i){var n=i("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.Export=void 0;var a=n(i("5530")),r=i("d8cc"),s=n(i("4328")),o=i("384d"),d=n(i("1cc8")),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(console.log(e,"---------downloadPath"),e){var i="";if(-1===e.indexOf(r.config.base_url)){var n={baseURL:r.config.base_url,url:e};(0,d.default)(n),i=n.baseURL+n.url}else i=e;i=i.indexOf("?")>-1?i:i+"?",t=(0,a.default)((0,a.default)({},t),(0,o.getUserInfo)()),i+="&".concat(s.default.stringify(t)),window.open(i)}};t.Export=c},"3ca8":function(e,t,i){"use strict";i.r(t);var n=i("c057"),a=i.n(n);for(var r in n)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(r);t["default"]=a.a},"3cb9":function(e,t,i){"use strict";i.r(t);var n=i("59fc"),a=i("39e6");for(var r in a)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(r);var s=i("2877"),o=Object(s["a"])(a["default"],n["render"],n["staticRenderFns"],!1,null,null,null);t["default"]=o.exports},"3ea3":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={props:{goods:{type:Object,default:function(){return{}}}},computed:{getType:function(){var e;switch(this.goods.type){case"0":e={goodsName:"real",goodsText:"实"};break;case"1":e={goodsName:"virtual",goodsText:"虚"};break;case"2":e={goodsName:"secret",goodsText:"密"};break}return e}}};t.default=i},"4ae1":function(e,t,i){"use strict";i("4d43")},"4c24":function(e,t,i){"use strict";i.r(t);var n=i("9943"),a=i.n(n);for(var r in n)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(r);t["default"]=a.a},"4d43":function(e,t,i){},"52f1":function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("99af"),i("a434");var n={name:"SearchHeader",props:{status:String},data:function(){return{model:{keywords:"",search_field:"order_no",pay_type:"all",time:"",create_from:"all",refund_type:"0",refund_status:"",dispatch_type:"all",type:"all"},optionData:{search_field:[{key:"order_no",name:"订单编号"},{key:"member_keywords",name:"会员信息"},{key:"member_id",name:"会员ID"},{key:"buyer_keywords",name:"收件人信息"},{key:"address_keywords",name:"地址信息"},{key:"goods_title",name:"商品名称"},{key:"goods_sku",name:"商品编号"}],pay_type:[{id:"all",name:"全部"},{id:"0",name:"未支付"},{id:"1",name:"后台支付"},{id:"2",name:"余额支付"},{id:"3",name:"货到付款"},{id:"20",name:"微信支付"},{id:"30",name:"支付宝支付"},{id:"40",name:"字节跳动支付"}],create_from:[{id:"all",name:"全部"},{id:"20",name:"微信公众号"},{id:"21",name:"微信小程序"},{id:"10",name:"H5"},{id:"31",name:"抖音小程序"},{id:"30",name:"头条小程序"},{id:"32",name:"头条极速版小程序"}],refund_type:[{id:"0",name:"全部"},{id:"1",name:"仅退款"},{id:"2",name:"退货退款"},{id:"3",name:"换货"},{id:"4",name:"退款（含退款退货）"}],refund_status:[{id:"all",name:"全部"},{id:"0",name:"未维权"},{id:"1",name:"维权中"},{id:"2",name:"维权完成"}],dispatchTypeList:[{id:"all",name:"全部"},{id:"10",name:"普通快递"}],order_status:[{id:"all",name:"全部"},{id:"wait_send",name:"待发货"},{id:"wait_pay",name:"待付款"},{id:"wait_pick",name:"待收货"},{id:"success",name:"已完成"},{id:"close",name:"已关闭"}],activity_type:[],goodsType:[]}}},computed:{managePerm:function(){return this.$getPermMap("order.refund.manage")},deliveryList:function(){return this.optionData.dispatchTypeList}},methods:{changeType:function(e){void 0!==e&&(this.model.activity_type=e)},handleSearch:function(){var e=Object.assign({},this.model);e.refund_status="all"===e.refund_status?"":e.refund_status,e.activity_type="all"===e.activity_type?"":e.activity_type,e.status="all"===e.status?"":e.status,e.pay_type="all"===e.pay_type?"":e.pay_type,e.create_from="all"===e.create_from?"":e.create_from,e.dispatch_type="all"===e.dispatch_type?"":e.dispatch_type,"refund"!==this.status&&delete e.refund_type,this.$emit("on-search",e)},handleReset:function(){this.$emit("on-search",{}),this.reset()},handleExport:function(){this.$emit("on-export")},changeDate:function(e){this.model.time=e,e[0]||(this.model.time="")},reset:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={keywords:"",search_field:"order_no",pay_type:"all",time:"",create_from:"all",refund_type:"0",activity_type:"all",status:"all",refund_status:"all",dispatch_type:"all",type:"all"};this.model=Object.assign(t,e)},getOrderType:function(){var e=this;this.$api.orderApi.getOrderType({}).then((function(t){0===t.error&&(e.optionData.activity_type=t.activity_type)}))},getVerylify:function(){var e=this;this.$api.orderApi.getDeliveryList().then((function(t){0===t.error&&(e.optionData.dispatchTypeList=[{id:"all",name:"全部"}].concat(t.dispatch_type))}))},getGoodsType:function(){var e=this;this.$api.orderApi.getGoodsType().then((function(t){0===t.error&&(e.optionData.goodsType=[{key:"all",value:"全部"}].concat(t.goods_type))}))}},watch:{status:{handler:function(e){"send"!==e&&"payment"!==e?(this.optionData.search_field.splice(7,1),this.optionData.search_field.push({key:"express_sn",name:"快递单号"})):this.optionData.search_field.splice(7,1),"refund"===e&&4==this.optionData.refund_status.length&&this.optionData.refund_status.splice(1,1)},immediate:!0}},mounted:function(){this.getOrderType(),this.getGoodsType(),this.reset(),this.getVerylify()}};t.default=n},"542c3":function(e,t,i){},5447:function(e,t,i){"use strict";var n=i("c3fc");i.o(n,"render")&&i.d(t,"render",(function(){return n["render"]})),i.o(n,"staticRenderFns")&&i.d(t,"staticRenderFns",(function(){return n["staticRenderFns"]}))},"566b":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var i=function(){var e=this,t=e._self._c;return e.list.buyer_remark||e.list.commission_info?t("div",{staticClass:"table-remark"},[e.list.buyer_remark?t("div",{staticClass:"left"},[e.list.buyer_remark?t("span",{staticClass:"remark"},[e._v(" 买家备注："+e._s(e.list.buyer_remark)+" ")]):e._e()]):e._e(),e.list.commission_info?t("div",{staticClass:"right"},[e._l(e.list.commission_info,(function(i,n){return t("span",{key:n,staticClass:"text"},[e._v(" "+e._s(e._f("getLevel")(n))+" "),t("span",{staticClass:"price"},[e._v(" "+e._s(i.commission)+"元 ")]),i.ladder_commission>0?t("span",{staticStyle:{color:"#939799"}},[e._v("(含阶梯佣金"+e._s(i.ladder_commission)+")")]):e._e()])})),t("Button",{attrs:{type:"text"},on:{click:e.editCommision}},[e._v(" 修改佣金 ")])],2):e._e()]):e._e()};t.render=i;var n=[];t.staticRenderFns=n},"59fc":function(e,t,i){"use strict";var n=i("9a38");i.o(n,"render")&&i.d(t,"render",(function(){return n["render"]})),i.o(n,"staticRenderFns")&&i.d(t,"staticRenderFns",(function(){return n["staticRenderFns"]}))},"5b3e":function(e,t,i){},6316:function(e,t,i){"use strict";var n=i("a4819");i.o(n,"render")&&i.d(t,"render",(function(){return n["render"]})),i.o(n,"staticRenderFns")&&i.d(t,"staticRenderFns",(function(){return n["staticRenderFns"]}))},"65af":function(e,t,i){"use strict";i.r(t);var n=i("6c18"),a=i.n(n);for(var r in n)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(r);t["default"]=a.a},6788:function(e,t,i){"use strict";i.r(t);var n=i("87a1"),a=i("85ee");for(var r in a)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(r);var s=i("2877"),o=Object(s["a"])(a["default"],n["render"],n["staticRenderFns"],!1,null,"b3dacf5c",null);t["default"]=o.exports},6835:function(e,t,i){"use strict";i.r(t);var n=i("af5c"),a=i("9e37");for(var r in a)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(r);i("4ae1");var s=i("2877"),o=Object(s["a"])(a["default"],n["render"],n["staticRenderFns"],!1,null,"079f0802",null);t["default"]=o.exports},"6af2":function(e,t,i){"use strict";i.r(t);var n=i("e007"),a=i("3ca8");for(var r in a)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(r);i("db3f");var s=i("2877"),o=Object(s["a"])(a["default"],n["render"],n["staticRenderFns"],!1,null,"ddeb8ce0",null);t["default"]=o.exports},"6bce":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var i=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"order-table-list"},[t("div",{ref:"order_table",staticClass:"order-table-list-box"},[t("div",{staticClass:"table-header"},[t("table",{staticStyle:{"border-collapse":"collapse"},style:{width:"".concat(e.tableWidth||e.checkWidth,"px")}},[t("colgroup",{attrs:{align:"left"}},e._l(e.columns,(function(e,i){return t("col",{key:i+"_"+e.width,attrs:{width:e.width}})})),0),t("tr",e._l(e.columns,(function(i,n){return t("th",{key:n},[t("div",{staticClass:"table-cell"},[e._v(e._s(i.title))])])})),0)])]),e.data.length>0?e._l(e.data,(function(i){return t("div",{key:i.id,staticClass:"table-content"},[t("OrderListItemHead",{attrs:{item:i,"count-time":i.count_down_time},on:{"on-refresh":e.handleRefresh}}),i.order_goods&&i.order_goods.length>0?t("div",{staticClass:"table-order"},[t("table",{staticStyle:{"border-collapse":"collapse"},style:{width:"".concat(e.tableWidth||e.checkWidth,"px")}},[t("colgroup",{attrs:{align:"left"}},e._l(e.columns,(function(e,i){return t("col",{key:i+"_"+e.width,attrs:{width:e.width}})})),0),i.order_goods.length>0?e._l(i.order_goods,(function(n,a){return t("tr",{key:n.id+"_"+a},[t("TableTd1",{attrs:{goods:n}}),t("td",[t("div",{staticClass:"shop-price-number price"},[t("p",[e._v("￥"+e._s(n.price_unit))]),t("p",[e._v("X "+e._s(n.total))])])]),e.cellStatus(i,a)?[t("TableTd3",{attrs:{list:i,goods:n,status:e.status}})]:e._e(),0===a?[t("td",{attrs:{rowspan:i.order_goods.length}},[i.buyer_name||i.buyer_mobile?t("div",{staticClass:"shop-buyer buyer"},[t("p",[e._v(e._s(i.buyer_name))]),t("p",[e._v(e._s(i.buyer_mobile))])]):[e._v("-")]],2),t("TableTd5",{attrs:{list:i,goods:n}}),t("td",{attrs:{rowspan:i.order_goods.length}},[t("div",{staticClass:"shop-payment delivery"},[t("p",[e._v(e._s(i.pay_type_text))]),"0"==n.type||"1"==n.type||"3"==n.type?t("p",[e._v(e._s(i.dispatch_type_text))]):e._e()])]),t("TableTd7",{attrs:{list:i,goods:n,status:e.status},on:{sendGoods:e.sendGoods,editReceiveInfo:e.editReceiveInfo,generalRefund:e.generalRefund,cancelSendGoods:e.cancelSendGoods,editExpress:e.editExpress,handleRefresh:e.handleRefresh,changePrice:e.changePrice,packageExpress:e.packageExpress}})]:e._e()],2)})):e._e()],2)]):e._e(),t("OrderComment",{attrs:{list:i},on:{click:function(t){return e.editCommision(i)}}})],1)})):t("div",{staticStyle:{"text-align":"center",padding:"20px 0"}},[e._v("暂无数据")])],2),t("div",{directives:[{name:"show",rawName:"v-show",value:e.total>=10,expression:"total >= 10"}],staticClass:"table-footer"},[t("kdx-page-component",{ref:"page",attrs:{current:e.current,pageSize:e.pageSize,total:e.total},on:{"on-change":e.handlePageChange}})],1),t("send-goods",{ref:"send_goods",attrs:{id:e.modal.id,dispatch_type:e.modal.dispatch_type},on:{"on-refresh":e.handleRefresh}}),t("cancel-send-goods",{ref:"cancel_send_goods",attrs:{id:e.modal.id},on:{"on-refresh":e.handleRefresh}}),t("edit-express",{ref:"edit_express",attrs:{id:e.modal.id,"package-id":e.modal.packageId},on:{"on-refresh":e.handleRefresh}}),t("change-price",{ref:"change_price",attrs:{id:e.modal.id},on:{"on-refresh":e.handleRefresh}}),t("close-order",{ref:"close_order",attrs:{visible:e.modal.closeOrder,id:e.modal.id,title:e.modal.title},on:{"on-refresh":e.handleRefresh}}),t("package-express",{ref:"package_express",attrs:{id:e.modal.id,"package-id":e.modal.packageId}}),t("edit-receiving-goods",{ref:"edit_receiving_goods",attrs:{id:e.modal.id,dispatch_type:e.modal.dispatch_type},on:{"on-refresh":e.handleRefresh}}),t("refund-modal",{ref:"refund_modal",attrs:{id:e.modal.id,pay_type:e.modal.pay_type,good_type:e.modal.good_type},on:{"on-refresh":e.handleRefresh}})],1)};t.render=i;var n=[];t.staticRenderFns=n},"6c18":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={props:{item:{type:Object,default:function(){return{}}},countTime:{type:String,default:""}},data:function(){return{printerList:[],templateList:[],printerModal:!1,printerModelData:{printer_id:"",template_id:"",order_id:""},rules:{printer_id:[{required:!0,message:"请输入打印机名称"}],template_id:[{required:!0,message:"请选择打印模板"}]},remarkText:"",remarkModal:!1}},methods:{jumpEOrder:function(e){var t="/eOrder/orderPrint/index?order_no=".concat(e);this.$utils.openNewWindowPage(t)},checkDetail:function(e,t){var i="";"10"==t||"11"==t?i="/order/detail/send":"0"==t?i="/order/detail/payment":"20"==t?i="/order/detail/receive":"30"==t?i="/order/detail/achieve":"-1"==t&&(i="/order/detail/close"),this.$router.push({path:i,query:{id:e}})},handlePrinter:function(e){var t=this;this.$api.printerApi.printerList({only_list:1,status:1}).then((function(i){0==i.error&&(i.data.length<=0?t.toPrinterList():(t.printerList=i.data,t.checkPrinter(e)))}))},toPrinterList:function(){var e=this;this.$Modal.confirm({title:"提示",content:"您当前还未配置打印机，立即前往进行配置。",okText:"立即配置",cancelText:"暂不配置",onOk:function(){e.$utils.openNewWindowPage("/printer/manage/list")},onCancel:function(){}})},getPrinterTemList:function(){var e=this;this.$api.printerApi.getPrinterTemList({only_list:1}).then((function(t){0==t.error&&(e.templateList=t.data,e.printerModal=!0)}))},checkPrinter:function(e){var t=this;this.$api.printerApi.executePrinter({order_id:e,is_check:1}).then((function(i){0==i.error&&(t.printerModelData.order_id=e,(null===i||void 0===i?void 0:i.message)>0?t.checkPrinterNum(i.message):t.getPrinterTemList())}))},checkPrinterNum:function(e){var t=this;this.$Modal.confirm({title:"提示",content:"您已经打印".concat(e,"次，是否继续打印"),okText:"立即打印",cancelText:"暂不打印",onOk:function(){t.getPrinterTemList()},onCancel:function(){}})},printerCancel:function(){this.printerModal=!1},printerOk:function(){var e=this;this.$refs["form"].validate((function(t){t&&e.$api.printerApi.executePrinter(e.printerModelData).then((function(t){0==t.error&&e.$Message.success("打印成功"),e.printerModal=!1}))}))},handlerRemark:function(){this.remarkModal=!0,this.remarkText=this.item.seller_remark},remarkModalClose:function(){this.remarkModal=!1},remarkModalOk:function(){var e=this;this.$api.orderApi.setOrderRemark({order_id:this.item.id,seller_remark:this.remarkText}).then((function(t){0==t.error&&(e.$Message.success("保存成功"),e.remarkModal=!1,e.$emit("on-refresh"))}))},hasOrderSheet:function(e){var t;return 1===(null===(t=e.icon)||void 0===t?void 0:t.electronic_sheet)},virtualGood:function(e){var t;return!(1==(null===(t=e.order_goods[0])||void 0===t?void 0:t.type))}}};t.default=i},"82cf5":function(e,t,i){},"84ba":function(e,t,i){"use strict";i.r(t);var n=i("2f91"),a=i.n(n);for(var r in n)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(r);t["default"]=a.a},"85ee":function(e,t,i){"use strict";i.r(t);var n=i("e377"),a=i.n(n);for(var r in n)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(r);t["default"]=a.a},"87a1":function(e,t,i){"use strict";var n=i("566b");i.o(n,"render")&&i.d(t,"render",(function(){return n["render"]})),i.o(n,"staticRenderFns")&&i.d(t,"staticRenderFns",(function(){return n["staticRenderFns"]}))},"8aa1":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var i=function(){var e=this,t=e._self._c;return t("td",{attrs:{rowspan:e.list.order_goods.length}},[e.hasRefundSuc(e.list.order_goods)?t("div",{staticClass:"shop-action action refund"},[e._v("整单维权完成")]):t("div",{staticClass:"shop-action action"},[t("div",{staticClass:"order-status"},["10"==e.list.status?t("span",{staticClass:"wait-send-goods"},[e._v("待发货")]):e._e(),"11"===e.list.status?t("span",{staticClass:"wait-send-goods"},[e._v("部分发货")]):"0"===e.list.status?t("span",{staticClass:"wait-payment"},[e._v("待付款")]):"20"===e.list.status?t("span",{staticClass:"wait-tack-goods"},[e._v("待收货")]):"30"===e.list.status?t("span",{staticClass:"order-archive"},[e._v("已完成")]):"-1"===e.list.status?t("span",{staticClass:"order-close"},[e._v("已关闭")]):e._e()]),t("div",{staticClass:"btn"},["10"==e.list.status?[[t("Button",{attrs:{type:"text"},on:{click:function(t){return e.sendGoods(e.list)}}},[e._v("确认发货")]),t("Button",{attrs:{type:"text"},on:{click:function(t){return e.editReceiveInfo(e.list)}}},[e._v("修改收货信息 ")])],"3"!=e.list.pay_type&&"1"!=e.list.pay_type?t("Button",{attrs:{type:"text"},on:{click:function(t){return e.generalRefund(e.list)}}},[e._v("退款 ")]):e._e()]:"11"===e.list.status?[[t("Button",{attrs:{type:"text"},on:{click:function(t){return e.sendGoods(e.list)}}},[e._v("确认发货")]),t("Button",{attrs:{type:"text"},on:{click:function(t){return e.cancelSendGoods(e.list)}}},[e._v("取消发货 ")])],"3"!=e.list.pay_type&&"1"!=e.list.pay_type?t("Button",{attrs:{type:"text"},on:{click:function(t){return e.generalRefund(e.list)}}},[e._v("退款 ")]):e._e(),["30"!==e.list.dispatch_type?t("Button",{attrs:{type:"text"},on:{click:function(t){return e.editExpress(e.list)}}},[e._v("修改物流 ")]):e._e()]]:"0"===e.list.status?["20"!=e.list.scene?t("Button",{attrs:{type:"text"},on:{click:function(t){return e.confirmPayment(e.list)}}},[e._v("确认付款 ")]):e._e(),t("Button",{attrs:{type:"text"},on:{click:function(t){return e.changePrice(e.list)}}},[e._v("订单改价 ")]),t("Button",{attrs:{type:"text"},on:{click:function(t){return e.closeOrder(e.list)}}},[e._v("关闭订单")])]:"20"===e.list.status&&"20"!=e.list.dispatch_type?[[t("Button",{attrs:{type:"text"},on:{click:function(t){return e.confirmTakeGoods(e.list)}}},[e._v("确认收货 ")]),"0"===e.goods.type&&"30"!==e.list.dispatch_type?t("Button",{attrs:{type:"text"},on:{click:function(t){return e.editExpress(e.list)}}},[e._v("修改物流 ")]):e._e(),"1"!==e.goods.type&&"3"!=e.list.pay_type||"1"==e.list.refund_type?e._e():t("Button",{attrs:{type:"text"},on:{click:function(t){return e.generalRefund(e.list)}}},[e._v("退款 ")])],"0"===e.goods.type&&"30"!==e.list.dispatch_type?t("Button",{attrs:{type:"text"},on:{click:function(t){return e.packageExpress(e.list)}}},[e._v("物流信息 ")]):e._e()]:e._e()],2)])])};t.render=i;var n=[];t.staticRenderFns=n},"8d18":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var i=function(){var e=this,t=e._self._c;return t("td",{attrs:{rowspan:e.list.order_goods.length}},[t("kdx-hint-tooltip",{attrs:{"max-width":310,type:"form"},scopedSlots:e._u([{key:"header",fn:function(){return[t("div",{staticClass:"shop-payment payment"},[t("div",{staticClass:"shop-payment-price"},[t("span",[e._v(" ￥"+e._s(e.list.pay_price)+" ")]),e.isInvoiceInfo(e.list)?t("span",{staticClass:"label"},[e._v(" 票 ")]):e._e(),"0"===e.goods.type?t("p",[e._v(" (含运费：￥"+e._s(e.list.dispatch_price)+") ")]):e._e()])])]},proxy:!0}])},[t("Form",{attrs:{"label-width":72}},[e._l(e.priceList,(function(i,n){return t("FormItem",{key:n,attrs:{label:i.title}},[t("span",[e._v(e._s(i.price))])])})),t("FormItem",{attrs:{label:"实付款："}},[t("span",{staticClass:"danger-color"},[e._v("￥"+e._s(e.list.pay_price))])])],2)],1)],1)};t.render=i;var n=[];t.staticRenderFns=n},"8ede":function(e,t,i){e.exports=i.p+"static/dist/shop/img/discount.png"},"985f":function(e,t,i){"use strict";i.r(t);var n=i("ed4d"),a=i("bcbd");for(var r in a)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(r);i("bf8d");var s=i("2877"),o=Object(s["a"])(a["default"],n["render"],n["staticRenderFns"],!1,null,"3a75f019",null);t["default"]=o.exports},9943:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("99af");var n={props:{list:{type:Object,default:function(){return{}}},goods:{type:Object,default:function(){return{}}},status:{type:String,default:""}},filters:{getRowNum:function(e,t){return"2"===e?1:t}},methods:{hasRefund:function(e,t){return"0"==e.is_refund||"1"===e.is_refund&&"2"===e.refund_type&&"0"===t.is_single_refund},getPath:function(e,t){var i=e.refund_type,n=e.id,a=e.is_refund,r="/order/";if("1"===t.refund_type)r+="refund-detail";else if("2"===t.refund_type)r+="returns-refunds-detail";else{if("3"!==t.refund_type)return"";r+="exchange-goods-detail"}return r+="?id=".concat(n,"&is_refund=").concat(a),"2"===i&&(r+="&ids=".concat(t.id)),r}}};t.default=n},"9a38":function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0,i("b0c0");var n=function(){var e=this,t=e._self._c;return t("kdx-header-bar",[t("Form",{attrs:{model:e.model,"label-width":100,inline:""},nativeOn:{submit:function(e){e.preventDefault()}}},[t("FormItem",{attrs:{label:"关键词："}},[t("i-input",{staticClass:"width-340",attrs:{type:"text",placeholder:"关键词"},on:{"on-enter":e.handleSearch},model:{value:e.model.keywords,callback:function(t){e.$set(e.model,"keywords",t)},expression:"model.keywords"}},[t("Select",{staticStyle:{width:"120px"},attrs:{slot:"prepend"},slot:"prepend",model:{value:e.model.search_field,callback:function(t){e.$set(e.model,"search_field",t)},expression:"model.search_field"}},e._l(e.optionData.search_field,(function(i,n){return t("Option",{key:n,attrs:{value:i.key}},[e._v(" "+e._s(i.name)+" ")])})),1)],1)],1),t("FormItem",{attrs:{label:"支付方式："}},[t("Select",{staticClass:"width-160",model:{value:e.model.pay_type,callback:function(t){e.$set(e.model,"pay_type",t)},expression:"model.pay_type"}},e._l(e.optionData.pay_type,(function(i){return t("Option",{key:i.id,attrs:{value:i.id}},[e._v(" "+e._s(i.name)+" ")])})),1)],1),t("FormItem",{attrs:{label:"下单时间："}},[t("DatePicker",{staticClass:"width-340",attrs:{type:"datetimerange",placeholder:"下单时间",format:"yyyy-MM-dd HH:mm"},on:{"on-change":e.changeDate},model:{value:e.model.time,callback:function(t){e.$set(e.model,"time",t)},expression:"model.time"}})],1),t("FormItem",{attrs:{label:"订单来源："}},[t("Select",{staticClass:"width-160",model:{value:e.model.create_from,callback:function(t){e.$set(e.model,"create_from",t)},expression:"model.create_from"}},e._l(e.optionData.create_from,(function(i){return t("Option",{key:i.id,attrs:{value:i.id}},[e._v(" "+e._s(i.name)+" ")])})),1)],1),t("FormItem",{attrs:{label:"活动订单："}},[t("Select",{staticClass:"width-160",attrs:{value:e.model.activity_type},on:{"on-change":e.changeType}},[t("Option",{key:"all",attrs:{value:"all"}},[e._v("全部")]),e._l(e.optionData.activity_type,(function(i){return t("Option",{key:i.key,attrs:{value:i.key}},[e._v(e._s(i.value)+" ")])}))],2)],1),"all"==e.status?t("FormItem",{attrs:{label:"订单状态："}},[t("Select",{staticClass:"width-160",model:{value:e.model.status,callback:function(t){e.$set(e.model,"status",t)},expression:"model.status"}},e._l(e.optionData.order_status,(function(i){return t("Option",{key:i.id,attrs:{value:i.id}},[e._v(e._s(i.name)+" ")])})),1)],1):e._e(),e.managePerm&&"refund"===e.status?t("FormItem",{attrs:{label:"维权类型："}},[t("Select",{staticClass:"width-160",model:{value:e.model.refund_type,callback:function(t){e.$set(e.model,"refund_type",t)},expression:"model.refund_type"}},e._l(e.optionData.refund_type,(function(i){return t("Option",{key:i.id,attrs:{value:i.id}},[e._v(" "+e._s(i.name)+" ")])})),1)],1):e._e(),e.managePerm?t("FormItem",{attrs:{label:"维权状态："}},[t("Select",{staticClass:"width-160",model:{value:e.model.refund_status,callback:function(t){e.$set(e.model,"refund_status",t)},expression:"model.refund_status"}},e._l(e.optionData.refund_status,(function(i){return t("Option",{key:i.id,attrs:{value:i.id}},[e._v(" "+e._s(i.name)+" ")])})),1)],1):e._e(),e.managePerm?t("FormItem",{attrs:{label:"配送方式："}},[t("Select",{staticClass:"width-160",model:{value:e.model.dispatch_type,callback:function(t){e.$set(e.model,"dispatch_type",t)},expression:"model.dispatch_type"}},e._l(e.deliveryList,(function(i){return t("Option",{key:i.id,attrs:{value:i.id}},[e._v(" "+e._s(i.name)+" ")])})),1)],1):e._e(),t("FormItem",{attrs:{label:"商品类型："}},[t("Select",{staticClass:"width-160",model:{value:e.model.type,callback:function(t){e.$set(e.model,"type",t)},expression:"model.type"}},e._l(e.optionData.goodsType,(function(i){return t("Option",{key:i.key,attrs:{value:i.key}},[e._v(e._s(i.value)+" ")])})),1)],1),t("div",{staticClass:"ivu-form-item-btn"},[t("Button",{attrs:{type:"primary"},on:{click:e.handleSearch}},[e._v("搜索")]),t("Button",{attrs:{type:"text"},on:{click:e.handleReset}},[e._v("重置")]),t("Button",{attrs:{type:"text"},on:{click:e.handleExport}},[e._v("导出")])],1)],1)],1)};t.render=n;var a=[];t.staticRenderFns=a},"9ace":function(e,t,i){},"9e37":function(e,t,i){"use strict";i.r(t);var n=i("045e"),a=i.n(n);for(var r in n)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(r);t["default"]=a.a},a00b:function(e,t,i){"use strict";i.r(t);var n=i("2bcc"),a=i.n(n);for(var r in n)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(r);t["default"]=a.a},a4819:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var i=function(){var e=this,t=e._self._c;return t("td",{attrs:{rowspan:e._f("getRowNum")(e.list.refund_type,e.list.order_goods.length)}},[t("div",{staticClass:"shop-status refund-status"},[e.hasRefund(e.list,e.goods)?[e._v("-")]:[t("kdx-status-text",{staticStyle:{display:"block"},attrs:{type:e.goods.refund_status>=0&&e.goods.refund_status<10?"danger":"success"}},[e._v(" "+e._s(e.goods.refund_status_text)+" ")]),"refund"===e.status?t("div",{staticClass:"refund-status-box"},[e.goods.refund_type_text?t("span",{staticClass:"refund-status-text"},[e._v(e._s(e.goods.refund_type_text))]):e._e()]):e._e(),"1"==e.list.is_refund?[t("Button",{attrs:{type:"text",to:e.getPath(e.list,e.goods)}},[e._v(" 维权详情 ")])]:e._e()]],2)])};t.render=i;var n=[];t.staticRenderFns=n},af5c:function(e,t,i){"use strict";var n=i("8aa1");i.o(n,"render")&&i.d(t,"render",(function(){return n["render"]})),i.o(n,"staticRenderFns")&&i.d(t,"staticRenderFns",(function(){return n["staticRenderFns"]}))},b0b4:function(e,t,i){"use strict";i.r(t);var n=i("32c8"),a=i("a00b");for(var r in a)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(r);var s=i("2877"),o=Object(s["a"])(a["default"],n["render"],n["staticRenderFns"],!1,null,"bc76607c",null);t["default"]=o.exports},b195:function(e,t,i){"use strict";i.r(t);var n=i("5447"),a=i("65af");for(var r in a)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(r);i("3a10");var s=i("2877"),o=Object(s["a"])(a["default"],n["render"],n["staticRenderFns"],!1,null,"7cae5b4a",null);t["default"]=o.exports},bcbd:function(e,t,i){"use strict";i.r(t);var n=i("3ea3"),a=i.n(n);for(var r in n)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(r);t["default"]=a.a},bd01:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var n=function(){var e=this,t=e._self._c;return t("td",[t("div",{staticClass:"shop"},[t("div",{staticClass:"shop-image"},[""===e.goods.thumb?t("div",["1"==e.goods.ext_field.coupon_sale_type?t("div",{staticClass:"shop-item"},[t("img",{attrs:{src:i("999e"),alt:""},on:{error:e.replaceImage}})]):"2"==e.goods.ext_field.coupon_sale_type?t("div",{staticClass:"shop-item"},[t("img",{attrs:{src:i("8ede"),alt:""},on:{error:e.replaceImage}})]):e._e()]):t("div",{staticClass:"shop-item"},[t("img",{attrs:{src:e.$media(e.goods.thumb),alt:""},on:{error:e.replaceImage}})])]),t("div",{staticClass:"shop-information"},[t("div",{staticClass:"title"},[t("span",{staticClass:"mark",class:e.getType.goodsName},[e._v(" "+e._s(e.getType.goodsText)+" ")]),e._v(" "+e._s(e.goods.title)+" ")]),t("div",{staticClass:"shop-label"},[e.goods.plugin_identification&&"1"==e.goods.plugin_identification.is_commission?t("kdx-tag-label",{attrs:{type:"warning",size:"small"}},[t("div",[t("span",{staticClass:"iconfont icon-fenxiao"}),t("span",[e._v(" 分销商品 ")])])]):e._e(),e.goods.option_title?t("kdx-tag-label",{attrs:{type:"info",size:"small"}},[e._v(" "+e._s(e.goods.option_title)+" ")]):e._e()],1)])])])};t.render=n;var a=[];t.staticRenderFns=a},bf8d:function(e,t,i){"use strict";i("eea15")},c057:function(e,t,i){var n=i("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(i("5530"));i("ac1f"),i("841c"),i("d81d"),i("99af");var r=n(i("3cb9")),s=n(i("323e")),o=n(i("1c03")),d=i("f8b7"),c=i("3b02"),l=i("d1be"),u={name:"index",data:function(){return{tableShow:!1,checkWidth:0,table:{data:[],loading:!1,total:0},page:{pageSize:10,pageNumber:1},search:{},isExport:"0",status:"",timeInterval:"",id:"",member_id:"",visible:!1,orderNo:""}},inject:["returnToTop"],components:{SearchHeader:r.default,OrderList:s.default,CommissionEdit:o.default},watch:{"$route.path":{handler:function(){var e=this;if(0==this.$route.path.indexOf("/order/list/")){this.status=this.$route.params.id;var t=this.$route.query||{};this.$history.setRoute(this.$route).getData((function(i){e.page=e.$utils.deepCopy(i.page)||{pageSize:10,pageNumber:1},e.search=e.$utils.deepCopy(i.search)||{};var n=e.$utils.deepCopy(e.search);for(var r in n)n[r]||delete n[r];setTimeout((function(){e.$nextTick((function(){e.resetSearch((0,a.default)((0,a.default)({},n),t)),e.refreshTable(i.page)}))}))}))}},immediate:!0}},methods:{handleSearch:function(e){this.search=e,this.refreshTable()},resetSearch:function(e){var t=this;this.search=Object.assign({},e),this.$nextTick((function(){t.$refs["search"].reset(e)}))},changePage:function(e){this.page=e,this.getList()},refreshTable:function(e){var t=this;this.page=(0,a.default)({pageSize:10,pageNumber:1},e),this.getList(),this.$nextTick((function(){t.$refs["table"].reset(e)}))},getListName:function(){var e;switch(this.$route.path){case"/order/list/all":e="getAllList";break;case"/order/list/send":e="getSendList";break;case"/order/list/payment":e="getPaymentList";break;case"/order/list/receive":e="getReceiveList";break;case"/order/list/achieve":e="getAchieveList";break;case"/order/list/close":e="getCloseList";break;case"/order/list/refund":e="getRefundList";break}return e},getList:function(){var e,t,i,n=this;this.returnToTop(),this.table.loading=!0;var a=0;if(a=(null===(e=this.$refs["content"])||void 0===e?void 0:e.offsetWidth)-40-1,a){this.checkWidth=a,null!==(t=this.search)&&void 0!==t&&null!==(i=t.time)&&void 0!==i&&i.length&&(this.search.time=this.search.time.map((function(e){return"string"==typeof e?e:(0,l.formatDate)(e,"yyyy-MM-dd hh:mm:ss")}))),this.$history.setData({search:this.$utils.deepCopy(this.search),page:this.page});var r=Object.assign({pagesize:this.page.pageSize,page:this.page.pageNumber},this.search),s=this.getListName();this.$api.orderApi[s](r).then((function(e){0===e.error&&(n.table.data=e.list||[],n.table.total=e.total,"getPaymentList"!==s&&"getAllList"!==s||n.countDownPayment(),n.table.loading=!1,n.tableShow=!0)}))}else setTimeout((function(){n.getList()}),30)},handleExport:function(){var e=(0,a.default)({export:"1"},this.search),t=this.getListName();(0,c.Export)(d.orderApi[t].api,e)},countDownPayment:function(){var e=this;"payment"!==this.status&&"all"!==this.status||(this.timeInterval=setInterval((function(){var t;null!==(t=e.table.data)&&void 0!==t&&t.length&&(e.table.data=e.table.data.map((function(e){return e.count_down_time="剩余支付"+f(e.auto_close_time),e})))}),1e3))},editCommision:function(e){var t=e.id,i=e.member_id,n=e.order_no;this.orderNo=n,this.id=t,this.member_id=i,this.visible=!0}},beforeDestroy:function(){clearInterval(this.timeInterval)},mounted:function(){}};function f(e){if(e=1e3*e-(new Date).getTime(),e<=0&&e>=-10)return clearInterval(this.timeInterval),void this.refreshTable();var t=parseInt(e/864e5)||"00",i=parseInt(e/36e5%24)||"00",n=parseInt(e/6e4%60)||"00",a=parseInt(e/1e3%60)||"00",r="".concat(t,"天").concat(i,"小时").concat(n,"分钟").concat(a,"秒");return r}t.default=u},c3fc:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0,i("b0c0");var n=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"table-content-time"},[t("div",{staticClass:"left"},[t("Tooltip",{attrs:{content:"公众号",placement:"top"}},["20"==e.item.create_from?t("span",{staticClass:"iconfont icon-weixin icon"}):e._e()]),t("Tooltip",{attrs:{content:"微信小程序",placement:"top"}},["21"==e.item.create_from?t("span",{staticClass:"iconfont icon-weixinxiaochengxu icon"}):e._e()]),t("Tooltip",{attrs:{content:"头条小程序",placement:"top"}},["30"==e.item.create_from?t("kdx-svg-icon",{staticClass:"iconfont icon",attrs:{type:"icon-qudao-toutiao2"}}):e._e(),"32"==e.item.create_from?t("kdx-svg-icon",{staticClass:"iconfont icon",attrs:{type:"icon-qudao-toutiaojisuban"}}):e._e()],1),t("Tooltip",{attrs:{content:"抖音小程序",placement:"top"}},["31"==e.item.create_from?t("kdx-svg-icon",{staticClass:"iconfont icon",attrs:{type:"icon-douyin"}}):e._e()],1),t("Tooltip",{attrs:{content:"手机浏览器H5",placement:"top"}},["10"==e.item.create_from?t("span",{staticClass:"iconfont icon-H icon"}):e._e()]),2==e.item.activity_type?t("div",{staticClass:"activity-icon"},[t("Tooltip",{attrs:{content:"秒杀订单",placement:"top"}},[t("span",{staticClass:"iconfont icon-dingdanliebiao-miaosha seckill"})])],1):e._e(),t("span",{staticClass:"text"},[e._v("下单时间："+e._s(e.item.created_at))]),t("span",{staticClass:"text1"},[e._v("订单编号："+e._s(e.item.order_no))]),t("kdx-copy-text",{attrs:{text:e.item.order_no}},[t("Button",{attrs:{type:"text",size:"small"}},[e._v("复制")])],1)],1),t("div",{staticClass:"right"},[e.hasOrderSheet(e.item)&&!e.item.not_show_express?t("span",{on:{click:function(t){return e.jumpEOrder(e.item.order_no)}}},[e._v("发货单")]):e._e(),e.hasOrderSheet(e.item)&&!e.item.not_show_express&&e.virtualGood(e.item)?t("span",{on:{click:function(t){return e.jumpEOrder(e.item.order_no)}}},[e._v("电子面单")]):e._e(),t("span",{attrs:{type:"text"},on:{click:function(t){return e.handlePrinter(e.item.id)}}},[e._v("打印小票")]),"0"===e.item.status&&1e3*e.item.auto_close_time-Date.now()>0&&e.countTime?t("span",{staticClass:"remaining-time"},[e._v(" "+e._s(e.countTime)+" ")]):e._e(),t("span",{on:{click:function(t){return e.checkDetail(e.item.id,e.item.status)}}},[e._v("订单详情")]),t("Button",{class:{"remark-on":e.item.seller_remark},attrs:{type:"text"},on:{click:e.handlerRemark}},[e._v("备注 ")])],1),t("kdx-modal-frame",{attrs:{title:"请选择相关信息",width:610},on:{"on-cancel":e.printerCancel,"on-ok":e.printerOk},model:{value:e.printerModal,callback:function(t){e.printerModal=t},expression:"printerModal"}},[t("div",{staticClass:"printer-modal"},[t("Form",{ref:"form",attrs:{"label-width":120,model:e.printerModelData,rules:e.rules},nativeOn:{submit:function(e){e.preventDefault()}}},[t("FormItem",{attrs:{label:"打印机：",prop:"printer_id"}},[t("Select",{staticClass:"width-340",attrs:{placeholder:"请选择打印机"},model:{value:e.printerModelData.printer_id,callback:function(t){e.$set(e.printerModelData,"printer_id",t)},expression:"printerModelData.printer_id"}},e._l(e.printerList,(function(i){return t("Option",{key:i.id,attrs:{value:i.id}},[e._v(e._s(i.name)+" ")])})),1)],1),t("FormItem",{attrs:{label:"打印模板：",prop:"template_id"}},[t("Select",{staticClass:"width-340",attrs:{placeholder:"请选择打印模板"},model:{value:e.printerModelData.template_id,callback:function(t){e.$set(e.printerModelData,"template_id",t)},expression:"printerModelData.template_id"}},e._l(e.templateList,(function(i){return t("Option",{key:i.id,attrs:{value:i.id}},[e._v(e._s(i.name)+" ")])})),1)],1)],1)],1)]),t("kdx-modal-frame",{attrs:{title:"商家备注",width:520},on:{"on-cancel":e.remarkModalClose,"on-ok":e.remarkModalOk},model:{value:e.remarkModal,callback:function(t){e.remarkModal=t},expression:"remarkModal"}},[t("div",{staticClass:"remark-modal"},[t("Form",[t("FormItem",[t("Input",{attrs:{type:"textarea",placeholder:"请输入",maxlength:"200",autosize:{minRows:4},"show-word-limit":""},model:{value:e.remarkText,callback:function(t){e.remarkText=t},expression:"remarkText"}})],1)],1)],1)])],1)])};t.render=n;var a=[];t.staticRenderFns=a},d91d:function(e,t,i){"use strict";i.r(t);var n=i("6316"),a=i("4c24");for(var r in a)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(r);i("e922");var s=i("2877"),o=Object(s["a"])(a["default"],n["render"],n["staticRenderFns"],!1,null,"2a998c90",null);t["default"]=o.exports},db3f:function(e,t,i){"use strict";i("9ace")},e007:function(e,t,i){"use strict";var n=i("0401");i.o(n,"render")&&i.d(t,"render",(function(){return n["render"]})),i.o(n,"staticRenderFns")&&i.d(t,"staticRenderFns",(function(){return n["staticRenderFns"]}))},e377:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={props:{list:{type:Object,default:function(){return{}}}},methods:{editCommision:function(){this.$emit("click")}},filters:{getLevel:function(e){var t={1:"一级预计佣金：",2:"二级预计佣金："};return t[e]}}};t.default=i},e922:function(e,t,i){"use strict";i("5b3e")},ed4d:function(e,t,i){"use strict";var n=i("bd01");i.o(n,"render")&&i.d(t,"render",(function(){return n["render"]})),i.o(n,"staticRenderFns")&&i.d(t,"staticRenderFns",(function(){return n["staticRenderFns"]}))},eea15:function(e,t,i){},eed1:function(e,t,i){"use strict";var n=i("6bce");i.o(n,"render")&&i.d(t,"render",(function(){return n["render"]})),i.o(n,"staticRenderFns")&&i.d(t,"staticRenderFns",(function(){return n["staticRenderFns"]}))}}]);