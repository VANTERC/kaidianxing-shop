(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[31,19],{"005c":function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header-info"},[a("kdx-form-title",[t._v("分销关系")]),a("Row",{staticClass:"base-information"},[a("Col",{attrs:{span:"10"}},[a("div",{staticClass:"user"},[a("div",{staticClass:"user-image"},[a("img",{attrs:{src:t.$media(t.memberInfo.avatar),alt:""},on:{error:function(e){return t.replaceImage(e,"avatar")}}})]),a("div",{staticClass:"user-information"},[a("Form",{attrs:{"label-width":100}},[a("FormItem",{attrs:{label:"昵称："}},[t._v(" "+t._s(t.memberInfo.nickname||"无")+" ")]),a("FormItem",{attrs:{label:"上级分销商："}},[a("div",{staticClass:"up-level"},[a("img",{attrs:{src:t.$media(t.agentInfo.avatar),alt:""},on:{error:function(e){return t.replaceImage(e,"avatar")}}}),a("span",{staticClass:"nick-name line-hide"},[t._v(t._s(t.agentInfo.nickname||"-"))])])])],1)],1)])]),a("Col",{staticStyle:{"margin-bottom":"-20px"},attrs:{span:"8"}},[a("Form",{attrs:{"label-width":120}},[a("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"全部下级："}},[a("span",{staticClass:"level-member"},[t._v(t._s(t.child.all))]),t._v("人（分销商："+t._s(t.child.all_agent)+"人） ")]),a("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"一级："}},[a("span",{staticClass:"level-member"},[t._v(t._s(t.child.level1_all))]),t._v("人（分销商："+t._s(t.child.level1_agent)+"人） ")]),a("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"二级："}},[a("span",{staticClass:"level-member"},[t._v(t._s(t.child.level2_all))]),t._v("人（分销商："+t._s(t.child.level2_agent)+"人） ")]),a("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"三级："}},[a("span",{staticClass:"level-member"},[t._v(t._s(t.child.level3_all))]),t._v("人（分销商："+t._s(t.child.level3_agent)+"人） ")])],1)],1),a("Col",{attrs:{span:"6"}})],1)],1)},n=[]},"00cb":function(t,e,a){"use strict";a.r(e);var i=a("dcdb"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"00f6":function(t,e,a){"use strict";a("a792")},"01cb":function(t,e,a){"use strict";a("aa39")},"0233":function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("kdx-header-bar",[a("Form",{ref:"form",staticStyle:{"min-width":"1200px",overflow:"auto"},attrs:{"label-width":110,inline:""},nativeOn:{submit:function(t){t.preventDefault()}}},[a("FormItem",{attrs:{label:"商品名称："}},[a("Input",{staticClass:"width-340",attrs:{type:"text",placeholder:"商品名称/编码/条码"},on:{"on-enter":t.handleSearch},model:{value:t.model.keywords,callback:function(e){t.$set(t.model,"keywords",e)},expression:"model.keywords"}})],1),a("FormItem",{attrs:{label:"商品分类："}},[a("tree-select",{staticClass:"width-160",attrs:{transfer:!0,data:t.categoryList},on:{"change-data":t.changeData},model:{value:t.model.category_id,callback:function(e){t.$set(t.model,"category_id",e)},expression:"model.category_id"}})],1),a("FormItem",{attrs:{label:"商品分组："}},[a("Select",{staticClass:"width-160",model:{value:t.model.group_id,callback:function(e){t.$set(t.model,"group_id",e)},expression:"model.group_id"}},t._l(t.groupList,(function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v(" "+t._s(e.name)+" ")])})),1)],1),a("FormItem",{attrs:{label:"商品状态："}},[a("Select",{staticClass:"width-160",model:{value:t.model.status,callback:function(e){t.$set(t.model,"status",e)},expression:"model.status"}},t._l(t.statusList,(function(e){return a("Option",{key:e.type,attrs:{value:e.type}},[t._v(" "+t._s(e.text)+" ")])})),1)],1),a("FormItem",{attrs:{label:"商品类型："}},[a("Select",{staticClass:"width-160",model:{value:t.model.type,callback:function(e){t.$set(t.model,"type",e)},expression:"model.type"}},t._l(t.goodsType.label_field,(function(e){return a("Option",{key:e.field,attrs:{value:e.field}},[t._v(t._s(e.title)+" ")])})),1)],1),a("div",{staticClass:"ivu-form-item-btn"},[a("Button",{attrs:{type:"primary"},on:{click:t.handleSearch}},[t._v("搜索")]),a("Button",{attrs:{type:"text"},on:{click:t.handleReset}},[t._v("重置")])],1)],1)],1)},n=[]},"078e":function(t,e,a){"use strict";a("3236")},"07ac":function(t,e,a){var i=a("23e7"),n=a("6f53").values;i({target:"Object",stat:!0},{values:function(t){return n(t)}})},"08c2":function(t,e,a){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("a9e3");var i={props:{info:{type:Object,default:function(){}},count:{type:Number,default:0}},data:function(){return{status:0}},computed:{noManagePerm:function(){return!this.$getPermMap("finance.withdraw.manage")}},watch:{info:{handler:function(){this.status=this.info.status},immediate:!0}},methods:{agreeHandler:function(){var t=this;this.$Modal.confirm({title:"提示",content:"确认通过此用户的提现申请?",cancelText:"取消",onOk:function(){t.$api.commissionApi.applyCheckedAgree({id:t.info.id}).then((function(e){0===e.error&&(t.$Message.success("操作成功"),t.$emit("refresh",{}))}))}})},refuseHandler:function(){var t=this;this.$Modal.confirm({title:"提示",content:"确认拒绝此用户的提现申请?",cancelText:"取消",onOk:function(){t.$api.commissionApi.applyCheckedRefuse({id:t.info.id}).then((function(e){0===e.error&&(t.$Message.success("操作成功"),t.$emit("refresh",{}))}))}})},payHandler:function(){var t=this;this.$Modal.confirm({title:"提示",content:"确认打款给此用户吗?",cancelText:"取消",onOk:function(){t.$api.commissionApi.applyRemit({id:t.info.id}).then((function(e){0===e.error&&(t.$Message.success("操作成功"),t.$emit("refresh",{}))}))}})},manaualHandler:function(){var t=this;this.$Modal.confirm({title:"提示",content:"确认手动打款给此用户吗?",cancelText:"取消",onOk:function(){t.$api.commissionApi.manaualRemit({id:t.info.id}).then((function(e){0===e.error&&(t.$Message.success("操作成功"),t.$emit("refresh",{}))}))}})},checkAgagin:function(){var t=this;this.$Modal.confirm({title:"提示",content:"确认重新审核吗?",cancelText:"取消",onOk:function(){t.$api.commissionApi.checkAgain({id:t.info.id}).then((function(e){0===e.error&&(t.$Message.success("操作成功"),t.$emit("refresh",{}))}))}})}}};e.default=i},"0b7d":function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=[{value:"[订单类]",label:"订单类",children:[{value:"[订单信息]",label:"订单信息",children:[{value:"[商城名称]",label:"商城名称"},{value:"[商品名称]",label:"商品名称"},{value:"[会员昵称]",label:"会员昵称"},{value:"[订单编号]",label:"订单编号"},{value:"[支付金额]",label:"支付金额"},{value:"[运费]",label:"运费"},{value:"[商品详情]",label:"商品详情"},{value:"[快递公司]",label:"快递公司"},{value:"[快递单号]",label:"快递单号"},{value:"[买家姓名]",label:"买家姓名"},{value:"[买家电话]",label:"买家电话"},{value:"[收货地址]",label:"收货地址"},{value:"[下单时间]",label:"下单时间"},{value:"[支付时间]",label:"支付时间"},{value:"[发货时间]",label:"发货时间"},{value:"[收货时间]",label:"收货时间"},{value:"[积分变动]",label:"积分变动"},{value:"[积分余额]",label:"积分余额"},{value:"[订单状态]",label:"订单状态"},{value:"[买家备注]",label:"买家备注"}]},{label:"售后相关",value:"[售后相关]",children:[{value:"[订单编号]",label:"订单编号"},{value:"[售后类型]",label:"售后类型"},{value:"[申请时间]",label:"申请时间"},{value:"[退款金额]",label:"退款金额"},{value:"[退货地址]",label:"退货地址"},{value:"[换货快递公司]",label:"换货快递公司"},{value:"[换货快递单号]",label:"换货快递单号"},{value:"[退款状态]",label:"退款状态"}]}]},{value:"[账户变动类]",label:"账户变动类",children:[{value:"[变动账户]",label:"变动账户",children:[{value:"[变动账户]",label:"变动账户"}]},{value:"[变动时间]",label:"变动时间",children:[{value:"[充值时间]",label:"充值时间"},{value:"[退款时间]",label:"退款时间"},{value:"[提现时间]",label:"提现时间"}]},{value:"[变动金额]",label:"变动金额",children:[{value:"[充值金额]",label:"充值金额"},{value:"[退款金额]",label:"退款金额"},{value:"[提现金额]",label:"提现金额"}]},{value:"[账户余额]",label:"账户余额",children:[{value:"[账户余额]",label:"账户余额"},{value:"[账户积分]",label:"账户积分"}]},{value:"[优惠券类型]",label:"优惠券类型",children:[{value:"[优惠券类型]",label:"优惠券类型"}]},{value:"[发放状态]",label:"发放状态",children:[{value:"[发放状态]",label:"发放状态"}]},{value:"[发放时间]",label:"发放时间",children:[{value:"[发放时间]",label:"发放时间"}]}]},{value:"[注册登录类]",label:"注册登录类",children:[{value:"[验证码]",label:"验证码",children:[{value:"[验证码]",label:"验证码"}]}]},{value:"[分销类]",label:"分销类",children:[{value:"[分销身份变更]",label:"分销身份变更",children:[{value:"[商城名称]",label:"商城名称"},{value:"[用户昵称]",label:"用户昵称"},{value:"[手机号]",label:"手机号"},{value:"[变动时间]",label:"变动时间"},{value:"[下级昵称]",label:"下级昵称"},{value:"[下级等级]",label:"下级等级"},{value:"[旧等级]",label:"旧等级"},{value:"[新等级]",label:"新等级"}]},{value:"[分销订单]",label:"分销订单",children:[{value:"[订单编号]",label:"订单编号"},{value:"[订单金额]",label:"订单金额"},{value:"[佣金金额]",label:"佣金金额"},{value:"[商品名称]",label:"商品名称"},{value:"[付款时间]",label:"付款时间"},{value:"[下级层级]",label:"下级层级"}]},{value:"[佣金与提现]",label:"佣金与提现",children:[{value:"[提现时间]",label:"提现时间"},{value:"[提现金额]",label:"提现金额"},{value:"[审核结果]",label:"审核结果"}]}]},{value:"[表单类]",label:"表单类",children:[{value:"[用户昵称]",children:[{value:"[用户昵称]",label:"用户昵称"},{value:"[操作时间]",label:"操作时间"},{value:"[表单名称]",label:"表单名称"},{value:"[应用页面]",label:"应用页面"},{value:"[数据ID]",label:"数据ID"}]}]}],i=a;e.default=i},"0bac":function(t,e,a){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("a9e3");var i={name:"TableList",props:{data:{type:Array,default:function(){return[]}},total:{type:[String,Number],default:0},loading:{type:Boolean,default:!1}},data:function(){var t=this;this.$createElement;return{columns:[{title:"会员",key:"shop",minWidth:150,render:function(e,a){var i;return"20"==a.row.source?i=e("span",{class:"iconfont icon-weixin icon"}):"21"==a.row.source?i=e("span",{class:"iconfont icon-weixinxiaochengxu icon"}):"30"==a.row.source?i=e("kdx-svg-icon",{class:"iconfont",attrs:{type:"icon-qudao-toutiao2"}}):"32"==a.row.source?i=e("kdx-svg-icon",{class:"iconfont",attrs:{type:"icon-qudao-toutiaojisuban"}}):"31"==a.row.source?i=e("kdx-svg-icon",{class:"iconfont",attrs:{type:"icon-douyin"}}):"5"==a.row.source?i=e("span",{class:"iconfont icon-zhifubaoxiaochengxu icon"}):"10"==a.row.source?i=e("span",{class:"iconfont icon-H icon"}):"70"==a.row.source&&(i=e("span",{style:"color:#12aa9c",class:"iconfont icon-PCduan icon"})),e("div",{class:"vip"},[e("div",{class:"vip-image"},[e("img",{attrs:{src:t.$media(a.row.avatar)},on:{error:function(e){t.replaceImage(e,"avatar")}}})]),e("div",{class:"vip-content"},[e("div",{class:"vip-name line-hide",on:{click:function(){t.routerPage("vip-detail",a.row.id)}}},[a.row.nickname]),e("div",{class:"vip-platform"},[i])])])}},{title:"分销商等级",key:"level_name",minWidth:100,render:function(t,e){return e.row[e.column.key]?t("div",{class:"vip-grade"},[t("kdx-svg-icon",{attrs:{type:"icon-fenxiaoshang-bg"}}),t("span",[e.row[e.column.key]])]):t("div",["-"])}},{title:"分销商层级",key:"level",width:100,render:function(t,e){return"1"==e.row.level?t("kdx-tag-label",{attrs:{type:"info",size:"small"}},["一级下线"]):"2"==e.row.level?t("kdx-tag-label",{attrs:{type:"warning",size:"small"}},["二级下线"]):t("div",["-"])}},{title:"累计佣金",key:"commission_total",minWidth:100,sortable:"custom",render:function(t,e){return t("div",["￥",e.row[e.column.key]])}},{title:"已提现佣金",key:"commission_pay",minWidth:100,sortable:"custom",render:function(t,e){return t("div",["￥",[e.row[e.column.key]]])}},{title:"成为分销商时间",key:"become_time",minWidth:120,render:function(t,e){return"0000-00-00 00:00:00"===e.row.become_time?t("div",["-"]):t("div",[e.row.become_time])}},{title:"下线总数",key:"commission_child",minWidth:80},{title:"操作",key:"action",minWidth:100,maxWidth:200,render:function(e,a){return e("div",{class:"action"},[e("Button",{attrs:{type:"text"},on:{click:function(){t.routerPage("vip-detail",a.row.id)}}},["详情"]),e("Button",{attrs:{type:"text"},on:{click:function(){t.routerPage("agent-list-detail",a.row.id)}}},["分销订单"])])}}]}},methods:{setStatus:function(t,e){var a=this;this.$api.commissionApi.setToAuditStatus({member_id:t,status:e}).then((function(t){0===t.error&&(a.$Message.success("分销商取消操作成功"),a.$emit("on-refresh"))}))},changePage:function(t){this.$emit("on-page-change",t)},changeSort:function(t){var e=t.key,a=t.order;"normal"===a?this.$emit("on-sort",{}):this.$emit("on-sort",{sort:e,by:a})},reset:function(){this.$refs["page"].reset()},routerPage:function(t,e){"vip-detail"===t?this.$utils.openNewWindowPage("/member/detail",{id:e}):"agent-list-detail"===t&&this.$utils.openNewWindowPage("/commission/order/list",{member_id:e,member_type:"1"})}}};e.default=i},"0d5b":function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("kdx-header-bar",[a("Form",{ref:"form",attrs:{model:t.query,"label-width":100,inline:""},nativeOn:{submit:function(t){t.preventDefault()}}},[a("FormItem",{attrs:{label:"关键词：",prop:"keywords"}},[a("Input",{staticClass:"width-340",attrs:{type:"text",placeholder:"支持用户昵称，手机号"},on:{"on-enter":t.handleSearch},model:{value:t.query.keywords,callback:function(e){t.$set(t.query,"keywords",e)},expression:"query.keywords"}})],1),a("FormItem",{attrs:{label:"分销商等级：",prop:"level_id"}},[a("Select",{staticClass:"width-340",attrs:{placeholder:"请选择"},model:{value:t.query.level_id,callback:function(e){t.$set(t.query,"level_id",e)},expression:"query.level_id"}},t._l(t.levelList,(function(t){return a("Option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),a("FormItem",{attrs:{label:"提现方式：",prop:"type"}},[a("Select",{staticClass:"width-340",attrs:{placeholder:"请选择"},model:{value:t.query.type,callback:function(e){t.$set(t.query,"type",e)},expression:"query.type"}},t._l(t.typeList,(function(t){return a("Option",{key:t.type,attrs:{label:t.message,value:t.type}})})),1)],1),a("FormItem",{attrs:{label:"申请时间：",prop:"apply_time"}},[a("DatePicker",{staticClass:"width-340",attrs:{type:"datetimerange",placeholder:"申请时间"},on:{"on-change":t.changeDate},model:{value:t.query.apply_time,callback:function(e){t.$set(t.query,"apply_time",e)},expression:"query.apply_time"}})],1),a("div",{staticClass:"ivu-form-item-btn"},[a("Button",{attrs:{type:"primary"},on:{click:t.handleSearch}},[t._v("搜索")]),a("Button",{attrs:{type:"text"},on:{click:t.handleReset}},[t._v("重置")]),a("Button",{attrs:{type:"text"},on:{click:t.handleExport}},[t._v("导出")])],1)],1)],1)},n=[]},"0dc6":function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("kdx-header-bar",[a("Form",{ref:"form",attrs:{model:t.model,"label-width":100,inline:""},nativeOn:{submit:function(t){t.preventDefault()}}},[a("FormItem",{attrs:{label:"关键词："}},[a("Input",{staticClass:"width-340",attrs:{type:"text",placeholder:"可搜索昵称/姓名/手机号/ID"},on:{"on-enter":t.handleSearch},model:{value:t.model.keyword,callback:function(e){t.$set(t.model,"keyword",e)},expression:"model.keyword"}})],1),a("FormItem",{attrs:{label:"分销商等级："}},[a("Select",{staticClass:"width-160",attrs:{placeholder:"请选择"},model:{value:t.model.commission_level,callback:function(e){t.$set(t.model,"commission_level",e)},expression:"model.commission_level"}},t._l(t.grade,(function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name)+" ")])})),1)],1),a("FormItem",{attrs:{label:"申请时间："}},[a("DatePicker",{staticClass:"width-340",attrs:{type:"datetimerange",placeholder:"请选择",format:"yyyy-MM-dd HH:mm"},on:{"on-change":t.changeApply},model:{value:t.applyTime,callback:function(e){t.applyTime=e},expression:"applyTime"}})],1),a("div",{staticClass:"ivu-form-item-btn"},[a("Button",{attrs:{type:"primary"},on:{click:t.handleSearch}},[t._v("搜索")]),a("Button",{attrs:{type:"text"},on:{click:t.handleReset}},[t._v("重置")]),a("Button",{attrs:{type:"text"},on:{click:t.handleExport}},[t._v("导出")])],1)],1)],1)},n=[]},"0e1e":function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"check-label"},[a("div",{staticClass:"label-item",class:{"label-checked":t.checked,"label-disabled":t.disabled},on:{click:t.handleClick}},[a("span",[t._t("default")],2),t.showIcon?a("kdx-svg-icon",{staticClass:"icon",attrs:{type:"icon-chenggong-shixin"}}):t._e()],1)])},n=[]},"13d7":function(t,e,a){"use strict";a.r(e);var i=a("2df6"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},1496:function(t,e,a){"use strict";a.r(e);var i=a("d665"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"14ed":function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={props:{info:{type:Object,default:function(){}}}};e.default=a},"154a":function(t,e,a){"use strict";a("20b7")},1552:function(t,e,a){"use strict";a("b6c9")},1557:function(t,e,a){"use strict";a.r(e);var i=a("efba"),n=a("d490");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("3c21");var o=a("2877"),l=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"96680e9a",null);e["default"]=l.exports},"169f":function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("5530"));a("a434"),a("d3b7");var s=i(a("90ad")),o=i(a("8fb3")),l=i(a("ee5b")),r={name:"index",components:{CommissionRate:s.default,UpgradeMode:o.default,DeleteGradeModal:l.default},computed:{noManagePerm:function(){return!this.$getPermMap("commission.level.manage")}},data:function(){return{id:"",level:[],setting:{commission_level:"3"},levelCurrent:"",is_default:!1,loading:!1}},methods:{getUsedLevel:function(){var t=this;this.$api.commissionApi.getAgentGradeUse().then((function(e){if(0===e.error&&(t.level=e.level||[],t.levelCurrent)){var a=t.level.indexOf(t.levelCurrent);t.level.splice(a,1)}}))},getData:function(){var t=this;this.loading=!0,this.$api.commissionApi.getAgentGradeDetail({id:this.id}).then((function(e){t.loading=!1,0===e.error&&(e.data.is_default&&"1"==e.data.is_default?t.is_default=!0:t.is_default=!1,t.$refs["rate"].resetModel(e.data),!t.is_default&&t.$refs["mode"].resetModel(e.data),t.levelCurrent=e.data.level,t.getUsedLevel())}))},addGrade:function(t){var e=this;this.$api.commissionApi.addAgentGrade(t).then((function(t){0===t.error&&(e.$Message.success("分销商等级新增成功"),e.$router.go(-1))}))},editGrade:function(t){var e=this;Object.assign(t,{id:this.id}),this.$api.commissionApi.editAgentGrade(t).then((function(t){0===t.error&&(e.$Message.success("分销商等级修改成功"),e.$router.go(-1))}))},handleSave:function(){var t=this;this.$refs["rate"].validate().then((function(e){return e?!!t.is_default||t.$refs["mode"].validate():Promise.reject()})).then((function(){var e=(0,n.default)({},t.$refs["rate"].getModel());t.is_default||Object.assign(e,t.$refs["mode"].getModel()),t.id?t.editGrade(e):t.addGrade(e)}))},deleteGrade:function(){this.$refs["delete_grade"].setValue()},getCommissionSetting:function(){var t=this;this.$api.commissionApi.getSettings().then((function(e){0==e.error&&(t.setting=e.settings,console.log("setting",t.setting))}))}},mounted:function(){this.id=this.$route.query.id||"",this.getCommissionSetting(),this.id?this.getData():this.getUsedLevel()}};e.default=r},"16e0":function(t,e,a){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("a9e3");var i={name:"SearchHeader",props:{grade:{type:Array,default:function(){return[]}},level:{type:[Number,String],default:3}},data:function(){return{model:{keyword:"",level:"all",agent_level:"all",is_agent:"all",become_start_time:"",become_end_time:""},optionData:{level:[{id:"all",name:"全部"},{id:1,name:"一级下线"},{id:2,name:"二级下线"}],is_agent:[{id:"all",name:"全部"},{id:"0",name:"普通用户"},{id:"1",name:"分销商"}]},becomeTime:[]}},methods:{changeBecome:function(t){this.model.become_start_time=t[0],this.model.become_end_time=t[1]},handleSearch:function(){var t=Object.assign({},this.model);t.level="all"===t.level?"":t.level,t.is_agent="all"===t.is_agent?"":t.is_agent,t.agent_level="all"===t.agent_level?"":t.agent_level,this.$emit("on-change",t)},handleReset:function(){this.reset(),this.$emit("on-change",{})},handleExport:function(){this.$emit("on-export")},reset:function(){this.model={keyword:"",level:"all",agent_level:"all",is_agent:"all",become_start_time:"",become_end_time:""},this.becomeTime=[]},isLevel:function(t){return 2===t.id?parseInt(this.level)>=2:3!==t.id||3==this.level}}};e.default=i},1749:function(t,e,a){},"17c9":function(t,e,a){"use strict";a.r(e);var i=a("6426"),n=a("32e6");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("01cb");var o=a("2877"),l=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"17bffb51",null);e["default"]=l.exports},1873:function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("5530")),s=i(a("b85c")),o=i(a("2909"));a("a9e3"),a("ac1f"),a("841c"),a("4de4"),a("d3b7"),a("159b");var l={name:"VipSelector",props:{current:{type:[String,Object],default:function(){}},currentList:{type:Array,default:function(){return[]}},multiple:{type:Boolean,default:!1},restParams:{type:Object,default:function(){}},passId:{type:[String,Number]},source:{type:String},type:{type:String,default:"vip"}},data:function(){var t=this;this.$createElement;return{value:!1,search:{keyword:"",level_id:"all",group_id:"all"},columns:[{title:"会员",key:"shop",minWidth:200,render:function(e,a){var i={10:e("kdx-svg-icon",{attrs:{type:"icon-H"},class:"platform-icon"}),20:e("kdx-svg-icon",{attrs:{type:"icon-weixin"},class:"platform-icon"}),21:e("kdx-svg-icon",{attrs:{type:"icon-weixinxiaochengxu"},class:"platform-icon"}),30:e("kdx-svg-icon",{attrs:{type:"icon-qudao-toutiao2"},class:"platform-icon"}),31:e("kdx-svg-icon",{attrs:{type:"icon-douyin"},class:"platform-icon"}),32:e("kdx-svg-icon",{attrs:{type:"icon-qudao-toutiaojisuban"},class:"platform-icon"}),70:e("span",{style:"color:#12aa9c;font-size:16px",class:"iconfont icon-PCduan"})},n=i[a.row.source];return e("div",{class:"vip-info"},[e("div",{class:"user-image"},[e("img",{attrs:{src:t.$media(a.row.avatar),alt:""},on:{error:function(e){t.replaceImage(e,"avatar")}}})]),e("div",{class:"vip-content"},[e("p",{class:"vip-name line-hide"},[a.row.nickname]),e("div",{class:"vip-platform"},[n])])])}},{title:"会员等级",key:"level_name",minWidth:100,render:function(t,e){return t("div",[e.row.level_name?e.row.level_name:"普通会员"])}},{title:"标签组",key:"group_name",minWidth:100,render:function(t,e){return t("div",[e.row.group_name?e.row.group_name:"-"])}},{title:"注册时间",key:"created_at",width:180},{title:"操作",key:"action",width:80,render:function(e,a){return e("div",{class:"action"},[e("Button",{class:"default-primary",style:{display:a.row.checked?"none":"block"},attrs:{disabled:t.disabledBtn(a.row)&&t.passId!==a.row.id},on:{click:function(){t.setChecked(a.index,!0)}}},["选择"]),e("Button",{attrs:{type:"primary"},style:{display:a.row.checked?"block":"none"},on:{click:function(){t.setChecked(a.index,!1)}}},["已选"])])}}],data:[],levels:[],groups:[],total:0,page:{pageSize:10,pageNumber:1},selectRow:{},loading:!1}},methods:{setValue:function(){this.value=!this.value,this.value&&(this.multiple?this.selectRows=(0,o.default)(this.currentList):this.selectRow=this.current,this.resetSearch(),this.resetPage(),this.getList())},handleSearch:function(){this.resetPage(),this.getList()},resetSearch:function(){this.search={keyword:"",level_id:"all",group_id:"all"}},resetPage:function(){var t;this.page={pageSize:10,pageNumber:1},null===(t=this.$refs["page"])||void 0===t||t.reset()},setChecked:function(t,e){var a=this;this.multiple?(this.$set(this.data[t],"checked",e),0===this.selectRows.length||e?this.selectRows.push(this.data[t]):this.selectRows=this.selectRows.filter((function(e){return e.id!==a.data[t].id}))):(this.data.forEach((function(t,e){a.$set(a.data[e],"checked",!1)})),this.$set(this.data[t],"checked",e),this.selectRow=e?this.data[t]:{},this.$emit("on-change",this.selectRow))},defaultChecked:function(){var t=this;this.multiple?this.data.forEach((function(e,a){var i,n=(0,s.default)(t.selectRows);try{for(n.s();!(i=n.n()).done;){var o=i.value;if(o.id===e.id){t.$set(t.data[a],"checked",!0);break}}}catch(l){n.e(l)}finally{n.f()}})):this.data.forEach((function(e,a){t.current&&e.id===t.selectRow.id?t.$set(t.data[a],"checked",!0):t.$set(t.data[a],"checked",!1)}))},handlePageChange:function(t){this.page=t,this.getList();try{this.$refs.scrollBox.scrollTop=0}catch(e){console.log(e)}},handleOk:function(){this.multiple?this.$emit("on-change",this.selectRows):this.$emit("on-change",this.selectRow),this.setValue()},handleCancel:function(){this.setValue()},getList:function(){var t=this;this.loading=!0;var e={};this.source&&(e.source=this.source);var a=(0,n.default)((0,n.default)({},this.search),{},{level_id:"all"===this.search.level_id?"":this.search.level_id,group_id:"all"===this.search.group_id?"":this.search.group_id}),i=Object.assign({pagesize:this.page.pageSize,page:this.page.pageNumber},a,this.restParams,e);this.$api.memberApi["vip"===this.type?"memberList":"videoMemberList"](i).then((function(e){0===e.error&&(t.data=e.list,t.total=e.total,e.groups.unshift({id:"all",group_name:"全部"}),e.levels.unshift({id:"all",level_name:"全部"}),t.groups=e.groups,t.levels=e.levels,t.defaultChecked(),t.loading=!1)}))},disabledBtn:function(t){return 1==t.is_use_verify}}};e.default=l},1900:function(t,e,a){"use strict";a.r(e);var i=a("f0cf"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"1a68":function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("b85c")),s=i(a("ade3")),o=i(a("5530"));a("d3b7"),a("159b"),a("b64b"),a("a15b"),a("d81d"),a("a434"),a("ac1f"),a("1276");var l=i(a("6b68")),r=i(a("0659")),c=i(a("416b")),d={name:"UpgradeMode",components:{CheckLabel:l.default,GoodsSelector:r.default,ShopNamePageList:c.default},data:function(){return{model:{upgrade_type:0,label_type:[],order_money:"",order_count:"",order_money_1:"",order_count_1:"",self_order_money:"",self_order_count:"",child_count:"",child_agent_count:"",child_count_1:"",child_agent_count_1:"",goods_ids:"",withdraw_money:""},rules:{label_type:[{required:!0,type:"array",message:"选择升级条件必填"}],goods_ids:[{required:!0,message:"指定商品必填"}],order_money:[{required:!0,message:"分销订单总额必填"}],order_count:[{required:!0,message:"分销订单总数必填"}],order_money_1:[{required:!0,message:"一级分销订单总额必填"}],order_count_1:[{required:!0,message:"一级分销订单总数必填"}],self_order_money:[{required:!0,message:"自购订单总额必填"}],self_order_count:[{required:!0,message:"自购订单总数必填"}],child_count:[{required:!0,message:"下线总人数必填"}],child_agent_count:[{required:!0,message:"下线分销商人数必填"}],child_count_1:[{required:!0,message:"一级下线人数必填"}],child_agent_count_1:[{required:!0,message:"一级下线分销商必填"}],withdraw_money:[{required:!0,message:"已提现佣金金额必填"}]},checked:[],option:[{name:"分销订单总额",key:"order_money",unit:"元",checked:!1,format:"price"},{name:"分销订单总数",key:"order_count",unit:"单",checked:!1,format:"num"},{name:"一级分销订单总额",key:"order_money_1",unit:"元",checked:!1,format:"price"},{name:"一级分销订单总数",key:"order_count_1",unit:"单",checked:!1,format:"num"},{name:"自购分销订单总额",key:"self_order_money",unit:"元",checked:!1,format:"price"},{name:"自购分销订单总数",key:"self_order_count",unit:"单",checked:!1,format:"num"},{name:"下线总人数",key:"child_count",unit:"人",checked:!1,format:"num"},{name:"下线分销商人数",key:"child_agent_count",unit:"人",checked:!1,format:"num"},{name:"一级下线人数",key:"child_count_1",unit:"人",checked:!1,format:"num"},{name:"一级下线分销商",key:"child_agent_count_1",unit:"人",checked:!1,format:"num"},{name:"购买指定商品",key:"goods_ids",checked:!1},{name:"已提现佣金金额",key:"withdraw_money",unit:"元",checked:!1,format:"price"}],selector:{value:!1,list:[]}}},computed:{noManagePerm:function(){return!this.$getPermMap("commission.level.manage")},isExpend:function(){var t=!1;return this.option.forEach((function(e){e.checked&&(t=!0)})),t}},methods:{setLabelStatus:function(t,e){var a=this;this.$set(this.option[t],"checked",e),this.model[this.option[t].key]="",10===t&&(this.selector.list=[]),this.model.label_type=[],this.option.forEach((function(t){t.checked&&a.model.label_type.push(t.key)}))},resetModel:function(t){var e=this;Object.keys(this.model).forEach((function(a){"upgrade_type"!==a&&t[a]&&0==parseFloat(t[a])?e.model[a]="":e.model[a]=t[a]})),this.initOption(),t.goods_ids&&"0"!==t.goods_ids&&this.getGoodsList()},initOption:function(){var t=this;this.model.label_type=[],this.option.forEach((function(e){t.model[e.key]?(e.checked=!0,t.model.label_type.push(e.key)):e.checked=!1}))},addGoods:function(){this.selector.value=!0},changeGoods:function(t){var e=this;this.selector.list=t||[],this.model.goods_ids=t.map((function(t){return t.id})).join(","),this.$nextTick((function(){var t;null===(t=e.$refs["shop_name_list"])||void 0===t||t.reset()}))},deleteGoods:function(t){var e=this;this.selector.list.splice(t,1),this.model.goods_ids=this.selector.list.map((function(t){return t.id})).join(","),this.$nextTick((function(){var t;null===(t=e.$refs["shop_name_list"])||void 0===t||t.reset()}))},getModel:function(){var t=Object.assign({},this.model);return this.option.forEach((function(e){e.checked||("goods_ids"!==e.key?t[e.key]="0":t[e.key]="")})),delete t.label_type,t},getGoodsList:function(){var t=this;this.$api.goodsApi.goodsList({ids:this.model.goods_ids.split(","),pager:0}).then((function(e){0===e.error&&(t.selector.list=e.list||[],t.$nextTick((function(){var e;null===(e=t.$refs["shop_name_list"])||void 0===e||e.reset()})))}))},onValidate:function(t,e){this.cacheError=(0,o.default)((0,o.default)({},this.cacheError),{},(0,s.default)({},t,e))},validate:function(){var t=this;return new Promise((function(e){t.$refs["form"].validate((function(a){if(a){var i,s=!1,o=(0,n.default)(t.option);try{for(o.s();!(i=o.n()).done;){var l=i.value;if(l.checked){s=!0;break}}}catch(r){o.e(r)}finally{o.f()}s?e():t.$Message.error("请选择升级条件")}else t.$nextTick((function(){if(!a)for(var e in t.cacheError)if(!t.cacheError[e]){t.$focusError(e);break}}))}))}))},handleCancel:function(){this.selector.value=!1},getFixed:function(t){switch(t.format){case"price":return 2;case"num":return 0;default:return}},getMaxValue:function(t){switch(t.format){case"price":return 9999999.99;case"num":return 999999999;default:return}}}};e.default=d},"1a73":function(t,e,a){"use strict";a.r(e);var i=a("ddbb"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"1b5e":function(t,e,a){"use strict";a.r(e);var i=a("ee5b9"),n=a("9d1e");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("00f6");var o=a("2877"),l=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"673cc106",null);e["default"]=l.exports},"1bf7":function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"radio-group"},[a("RadioGroup",{attrs:{type:t.type,vertical:t.vertical},on:{"on-change":t.onChange},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},t._l(t.items,(function(e,i){return a("Radio",{key:i,attrs:{label:i,disabled:e.disabled||t.disabled}},[t.$slots.example?t._e():a("span",[t._v(" "+t._s(e.label)+" ")]),t._t("example",null,{example:e})],2)})),1),t.$slots.tip&&t.$slots.tip.length?a("div",{staticClass:"tip"},[t._t("tip")],2):t._e(),t.$slots.default&&t.$slots.default.length?a("div",{staticClass:"content"},[t._t("default")],2):t._e()],1)},n=[]},"1c75":function(t,e,a){"use strict";a("9723")},"1cb2":function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"order_table",staticClass:"order-table-list"},[i("div",{staticClass:"table-header"},[i("table",{style:{width:t.tableWidth+"px"}},[i("colgroup",{attrs:{align:"left"}},t._l(t.columns,(function(t,e){return i("col",{key:e+t.width,attrs:{width:t.width}})})),0),i("tr",t._l(t.columns,(function(e,a){return i("th",{key:a},[i("div",{staticClass:"flex align-center table-cell"},[i("span",[t._v(t._s(e.title))]),e.sortable?i("span",{staticClass:"ivu-table-sort"},[i("i",{staticClass:"ivu-icon ivu-icon-md-arrow-dropup",on:{click:function(a){return t.sort(e.key,"asc")}}}),i("i",{staticClass:"ivu-icon ivu-icon-md-arrow-dropdown",on:{click:function(a){return t.sort(e.key,"desc")}}})]):t._e()])])})),0)])]),t.data.length>0?i("div",{staticClass:"table-content-box"},t._l(t.data,(function(e){return i("div",{key:e.id,staticClass:"table-content"},[i("div",{staticClass:"table-content-time"},[i("div",{staticClass:"left"},[i("span",{staticClass:"text"},[t._v("提现编号："+t._s(e.apply_no))]),i("kdx-copy-text",{attrs:{text:e.apply_no}},[i("Button",{attrs:{type:"text",size:"small"}},[t._v("复制")])],1)],1)]),i("div",{staticClass:"table-order"},[i("table",[i("colgroup",{attrs:{align:"left"}},t._l(t.columns,(function(t,e){return i("col",{key:e+t.width,attrs:{width:t.width}})})),0),[i("tr",[i("td",[i("div",{staticClass:"member"},[i("div",{staticClass:"member-image"},[i("img",{attrs:{src:t.$utils.media(e.avatar),alt:""},on:{error:t.replaceImg}})]),i("div",{staticClass:"member-info"},[i("p",{staticClass:"title"},[t._v(t._s(e.nickname||e.mobile))]),i("div",[new Set(["10","20","21"]).has(e.client_type)?i("span",{staticClass:"iconfont icon",class:t._f("getSourceIcon")(e.client_type)}):"30"===e.client_type?i("kdx-svg-icon",{staticClass:"iconfont",attrs:{type:"icon-qudao-toutiao2"}}):"32"===e.client_type?i("kdx-svg-icon",{staticClass:"iconfont",attrs:{type:"icon-qudao-toutiaojisuban"}}):"31"===e.client_type?i("kdx-svg-icon",{staticClass:"iconfont",attrs:{type:"icon-douyin"}}):"70"===e.client_type?i("span",{staticClass:"iconfont icon-PCduan"}):t._e()],1)])])]),i("td",[i("div",{staticClass:"flex"},[i("img",{staticClass:"level-img",attrs:{src:a("b537")}}),i("span",{staticClass:"level-name"},[t._v(t._s(e.agent_level_name))])])]),i("td",[i("div",{staticClass:"flex align-center pay-info"},[i("span",{staticClass:"iconfont pay-icon",class:t.getPayType(e.type).icon}),i("span",{staticClass:"pay-text",class:t.getPayType(e.type).class},[t._v(t._s(t.getPayType(e.type).text))])])]),i("td",[t._v("¥"+t._s(e.apply_commission))]),i("td",[t._v("¥"+t._s(e.charge_deduction))]),i("td",{staticClass:"actual"},[t._v("¥"+t._s(e.final_commission))]),i("td",[t._v(t._s("0"==e.status?e.apply_time:e.check_time))]),i("td",[i("div",[i("Button",{staticClass:"action-btn",attrs:{type:"text"},on:{click:function(a){return t.skipInfo(e.id)}}},[t._v("查看")]),"0"==e.status?i("Button",{attrs:{type:"text",disabled:t.noManagePerm},on:{click:function(a){return t.agreeHandler(e.id)}}},[t._v("同意")]):t._e(),"0"==e.status?i("Button",{staticStyle:{"margin-left":"10px"},attrs:{type:"text",disabled:t.noManagePerm},on:{click:function(a){return t.refuseHandler(e.id)}}},[t._v("拒绝")]):t._e(),"10"==e.status?i("Button",{staticStyle:{"margin-left":"10px"},attrs:{type:"text",disabled:t.noManagePerm},on:{click:function(a){return t.payHandler(e.id)}}},[t._v("打款")]):t._e(),"10"==e.status?i("Button",{staticStyle:{"margin-left":"10px"},attrs:{type:"text",disabled:t.noManagePerm},on:{click:function(a){return t.manaualHandler(e.id)}}},[t._v("手动处理")]):t._e()],1)])])]],2)])])})),0):i("div",{staticStyle:{"text-align":"center"}},[t._v("暂无数据")]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.total>10,expression:"total > 10"}],staticClass:"table-footer"},[i("kdx-page-component",{ref:"page",attrs:{total:t.total},on:{"on-change":t.handlePageChange}})],1),i("Modal",{attrs:{title:"操作",content:"是否同意该条提现申请?"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}})],1)},n=[]},"1dae":function(t,e,a){"use strict";a.r(e);var i=a("f363"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"1ee5":function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"upgrade-mode"},[a("Form",{ref:"form",attrs:{model:t.model,rules:t.rules,"label-width":120},on:{"on-validate":t.onValidate}},[a("kdx-form-title",[t._v("升级方式")]),a("FormItem",{attrs:{label:"升级方式：",prop:"upgrade_type"}},[a("RadioGroup",{model:{value:t.model.upgrade_type,callback:function(e){t.$set(t.model,"upgrade_type",e)},expression:"model.upgrade_type"}},[a("Radio",{attrs:{disabled:t.noManagePerm,label:0}},[t._v("满足选中的任意条件")]),a("Radio",{attrs:{disabled:t.noManagePerm,label:1}},[t._v("满足选中的全部条件")])],1)],1),a("FormItem",{directives:[{name:"error-item",rawName:"v-error-item.label_type",modifiers:{label_type:!0}}],attrs:{label:"选择升级条件：",prop:"label_type"}},[a("div",{staticClass:"check-label-box"},t._l(t.option,(function(e,i){return a("check-label",{key:e.key,attrs:{checked:e.checked},on:{"on-change":function(e){return t.setLabelStatus(i,e)}}},[t._v(t._s(e.name)+" ")])})),1)]),t.isExpend?a("div",{staticClass:"form-item-box"},[t._l(t.option,(function(e,i){return[e.checked&&"goods_ids"!==e.key?a("FormItem",{directives:[{name:"error-item",rawName:"v-error-item",value:e.key,expression:"item.key"}],key:e.key,attrs:{label:e.name,prop:e.key}},[a("div",{staticClass:"goods-add-btn"},[a("kdx-rr-input",{staticClass:"width-250",attrs:{number:["price","num"].includes(e.format),fixed:t.getFixed(e),maxValue:t.getMaxValue(e),disabled:t.noManagePerm},model:{value:t.model[e.key],callback:function(a){t.$set(t.model,e.key,a)},expression:"model[item.key]"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v(t._s(e.unit))])]),a("Icon",{staticClass:"icon-close",attrs:{type:"ios-close-circle"},on:{click:function(e){return t.setLabelStatus(i,!1)}}})],1)]):t._e()]})),t.option[10].checked?a("FormItem",{directives:[{name:"error-item",rawName:"v-error-item.goods_ids",modifiers:{goods_ids:!0}}],attrs:{label:"购买指定商品：",prop:"goods_ids"}},[a("div",{staticClass:"goods-add-btn"},[a("Button",{attrs:{disabled:t.noManagePerm,type:"primary"},on:{click:t.addGoods}},[t._v("+添加指定商品")]),a("Icon",{staticClass:"icon-close",attrs:{type:"ios-close-circle"},on:{click:function(e){return t.setLabelStatus(10,!1)}}})],1),t.selector.list.length>0?a("div",{staticClass:"goods-box"},[a("shop-name-page-list",{ref:"shop_name_list",attrs:{list:t.selector.list},on:{"on-delete":t.deleteGoods}})],1):t._e()]):t._e()],2):t._e()],1),a("goods-selector",{attrs:{multiple:"","current-list":t.selector.list},on:{"on-change":t.changeGoods,"on-cancel":t.handleCancel},model:{value:t.selector.value,callback:function(e){t.$set(t.selector,"value",e)},expression:"selector.value"}})],1)},n=[]},2099:function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("96cf");var n=i(a("1da1"));a("ac1f"),a("5319"),a("e9c4"),a("1276"),a("fb6a"),a("4de4"),a("d3b7");var s=i(a("7203")),o={name:"customTemplate",components:{selectTemplateCode:s.default},props:{value:{type:Object,default:function(){}}},data:function(){return{loading:!1,customData:{template_id:"",content:[]},initContent:[],resultContent:[],show:!1,index:"",template_list:[]}},watch:{value:{handler:function(t){t&&this.getData(t)},immediate:!0}},computed:{},created:function(){this.getTemplateList()},mounted:function(){},methods:{getData:function(t){this.customData=t,this.chooseTemplate()},getTemplateList:function(){var t=this;this.loading=!0,this.$api.noticeApi.getWexinTemplate({}).then((function(e){0==e.error&&(t.template_list=e.template_list),t.loading=!1}))},chooseTemplate:function(){var t=this;this.$api.noticeApi.getWexinTemplateDetail({template_id:this.customData.template_id}).then((function(e){if(0==e.error){var a=JSON.stringify(e.content).replace(/\\n/g,","),i=a.slice(1,-1).split(",");i=i.filter((function(t){return t})),i[0]="模板格式："+i[0],i[i.length-1]="尾部描述："+i[i.length-1];for(var n=[],s=0;s<i.length;s++){var o,l,r;n.push({key:i[s].split("：")[0],value:i[s].split("：")[1],customValue:null!==(o=null===(l=t.customData)||void 0===l||null===(r=l.content[s])||void 0===r?void 0:r.customValue)&&void 0!==o?o:""})}t.customData.content=n}}))},chooseCode:function(t){this.customData.content[this.index].customValue+=t},handleFocus:function(t){this.show=!0,this.index=t},validateForm:function(){var t=this;return new Promise((function(e,a){t.$refs["customForm"].validate(function(){var i=(0,n.default)(regeneratorRuntime.mark((function i(n){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(!n){i.next=12;break}return i.prev=1,i.next=4,t.handleData();case 4:e({template_id:t.customData.template_id,content:t.resultContent}),i.next=10;break;case 7:i.prev=7,i.t0=i["catch"](1),a("public");case 10:i.next=13;break;case 12:a("public");case 13:case"end":return i.stop()}}),i,null,[[1,7]])})));return function(t){return i.apply(this,arguments)}}())}))},handleData:function(){this.resultContent=[];for(var t=0;t<this.customData.content.length;t++)this.resultContent.push({key:this.customData.content[t].value.slice(2,-7),value:this.customData.content[t].customValue})},routeWeixinTemplate:function(){this.$utils.openNewWindowPage("/notice/wxappTemplate/list")}}};e.default=o},"20b7":function(t,e,a){},"21c0":function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"order_table",staticClass:"order-table-list"},[a("div",{staticClass:"table-header"},[a("table",{style:{width:t.tableWidth+"px"}},[a("colgroup",{attrs:{align:"left"}},t._l(t.columns,(function(t,e){return a("col",{key:e,attrs:{width:t.width}})})),0),a("tr",t._l(t.columns,(function(e){return a("th",{key:e.key},[a("div",{staticClass:"table-cell"},[t._v(t._s(e.title))])])})),0)])]),t.data.length>0?t._l(t.data,(function(e){return a("div",{key:e.id,staticClass:"table-content"},[a("div",{staticClass:"table-order"},[a("table",{style:{width:t.tableWidth+"px"}},[a("colgroup",{attrs:{align:"left"}},t._l(t.columns,(function(t,e){return a("col",{key:e,attrs:{width:t.width}})})),0),[a("tr",[a("td",[a("div",{staticClass:"shop"},[a("div",{staticClass:"shop-image"},[a("img",{attrs:{src:t.$media(e.thumb),alt:""},on:{error:t.replaceImage}})]),a("div",{staticClass:"shop-info"},[a("p",{staticClass:"title"},[a("span",{staticClass:"order-no"},[t._v(t._s(e.order_id))]),a("kdx-copy-text",{attrs:{text:e.order_id}},[a("Button",{attrs:{type:"text"}},[t._v("复制")])],1)],1),a("div",{staticClass:"shop-option"},[t._v(t._s(e.title))])])])]),a("td",{staticClass:"bold"},[t._v("¥"+t._s(e.price))]),a("td",[t._v(t._s(e.created_at))]),0!=t.status?a("td",[a("div",{staticClass:"flex align-center"},[a("span",{staticClass:"iconfont status-icon",class:t.getStatus.icon}),a("span",{class:t.getStatus.class},[t._v(t._s(t.getStatus.text))])])]):t._e(),a("td",[a("div",{staticClass:"pay-list"},[a("span",{staticClass:"pay-label"},[t._v("下单人：")]),a("span",{staticClass:"pay-user",on:{click:function(a){return t.jumpVip(e.member_id)}}},[t._v(t._s(e.nickname||"-"))])]),a("div",{staticClass:"pay-list"},[a("span",{staticClass:"pay-label"},[t._v(t._s(t._f("getLevelText")(e.level)))]),a("span",{staticClass:"pay-price"},[t._v("￥"+t._s(e.real_commission))])])])])]],2)])])})):a("div",{staticStyle:{"text-align":"center",margin:"20px 0"}},[t._v("暂无数据")])],2)},n=[]},"21f1":function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("5530"));a("a9e3");var s=a("2f62"),o={props:{labelWidth:{type:[String,Number],default:130},label:{type:[String,Number],default:"选择模板："},value:{type:[String,Number],default:""}},computed:(0,n.default)({},(0,s.mapState)("commission/otherSettings",{settings:function(t){return t.settings}})),methods:{change:function(t){this.$emit("change",t),this.$emit("input",t)}}};e.default=o},"22ea":function(t,e,a){t.exports=a.p+"static/dist/shop/img/sms_bg.png"},"24a3":function(t,e,a){"use strict";a.r(e);var i=a("5307"),n=a("36f81");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("fc4f");var o=a("2877"),l=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"7a076ca2",null);e["default"]=l.exports},"25f5":function(t,e,a){"use strict";a.r(e);var i=a("0d5b"),n=a("59cf");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);var o=a("2877"),l=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,null,null);e["default"]=l.exports},"267b":function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("5530"));a("d81d");var s=i(a("a59d")),o=i(a("86c1")),l=i(a("b938")),r=i(a("579b")),c=i(a("dfef")),d={name:"index",components:{wechatTemplate:s.default,wxappTemplate:o.default,smsTemplate:l.default,subscribeTemplate:c.default},props:{is_showNoticeMember:{type:Boolean,default:!1}},data:function(){return{loading:!1,submitLoading:!1,icon:"",items:[],tempTitle:"",tabPoint:"",type_code:"",wechatData:{status:0,is_default:1,commission_level:"1",member_id:[]},wxappData:{status:0,is_default:1},smsData:{status:0,template_id:"",commission_level:"1",member_id:[]},subscribeData:{status:0,is_default:1}}},computed:{sendTime:function(){return r.default[this.type_code].sendTime},isShow_level:function(){return"commission_buyer_agent_add_child"==this.type_code||"commission_buyer_child_pay"==this.type_code||"commission_buyer_agent_add_child_line"==this.type_code}},created:function(){},mounted:function(){this.type_code=this.$route.query.type_code,this.tempTitle=r.default[this.type_code].title,this.icon=r.default[this.type_code].icon,this.items=this.$route.query.items,this.tabPoint=Array.isArray(this.items)?this.items[0]:this.items,this.getData()},methods:{getData:function(){var t=this;this.loading=!0,"wechat"==this.tabPoint?this.$api.noticeApi.getWechatNotice({type_code:this.type_code}).then((function(e){if(t.loading=!1,0==e.error){if(delete e.error,0==e.is_default){var a,i=[];null===(a=e.template)||void 0===a||a.content.map((function(t){i.push({key:t.key,customValue:t.value})})),e.template.content=i}t.wechatData=e,null!==e&&void 0!==e&&e.member&&(t.wechatData.member_id=e.member.map((function(t){return t.id})))}})):"wxapp"==this.tabPoint?this.$api.noticeApi.getWxappNotice({type_code:this.type_code}).then((function(e){t.loading=!1,0==e.error&&(delete e.error,t.wxappData=(0,n.default)((0,n.default)({},e),{},{is_default:1}))})):"sms"==this.tabPoint?this.$api.noticeApi.getSmsNotice({type_code:this.type_code}).then((function(e){t.loading=!1,0==e.error&&(delete e.error,t.smsData=e,null!==e&&void 0!==e&&e.member&&(t.smsData.member_id=e.member.map((function(t){return t.id}))))})):"subscribe"==this.tabPoint&&this.$api.noticeApi.getSubscribeNotice({type_code:this.type_code}).then((function(e){t.loading=!1,0==e.error&&(delete e.error,t.subscribeData=(0,n.default)((0,n.default)({},e),{},{is_default:1}))}))},changeTab:function(t){this.tabPoint=t,this.getData()},handleSave:function(){this.submitLoading=!0,"wechat"==this.tabPoint?this.wechatSave():"wxapp"==this.tabPoint?this.wxappSave():"sms"==this.tabPoint?this.smsSave():"subscribe"==this.tabPoint&&this.subscribeSave()},wechatSave:function(){var t=this,e={type_code:this.type_code,status:this.wechatData.status,is_default:this.wechatData.is_default,commission_level:this.wechatData.commission_level};this.is_showNoticeMember&&(e.member_id=this.wechatData.member_id),0==e.is_default&&this.$refs.wechatTemplate.$refs.customTemplate.validateForm().then((function(t){e.content=t.content,e.template_id=t.template_id})),this.$api.noticeApi.addWechatNotice(e).then((function(e){0==e.error&&(t.$Message.success("保存成功"),t.getData()),t.submitLoading=!1}))},wxappSave:function(){var t=this,e=(0,n.default)({type_code:this.type_code},this.wxappData);this.$api.noticeApi.addWxappNotice(e).then((function(e){0==e.error&&(t.$Message.success("保存成功"),t.getData()),t.submitLoading=!1}))},smsSave:function(){var t=this,e=(0,n.default)({type_code:this.type_code},this.smsData);if(this.is_showNoticeMember&&(e.member_id=this.smsData.member_id),!e.hasOwnProperty("template_id")||"undefined"==typeof e.template_id.length||e.template_id+""==="0")return this.$Message.error("选择模板"),void(this.submitLoading=!1);this.$api.noticeApi.addSmsNotice(e).then((function(e){0==e.error&&(t.$Message.success("保存成功"),t.getData()),t.submitLoading=!1}))},subscribeSave:function(){var t=this,e=(0,n.default)({type_code:this.type_code},this.subscribeData);this.$api.noticeApi.addSubscribeNotice(e).then((function(e){0==e.error&&(t.$Message.success("保存成功"),t.getData()),t.submitLoading=!1}))},handleBack:function(){this.$router.go(-1)}}};e.default=d},"285d":function(t,e,a){"use strict";a.r(e);var i=a("08c2"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},2869:function(t,e,a){},2883:function(t,e,a){},"29ed":function(t,e,a){"use strict";a("e1ae")},"2a2b":function(t,e,a){"use strict";a.r(e);var i=a("b3ca"),n=a("61f3");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("1552");var o=a("2877"),l=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"fca1492e",null);e["default"]=l.exports},"2af6":function(t,e,a){"use strict";a.r(e);var i=a("af5e"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"2b05":function(t,e,a){"use strict";a("747e")},"2bf7":function(t,e,a){},"2df6":function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("87b7")),s={name:"subscribeTemplate",components:{defaultTemplate:n.default},props:{value:{type:Object,default:function(){}},sendTime:{type:String,default:""},type_code:{type:String,default:""},isShow_level:{type:Boolean,default:!1}},data:function(){return{model:{status:0,is_default:1},rules:{}}},watch:{model:{handler:function(t){this.$emit("input",t)},deep:!0},value:{handler:function(t){this.model=t},deep:!0,immediate:!0}},computed:{},created:function(){},mounted:function(){},methods:{}};e.default=s},"2e16":function(t,e,a){"use strict";a.r(e);var i=a("be05"),n=a("c5c3");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("154a");var o=a("2877"),l=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"61c6331c",null);e["default"]=l.exports},"2e6a":function(t,e,a){},3101:function(t,e,a){function i(t,e){var a=[];function i(e){e.forEach((function(e){if(new Set(t).has(e.value))if(e.children&&e.children.length){var n=e.children.map((function(t){return t.value})),s=n.some((function(e){return t.indexOf(e)>=0}));s||a.push(e.value),i(e.children)}else a.push(e.value);else e.children&&e.children.length&&i(e.children)}))}return i(e),a}Object.defineProperty(e,"__esModule",{value:!0}),e.formatData=i,a("d3b7"),a("159b"),a("6062"),a("3ca3"),a("ddb0"),a("d81d")},3220:function(t,e,a){t.exports=a.p+"static/dist/shop/img/bg.png"},3236:function(t,e,a){},"329f8":function(t,e,a){"use strict";a.r(e);var i=a("56f8"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"32e6":function(t,e,a){"use strict";a.r(e);var i=a("d274"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},3381:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wxapp-template"},[a("div",{staticClass:"tip"},[a("kdx-hint-alert",{attrs:{"show-icon":!1}},[a("div",[t._v(" 请到微信小程序管理后台服务类目中添加 【商家自营】-【服饰/内衣】 ")])])],1),a("kdx-form-title",[t._v("发送设置")]),a("Form",{ref:"form",attrs:{model:t.model,rules:t.rules,"label-width":120}},[a("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"发送设置："}},[a("RadioGroup",{model:{value:t.model.status,callback:function(e){t.$set(t.model,"status",e)},expression:"model.status"}},[a("Radio",{attrs:{label:1}},[t._v("开启")]),a("Radio",{attrs:{label:0}},[t._v("关闭")])],1)],1),a("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"发送时间："}},[a("span",[t._v(t._s(t.sendTime))])]),a("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"模板设置："}},[a("RadioGroup",{model:{value:t.model.is_default,callback:function(e){t.$set(t.model,"is_default",e)},expression:"model.is_default"}},[a("Radio",{attrs:{label:1}},[t._v("系统默认")])],1),a("default-template",{attrs:{type:"wxapp"}})],1)],1)],1)},n=[]},"33c5":function(t,e,a){"use strict";a("7175")},"340a":function(t,e,a){"use strict";a.r(e);var i=a("940c1"),n=a("8392");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("8343");var o=a("2877"),l=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"678e439e",null);e["default"]=l.exports},"340c":function(t,e,a){},3675:function(t,e,a){},"36f81":function(t,e,a){"use strict";a.r(e);var i=a("7115"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},3700:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("kdx-content-bar",[a("div",{staticClass:"commission-message"},[a("Tabs",{attrs:{animated:!1},on:{"on-click":t.changeTab},model:{value:t.tabPoint,callback:function(e){t.tabPoint=e},expression:"tabPoint"}},[a("TabPane",{attrs:{label:"买家通知",name:"buyer"}},["buyer"==t.tabPoint?a("notice-list",{attrs:{is_title:!1,type:t.type},on:{toDetail:t.toDetail}}):t._e()],1),a("TabPane",{attrs:{label:"卖家通知",name:"seller"}},["seller"==t.tabPoint?a("notice-list",{attrs:{is_title:!1,type:t.type},on:{toDetail:t.toDetail}}):t._e()],1)],1)],1)])},n=[]},"37bf":function(t,e,a){},"37c2":function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("kdx-content-bar",{staticClass:"settle-setting",scopedSlots:t._u([{key:"btn",fn:function(){return[a("Button",{staticClass:"primary-long",attrs:{disabled:t.noManagePerm},on:{click:t.save}},[t._v("保存")])]},proxy:!0}])},[a("div",{staticClass:"page-container"},[a("Form",{ref:"form",staticStyle:{"padding-bottom":"1px"},attrs:{"label-width":150,model:t.settings,rules:t.rules}},[a("kdx-form-title",{attrs:{content:"结算设置"}}),a("FormItem",{attrs:{"label-width":120,label:"佣金计算方式：",prop:"calculate_type"}},[a("MyRadioGroup",{attrs:{disabled:t.noManagePerm,items:t.calculate_type},model:{value:t.settings.calculate_type,callback:function(e){t.$set(t.settings,"calculate_type",e)},expression:"settings.calculate_type"}},[a("kdx-hint-alert",{staticStyle:{"margin-top":"6px"},attrs:{slot:"tip","show-icon":!1},slot:"tip"},[a("p",{staticStyle:{"margin-bottom":"10px"}},[t._v(" 商品折扣价: 除运费和会员折扣外其他所有费用全部计算佣金 "),a("span",{staticClass:"primary-tip bold"},[t._v(" [商品原价-会员折扣]*佣金比例 ")])]),a("p",[t._v(" 实际支付价: 只计算实际支付和余额抵扣部分的佣金(包括余额支付) "),a("span",{staticClass:"primary-tip bold"},[t._v(" [实际支付+余额抵扣-运费]*佣金比例 ")])])])],1)],1),a("FormItem",{attrs:{"label-width":120,label:"最低提现额度：",prop:"withdraw_limit"}},[a("kdx-rr-input",{staticStyle:{width:"250px"},attrs:{disabled:t.noManagePerm,minValue:1,maxValue:9999999.99,number:"",fixed:2},model:{value:t.settings.withdraw_limit,callback:function(e){t.$set(t.settings,"withdraw_limit",e)},expression:"settings.withdraw_limit"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("元")])]),a("p",{staticClass:"tip"},[t._v("提现额度最低可设置为1元。")])],1),a("FormItem",{attrs:{"label-width":120,label:"提现手续费：",prop:"withdraw_fee_type"}},[a("MyRadioGroup",{attrs:{disabled:t.noManagePerm,items:t.withdraw_fee_type},model:{value:t.settings.withdraw_fee_type,callback:function(e){t.$set(t.settings,"withdraw_fee_type",e)},expression:"settings.withdraw_fee_type"}},[2==t.settings.withdraw_fee_type?a("div",{staticClass:"inner-box"},[a("FormItem",{attrs:{label:"手续费：",prop:"withdraw_fee","label-width":120}},[a("kdx-rr-input",{staticStyle:{width:"250px"},attrs:{disabled:t.noManagePerm,number:"",maxValue:99.9,fixed:1},model:{value:t.settings.withdraw_fee,callback:function(e){t.$set(t.settings,"withdraw_fee",e)},expression:"settings.withdraw_fee"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("%")])]),a("p",{staticClass:"tip",staticStyle:{"margin-left":"120px"}},[t._v(" 佣金提现时,扣除的提现手续费. ")])],1),a("FormItem",{staticStyle:{"margin-bottom":"0"},attrs:{label:"免手续费：",prop:"free_fee_type","label-width":120}},[a("MyRadioGroup",{staticClass:"withdraw_limit",attrs:{disabled:t.noManagePerm,items:t.free_fee_type},model:{value:t.settings.free_fee_type,callback:function(e){t.$set(t.settings,"free_fee_type",e)},expression:"settings.free_fee_type"}},["2"==t.settings.free_fee_type?a("div",{staticClass:"inner-box"},[a("div",{staticStyle:{display:"flex"}},[a("span",[t._v("手续费")]),a("kdx-rr-input",{staticStyle:{width:"160px",margin:"0 10px"},attrs:{disabled:t.noManagePerm,number:"",fixed:2,"min-value":0,"max-value":9999999.99,maxlength:10},model:{value:t.settings.free_fee_start,callback:function(e){t.$set(t.settings,"free_fee_start",e)},expression:"\n                                                settings.free_fee_start\n                                            "}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("元")])]),a("span",[t._v("-")]),a("kdx-rr-input",{staticStyle:{width:"160px",margin:"0 10px"},attrs:{disabled:t.noManagePerm,number:"",fixed:2,"min-value":0,"max-value":9999999.99,maxlength:10},model:{value:t.settings.free_fee_end,callback:function(e){t.$set(t.settings,"free_fee_end",e)},expression:"settings.free_fee_end"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("元")])]),a("span",[t._v("时不扣除手续费")])],1),a("p",{staticClass:"tip"},[t._v(" 当提现手续费金额在此区间时，不扣除手续费，结束金额必须大于开始金额。 "),a("br"),t._v("例如：设置开始金额0元，结束金额5元。只有提现手续费金额高于5元的时候才会扣除提现手续费 ")])]):t._e()])],1)],1):t._e()])],1),a("FormItem",{attrs:{label:"结算天数：","label-width":120,prop:"settlement_day_type"}},[a("MyRadioGroup",{attrs:{disabled:t.noManagePerm,items:t.settlement_day_type},model:{value:t.settings.settlement_day_type,callback:function(e){t.$set(t.settings,"settlement_day_type",e)},expression:"settings.settlement_day_type"}},[2==t.settings.settlement_day_type?a("div",{staticClass:"inner-box settlement_day"},[a("FormItem",{staticStyle:{"margin-bottom":"0"},attrs:{label:"订单确认收货后：",prop:"settlement_days","label-width":150}},[a("div",{staticStyle:{display:"flex"}},[a("kdx-rr-input",{staticStyle:{width:"160px",margin:"0 10px 0 0"},attrs:{disabled:t.noManagePerm,number:"",maxValue:999999999,fixed:0},model:{value:t.settings.settlement_days,callback:function(e){t.$set(t.settings,"settlement_days",e)},expression:"settings.settlement_days"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("天")])]),a("span",[t._v("可申请提现")])],1),a("p",{staticClass:"tip primary-tip",staticStyle:{"margin-left":"150px"}},[t._v(" 建议设置的结算天数大于 "),a("span",{staticStyle:{color:"$brand-color",cursor:"pointer"},on:{click:t.jumpSafeguard}},[t._v(" 【设置-维权设置】 ")]),t._v(" 中设置的天数，否则会出现佣金结算后商品被维权的情况，切勿随意修改，修改后立即生效。 ")])])],1):t._e()])],1),a("kdx-form-title",{attrs:{content:"提现方式"}}),a("FormItem",{attrs:{"label-width":120,label:"提现审核：",prop:"withdraw_audit"}},[a("MyRadioGroup",{attrs:{disabled:t.noManagePerm,items:t.withdraw_audit},model:{value:t.settings.withdraw_audit,callback:function(e){t.$set(t.settings,"withdraw_audit",e)},expression:"settings.withdraw_audit"}},[2==t.settings.withdraw_audit?a("div",{staticClass:"inner-box"},[a("FormItem",{attrs:{label:"分销商等级：",prop:"auto_check_level","label-width":120}},[a("Select",{staticStyle:{width:"250px"},attrs:{disabled:t.noManagePerm},model:{value:t.settings.auto_check_level,callback:function(e){t.$set(t.settings,"auto_check_level",e)},expression:"settings.auto_check_level"}},t._l(t.levelList,(function(e){return a("Option",{key:e.id,attrs:{disabled:t.noManagePerm,value:e.id}},[t._v(" "+t._s(e.name)+" ")])})),1),a("p",{staticClass:"tip",staticStyle:{"margin-left":"120px"}},[t._v(" 该等级以上分销商提现时，自动审核通过 ")])],1),a("FormItem",{staticStyle:{"margin-bottom":"0"},attrs:{label:"提现金额：",prop:"auto_check_price","label-width":120}},[a("kdx-rr-input",{staticStyle:{width:"250px"},attrs:{disabled:t.noManagePerm,number:"",fixed:2,"min-value":0,"max-value":9999999.99,maxlength:10},model:{value:t.settings.auto_check_price,callback:function(e){t.$set(t.settings,"auto_check_price",e)},expression:"settings.auto_check_price"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("元")])]),a("p",{staticClass:"tip",staticStyle:{"margin-left":"120px"}},[t._v(" 申请提现金额小于该设置时，自动审核通过。 ")])],1)],1):t._e()])],1),a("FormItem",{attrs:{"label-width":120,label:"提现方式：",prop:"withdraw_type"}},[a("CheckboxGroup",{on:{"on-change":t.checkAllGroupChange},model:{value:t.settings.withdraw_type,callback:function(e){t.$set(t.settings,"withdraw_type",e)},expression:"settings.withdraw_type"}},[a("Checkbox",{attrs:{disabled:t.noManagePerm,label:"10"}},[t._v("提现到商城余额")]),a("Checkbox",{attrs:{disabled:t.noManagePerm,label:"20"}},[t._v("提现到微信钱包")]),a("Checkbox",{attrs:{disabled:t.noManagePerm,label:"30"}},[t._v("手动提现到支付宝")])],1)],1)],1)],1)])},n=[]},3891:function(t,e,a){"use strict";a.r(e);var i=a("4481"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"3b02":function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.Export=void 0;var n=i(a("5530")),s=a("d8cc"),o=i(a("4328")),l=a("384d"),r=i(a("1cc8")),c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(console.log(t,"---------downloadPath"),t){var a="";if(-1===t.indexOf(s.config.base_url)){var i={baseURL:s.config.base_url,url:t};(0,r.default)(i),a=i.baseURL+i.url}else a=t;a=a.indexOf("?")>-1?a:a+"?",e=(0,n.default)((0,n.default)({},e),(0,l.getUserInfo)()),a+="&".concat(o.default.stringify(e)),window.open(a)}};e.Export=c},"3be2":function(t,e,a){"use strict";a.r(e);var i=a("eb28"),n=a("40f5");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("50c2");var o=a("2877"),l=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"3c8a897e",null);e["default"]=l.exports},"3c21":function(t,e,a){"use strict";a("ba49")},"3c4a":function(t,e,a){"use strict";a.r(e);var i=a("d873"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"3c63":function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("487f")),s={name:"list",components:{noticeList:n.default},props:{},data:function(){return{type:{plugin_name:"commission",group_name:"buyer_notice",group_item_name:"buyer_notice"},tabPoint:"buyer"}},computed:{},created:function(){},mounted:function(){},methods:{toDetail:function(t){"seller"==this.tabPoint&&(t.is_showNoticeMember=!0),this.$router.push({path:"/commission/message/index",query:t})},changeTab:function(t){this.type="seller"==t?{plugin_name:"commission",group_name:"seller_notice",group_item_name:"seller_notice"}:{plugin_name:"commission",group_name:"buyer_notice",group_item_name:"buyer_notice"},this.tabPoint=t}}};e.default=s},"3c84":function(t,e,a){"use strict";a.r(e);var i=a("3700"),n=a("8bc9");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("def4");var o=a("2877"),l=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,null,null);e["default"]=l.exports},"3e10":function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("a9e3"),a("e9c4"),a("b0c0"),a("a15b"),a("99af"),a("d3b7"),a("159b");var n=i(a("313e")),s=i(a("89bd")),o={name:"ChartLine",props:{id:{type:String,required:!0},data:{type:Array,default:function(){return[]}},legend:{type:[Object,Boolean],default:function(){}},height:{type:Number,default:130},loading:{type:Boolean,default:!1},radius:{type:[Array,String],default:function(){return["70%","90%"]}},label:{type:Object,default:function(){}},hoverOffset:{type:Number,default:2},center:{type:Array,default:function(){return["50%","50%"]}},width:{type:[String,Number],default:"100%"}},data:function(){return{myCharts:null,option:{title:{},grid:{left:"0%",right:"0%",bottom:"0%",containLabel:!1},tooltip:{trigger:"item",padding:[0]},legend:{icon:"circle",itemWidth:8,itemHeight:8,textStyle:{color:"#636669"}},series:[{type:"pie",radius:this.radius,hoverOffset:this.hoverOffset,center:this.center,label:{normal:{show:!1,position:"center",formatter:"{b}132: \n{d}",rich:{b:{color:"#636669",fontSize:12,lineHeight:16,fontFamily:"din,PingFang SC,Microsoft YaHei"},d:{color:"#636669",fontSize:20,lineHeight:28,fontWeight:"bold",fontFamily:"din,PingFang SC,Microsoft YaHei"}}}},emphasis:{label:{show:!0,rich:{a:{color:"#636669",fontSize:12,lineHeight:16,fontFamily:"din,PingFang SC,Microsoft YaHei"},b:{color:"#262b30",fontSize:20,lineHeight:32,fontWeight:"bold",fontFamily:"din,PingFang SC,Microsoft YaHei"}}}}}]}}},methods:{init:function(){n.default.registerTheme("theme",s.default),this.myCharts=n.default.init(document.getElementById("pie_".concat(this.id)),s.default)},render:function(){var t=this;this.myCharts||this.init();var e=JSON.parse(JSON.stringify(this.option));this.legend?Object.assign(e.legend,this.legend):delete e.legend,e.series[0].data=this.data,e.series[0].emphasis.label.formatter=function(t){var e=t.name,a=t.percent;return["{a|".concat(e,"}"),"{b|".concat(a,"%}")].join("\n")},e.tooltip.formatter=function(t){var e=t.name,a=t.percent,i=t.color;return'<div style="background:#fff;border-radius: 2px;padding: 12px 48px 12px 12px;box-shadow: 0px 4px 10px rgba(0, 49, 95, 0.08);">\n                    <div style="display:flex;align-items:center;margin-top:4px;">\n                        <span style="display:inline-block;width:8px;height:8px;border-radius:50%;margin-right:8px;background:'.concat(i,';"></span>\n                        <span style="color:#636669;">').concat(e,"：").concat(a,"%</span>\n                    </div>\n                </div>")},this.myCharts.setOption(e);var a=0;this.myCharts.dispatchAction({type:"highlight",seriesIndex:0,dataIndex:a}),this.myCharts.on("mouseover",(function(e){t.data.forEach((function(e,a){t.myCharts.dispatchAction({type:"downplay",seriesIndex:0,dataIndex:a})})),t.myCharts.dispatchAction({type:"highlight",seriesIndex:0,dataIndex:e.dataIndex})})),this.myCharts.on("mouseout",(function(e){a=e.dataIndex,t.myCharts.dispatchAction({type:"highlight",seriesIndex:0,dataIndex:e.dataIndex})}))},handleResize:function(){this.myCharts&&this.myCharts.resize()}},mounted:function(){window.addEventListener("resize",this.handleResize)}};e.default=o},"3ede":function(t,e,a){"use strict";a.r(e);var i=a("b2f9"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"3fb1":function(t,e,a){"use strict";a.r(e);var i=a("f598"),n=a("3891");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("cb77");var o=a("2877"),l=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"4737bd3a",null);e["default"]=l.exports},"3fc3":function(t,e,a){"use strict";a.r(e);var i=a("72b0"),n=a("63b2");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("d6bd");var o=a("2877"),l=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"99d1cc88",null);e["default"]=l.exports},"3fc6":function(t,e,a){},"40f5":function(t,e,a){"use strict";a.r(e);var i=a("69bf"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},4238:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("kdx-content-bar",{staticClass:"rank-settings",scopedSlots:t._u([{key:"btn",fn:function(){return[a("Button",{staticClass:"primary-long",on:{click:t.save}},[t._v("保存")])]},proxy:!0}])},[a("Form",{ref:"form",staticClass:"body",staticStyle:{background:"#fff",height:"100%"},attrs:{"label-width":120}},[a("kdx-form-title",{attrs:{content:"排行榜设置"}}),a("FormItem",{attrs:{label:"排行榜状态：",prop:""}},[a("MyRadioGroup",{attrs:{disabled:t.noManagePerm,items:t.status},model:{value:t.settings.open,callback:function(e){t.$set(t.settings,"open",e)},expression:"settings.open"}},[1==t.settings.open?a("div",[a("FormItem",{staticStyle:{"margin-bottom":"20px"},attrs:{label:"排行榜类型：","label-width":110,prop:"self_buy"}},[a("MyRadioGroup",{attrs:{disabled:t.noManagePerm,items:t.type},model:{value:t.settings.commission_type,callback:function(e){t.$set(t.settings,"commission_type",e)},expression:"settings.commission_type"}})],1),a("FormItem",{staticStyle:{"margin-bottom":"0"},attrs:{label:"显示数量：","label-width":110,prop:"self_buy"}},[a("MyRadioGroup",{attrs:{disabled:t.noManagePerm,items:t.num},model:{value:t.settings.show_total,callback:function(e){t.$set(t.settings,"show_total",e)},expression:"settings.show_total"}})],1)],1):t._e()])],1)],1)],1)},n=[]},"428c":function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"good-list-table-list"},[a("Table",{ref:"table",attrs:{columns:t.columns,data:t.getTableData},on:{"on-selection-change":t.selectChange,"on-sort-change":t.changeSort}}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.data.length>0,expression:"data.length > 0"}],staticClass:"footer-action"},[a("Checkbox",{attrs:{disabled:t.noManagePerm},on:{"on-change":t.checkboxChange},model:{value:t.isSelectAll,callback:function(e){t.isSelectAll=e},expression:"isSelectAll"}}),a("Button",{attrs:{disabled:t.selectDisabled||t.noManagePerm},on:{click:function(e){return t.handleEdit(t.selectRows)}}},[t._v("不参与分销")])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.total>10,expression:"total > 10"}],staticClass:"footer-page"},[a("kdx-page-component",{ref:"page",attrs:{total:t.total},on:{"on-change":t.changePage}})],1),t._t("default")],2)},n=[]},"434b":function(t,e,a){"use strict";a("9c11")},4481:function(t,e,a){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("a9e3");var i={name:"TableList",components:{},props:{data:{type:Array,default:function(){return[]}},total:{type:[String,Number],default:0}},computed:{noManagePerm:function(){return!this.$getPermMap("commission.agent.manage")}},data:function(){var t=this;this.$createElement;return{columns:[{title:"会员",key:"shop",minWidth:150,render:function(e,a){var i;return"20"==a.row.source?i=e("span",{class:"iconfont icon-weixin icon"}):"21"==a.row.source?i=e("span",{class:"iconfont icon-weixinxiaochengxu icon"}):"30"==a.row.source?i=e("kdx-svg-icon",{class:"iconfont",attrs:{type:"icon-qudao-toutiao2"}}):"32"==a.row.source?i=e("kdx-svg-icon",{class:"iconfont",attrs:{type:"icon-qudao-toutiaojisuban"}}):"31"==a.row.source?i=e("kdx-svg-icon",{class:"iconfont",attrs:{type:"icon-douyin"}}):"10"==a.row.source?i=e("span",{class:"iconfont icon-H icon"}):"70"==a.row.source&&(i=e("span",{style:"color:#12aa9c",class:"iconfont icon-PCduan icon"})),e("div",{class:"vip"},[e("div",{class:"vip-image"},[e("img",{attrs:{src:t.$media(a.row.avatar)},on:{error:function(e){t.replaceImage(e,"avatar")}}})]),e("div",{class:"vip-content"},[e("div",{class:"vip-name line-hide",on:{click:function(){t.routerPage("vip-detail",a.row.member_id)}}},[a.row.nickname]),e("div",{class:"vip-platform"},[i])])])}},{title:"分销商等级",key:"commission_level_name",minWidth:100,render:function(t,e){return e.row[e.column.key]?t("div",{class:"vip-grade"},[t("div",{class:"icon"},[t("kdx-svg-icon",{attrs:{type:"icon-fenxiaoshang-bg"}})]),t("div",{class:"text"},[e.row[e.column.key]])]):t("div",["-"])}},{title:"累计佣金",key:"commission_total",minWidth:110,sortable:"custom",render:function(t,e){return t("div",["￥",e.row[e.column.key]])}},{title:"已提现佣金",key:"commission_pay",minWidth:110,sortable:"custom",render:function(t,e){return t("div",["￥",[e.row[e.column.key]]])}},{title:"成为分销商时间",key:"become_time",width:140},{title:"上级",key:"agent_id",minWidth:120,render:function(e,a){return"0"==a.row.agent_id?e("div",["总店"]):e("div",{class:"superior",on:{click:function(){t.routerPage("vip-detail-agent",a.row.agent_id)}}},[(null===(i=a.row)||void 0===i||null===(n=i.agentMember)||void 0===n?void 0:n.nickname)||"-"]);var i,n}},{title:"下线总数",key:"commission_child",width:100,render:function(e,a){return e("div",{class:"commission-child",on:{click:function(){t.routerPage("relation",a.row.member_id)}}},[a.row[a.column.key]])}},{title:"操作",key:"action",width:150,render:function(e,a){return e("div",{class:"action"},[e("Button",{attrs:{disabled:t.noManagePerm,type:"text"},on:{click:function(){t.routerPage("vip-detail",a.row.member_id)}}},["详情"]),e("Button",{attrs:{disabled:t.noManagePerm,type:"text"},on:{click:function(){t.routerPage("agent-order",a.row.member_id)}}},["分销订单"]),e("Button",{attrs:{disabled:t.noManagePerm,type:"text"},on:{click:function(){t.setStatus(a.row.member_id,"-2")}}},["取消分销商资格"])])}}]}},methods:{setStatus:function(t,e){var a=this;this.$Modal.confirm({title:"提示",content:"是否取消该分销商资格?",onOk:function(){a.$api.commissionApi.setToAuditStatus({member_id:t,status:e}).then((function(t){0===t.error&&(a.$Message.success("分销商取消操作成功"),a.$emit("on-refresh"))}))}})},changePage:function(t){this.$emit("on-page-change",t)},changeSort:function(t){var e=t.key,a=t.order;"normal"===a?this.$emit("on-sort",{}):this.$emit("on-sort",{sort:e,by:a})},reset:function(){this.$refs["page"].reset()},routerPage:function(t,e){"vip-detail"===t||"vip-detail-agent"===t?this.$utils.openNewWindowPage("/member/detail",{id:e}):"relation"===t?this.$router.push({path:"/commission/relation?id=".concat(e)}):"agent-order"===t&&this.$utils.openNewWindowPage("/commission/order/list",{member_id:e,member_type:"1"})}}};e.default=i},4649:function(t,e,a){"use strict";a.r(e);var i=a("fc97"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"487f":function(t,e,a){"use strict";a.r(e);var i=a("8294"),n=a("c20b");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("1c75");var o=a("2877"),l=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"5df3f399",null);e["default"]=l.exports},4982:function(t,e,a){"use strict";a("db7b")},"4dac":function(t,e,a){"use strict";a("8ae6")},"4ddd":function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"add-img-img",class:["icon"==t.type?"mini":t.size],on:{mouseenter:t.mouseenter}},[a("div",{staticClass:"img-img-box",on:{click:t.addImg}},[t.imgurl&&"image"==t.type?a("img",{ref:"img",attrs:{src:t.$utils.media(t.imgurl),alt:""},on:{load:t.success}}):t.imgurl&&"icon"==t.type?a("i",{staticClass:"sel-icon",class:[t.imgurl]}):"video"==t.type&&t.imgurl?a("div",{staticClass:"video"},[a("video",{attrs:{src:t.$utils.media(t.imgurl,"video")}})]):a("i",{staticClass:"icon",class:[t.getIcon]}),t.imgurl||"mini"===t.size||"icon"==t.type?t._e():a("span",[t._v(t._s(t.tip))]),a("transition",{attrs:{name:"fade"}},[t.imgurl?a("span",{staticClass:"replace"},[a("i",[t._v("替换")])]):t._e()])],1),t.imgurl?a("i",{staticClass:" close ivu-icon ivu-icon-md-close-circle",on:{click:function(e){return e.stopPropagation(),t.delImg.apply(null,arguments)}}}):t._e(),t.loadSelector&&"image"==t.type?a("image-selector",{ref:"image_selector",attrs:{current:t.imgurl,multiple:!1},on:{"on-change":t.changeImage}}):t.loadSelector&&"icon"==t.type?a("icon-selector",{ref:"iconSelector",on:{"on-change":t.getIconClass}}):t.loadSelector&&"video"==t.type?a("video-selector",{ref:"video_selector",attrs:{current:t.value},on:{"on-change":t.changeVideo}}):t._e()],1)},n=[]},"4e17":function(t,e,a){},"4efd":function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wechat-template"},[a("div",{staticClass:"tip"},[a("kdx-hint-alert",{attrs:{"show-icon":!1}},[a("div",[t._v(" 请将公众平台模板消息所在行业选择为： "),a("span",{staticClass:"warning-color"},[t._v("IT科技/互联网|电子商务 其他|其他")]),t._v("，所选行业不一致将会导致模板消息不可用 ")]),a("div",[t._v(" 微信公众平台模板消息最多支持可添加25条 "),a("Button",{attrs:{type:"text",to:"/notice/wxappTemplate/list",target:"_blank"}},[t._v("查看详情")])],1)])],1),a("kdx-form-title",[t._v("发送设置")]),a("Form",{ref:"form",attrs:{model:t.model,rules:t.rules,"label-width":120}},[a("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"发送设置："}},[a("RadioGroup",{model:{value:t.model.status,callback:function(e){t.$set(t.model,"status",e)},expression:"model.status"}},[a("Radio",{attrs:{label:1}},[t._v("开启")]),a("Radio",{attrs:{label:0}},[t._v("关闭")])],1)],1),a("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"发送时间："}},[a("span",[t._v(t._s(t.sendTime))])]),t.isShow_level?a("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"通知等级："}},[a("RadioGroup",{model:{value:t.model.commission_level,callback:function(e){t.$set(t.model,"commission_level",e)},expression:"model.commission_level"}},[a("Radio",{attrs:{label:"1"}},[t._v("一级")]),a("Radio",{attrs:{label:"2"}},[t._v("一级+二级")])],1),"commission_buyer_child_pay"===t.type_code?a("kdx-hint-text",[t._v("开启内购后，一级佣金获得者是自身时，自身不发送此消息，只给二佣金获得者发送消息提示")]):t._e()],1):t._e(),t.is_showNoticeMember?a("FormItem",{attrs:{label:"通知人员："}},[a("Button",{staticClass:"default-primary",on:{click:t.selectVip}},[t._v("+添加")]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.vipList.length>0,expression:"vipList.length > 0"}],staticClass:"vip-table"},[a("Table",{attrs:{columns:t.columns,data:t.vipList,size:"small"},scopedSlots:t._u([{key:"nickname",fn:function(e){var i=e.row;return[a("div",{staticClass:"vip-info"},[a("img",{attrs:{src:i.avatar,alt:""},on:{error:function(e){return t.replaceImage(e,"avatar")}}}),a("p",{staticClass:"name"},[a("span",{staticStyle:{"margin-bottom":"4px"}},[t._v(t._s(i.nickname))]),new Set(["10","20","21"]).has(i.source)?a("i",{staticClass:"iconfont",class:{"icon-H":"10"===i.source,"icon-weixin":"20"===i.source,"icon-weixinxiaochengxu":"21"===i.source}}):"30"===i.source?a("kdx-svg-icon",{staticClass:"iconfont",attrs:{type:"icon-qudao-toutiao2"}}):"32"===i.source?a("kdx-svg-icon",{staticClass:"iconfont",attrs:{type:"icon-qudao-toutiaojisuban"}}):"31"===i.source?a("kdx-svg-icon",{staticClass:"iconfont",attrs:{type:"icon-douyin"}}):"70"===i.source?a("span",{staticClass:"iconfont icon-PCduan",staticStyle:{color:"#12aa9c","font-size":"16px"}}):t._e()],1)])]}}],null,!1,2828295025)})],1)],1):t._e(),a("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"模板设置："}},[a("RadioGroup",{model:{value:t.model.is_default,callback:function(e){t.$set(t.model,"is_default",e)},expression:"model.is_default"}},[a("Radio",{attrs:{label:1}},[t._v("系统默认")]),a("Radio",{attrs:{label:0}},[t._v("自定义模板")])],1),1==t.model.is_default?a("default-template",{attrs:{type:"wechat"}}):t._e(),0==t.model.is_default?a("custom-template",{ref:"customTemplate",model:{value:t.model.template,callback:function(e){t.$set(t.model,"template",e)},expression:"model.template"}}):t._e()],1)],1),a("vip-selector",{ref:"VipSelector",attrs:{currentList:t.vipList,multiple:""},on:{"on-change":t.getVipList}})],1)},n=[]},"4f11":function(t,e,a){"use strict";a.r(e);var i=a("765f"),n=a("8d80");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("fc0b");var o=a("2877"),l=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"0af06070",null);e["default"]=l.exports},"4f6e":function(t,e,a){},"50c2":function(t,e,a){"use strict";a("f4f9")},5216:function(t,e,a){"use strict";a.r(e);var i=a("2099"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},5274:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"plugins-commission-relation"},[a("header-info",{attrs:{child:t.info.child,"member-info":t.info.memberInfo,"agent-info":t.info.agentInfo}}),a("search-header",{ref:"search_header",attrs:{grade:t.grade,level:t.level},on:{"on-change":t.handleSearch,"on-export":t.handleExport}}),a("div",{staticClass:"table-list"},[a("table-list",{ref:"table_list",attrs:{loading:t.table.loading,data:t.table.data,total:t.table.total},on:{"on-page-change":t.changePage,"on-refresh":t.refreshTable,"on-sort":t.handleSort}})],1),t._t("default")],2)},n=[]},5307:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("kdx-content-bar",{scopedSlots:t._u([{key:"btn",fn:function(){return[a("Button",{staticClass:"primary-long",on:{click:t.save}},[t._v("保存")])]},proxy:!0}])},[a("div",{staticClass:"notice-settings"},[a("Tabs",{attrs:{animated:!1,name:"floor1"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[a("TabPane",{attrs:{label:"卖家通知",name:"style"}},[a("keep-alive",[a("Form",{staticClass:"container",attrs:{"label-width":150}},[a("FormItem",{attrs:{label:"申请成为分销商：",prop:"category_id"}},[a("MyRadioGroup",{attrs:{items:t.open},model:{value:t.settings.seller.apply.template.state,callback:function(e){t.$set(t.settings.seller.apply.template,"state",e)},expression:"settings.seller.apply.template.state"}},[1==t.settings.seller.apply.template.state?a("ModelList",{staticStyle:{"margin-bottom":"20px"},model:{value:t.settings.seller.apply.template.id,callback:function(e){t.$set(t.settings.seller.apply.template,"id",e)},expression:"settings.seller.apply.template.id"}}):t._e(),1==t.settings.seller.apply.template.state?a("AddNoticeObject",{attrs:{type:"apply"},model:{value:t.settings.seller.apply.template.member_id,callback:function(e){t.$set(t.settings.seller.apply.template,"member_id",e)},expression:"settings.seller.apply.template.member_id"}}):t._e()],1)],1),a("FormItem",{attrs:{label:"分销商提现：",prop:"category_id"}},[a("MyRadioGroup",{attrs:{items:t.open},model:{value:t.settings.seller.withdraw.template.state,callback:function(e){t.$set(t.settings.seller.withdraw.template,"state",e)},expression:"settings.seller.withdraw.template.state"}},[1==t.settings.seller.withdraw.template.state?a("ModelList",{staticStyle:{"margin-bottom":"20px"},model:{value:t.settings.seller.withdraw.template.id,callback:function(e){t.$set(t.settings.seller.withdraw.template,"id",e)},expression:"settings.seller.withdraw.template.id"}}):t._e(),1==t.settings.seller.withdraw.template.state?a("AddNoticeObject",{attrs:{type:"withdraw"},model:{value:t.settings.seller.withdraw.template.member_id,callback:function(e){t.$set(t.settings.seller.withdraw.template,"member_id",e)},expression:"settings.seller.withdraw.template.member_id"}}):t._e()],1)],1)],1)],1)],1),a("TabPane",{attrs:{label:"买家通知",name:"agreement"}},[a("keep-alive",[a("Form",{staticClass:"container",attrs:{"label-width":180}},[a("kdx-form-title",{attrs:{content:"成为分销商"}}),a("FormItem",{attrs:{label:"成为分销商通知：",prop:"category_id"}},[a("MyRadioGroup",{attrs:{items:t.open},model:{value:t.settings.buyer.agent.become.template.state,callback:function(e){t.$set(t.settings.buyer.agent.become.template,"state",e)},expression:"settings.buyer.agent.become.template.state"}},[1==t.settings.buyer.agent.become.template.state?a("ModelList",{model:{value:t.settings.buyer.agent.become.template.id,callback:function(e){t.$set(t.settings.buyer.agent.become.template,"id",e)},expression:"settings.buyer.agent.become.template.id"}}):t._e()],1)],1),a("FormItem",{attrs:{label:"新增下级通知：",prop:"category_id"}},[a("MyRadioGroup",{attrs:{items:t.open},model:{value:t.settings.buyer.agent.add_child.template.state,callback:function(e){t.$set(t.settings.buyer.agent.add_child.template,"state",e)},expression:"settings.buyer.agent.add_child.template.state"}},[1==t.settings.buyer.agent.add_child.template.state?a("FormItem",{attrs:{label:"下级级数：","label-width":130,prop:"category_id"}},[a("MyRadioGroup",{attrs:{items:t.vipLevels},model:{value:t.settings.buyer.agent.add_child.template.level,callback:function(e){t.$set(t.settings.buyer.agent.add_child.template,"level",e)},expression:"settings.buyer.agent.add_child.template.level"}})],1):t._e(),1==t.settings.buyer.agent.add_child.template.state?a("ModelList",{model:{value:t.settings.buyer.agent.add_child.template.id,callback:function(e){t.$set(t.settings.buyer.agent.add_child.template,"id",e)},expression:"settings.buyer.agent.add_child.template.id"}}):t._e()],1)],1),a("kdx-form-title",{attrs:{content:"下级通知"}}),a("FormItem",{attrs:{label:"下级付款通知：",prop:"category_id"}},[a("MyRadioGroup",{attrs:{items:t.open},model:{value:t.settings.buyer.child.pay.template.state,callback:function(e){t.$set(t.settings.buyer.child.pay.template,"state",e)},expression:"settings.buyer.child.pay.template.state"}},[1==t.settings.buyer.child.pay.template.state?a("FormItem",{attrs:{label:"下级级数：","label-width":130,prop:"category_id"}},[a("MyRadioGroup",{attrs:{items:t.vipLevels},model:{value:t.settings.buyer.child.pay.template.level,callback:function(e){t.$set(t.settings.buyer.child.pay.template,"level",e)},expression:"settings.buyer.child.pay.template.level"}})],1):t._e(),1==t.settings.buyer.child.pay.template.state?a("ModelList",{model:{value:t.settings.buyer.child.pay.template.id,callback:function(e){t.$set(t.settings.buyer.child.pay.template,"id",e)},expression:"settings.buyer.child.pay.template.id"}}):t._e()],1)],1),a("FormItem",{attrs:{label:"下级确认收货通知：",prop:"category_id"}},[a("MyRadioGroup",{attrs:{items:t.open},model:{value:t.settings.buyer.child.receive.template.state,callback:function(e){t.$set(t.settings.buyer.child.receive.template,"state",e)},expression:"settings.buyer.child.receive.template.state"}},[1==t.settings.buyer.child.receive.template.state?a("FormItem",{attrs:{label:"下级级数：","label-width":130,prop:"category_id"}},[a("MyRadioGroup",{attrs:{items:t.vipLevels},model:{value:t.settings.buyer.child.receive.template.level,callback:function(e){t.$set(t.settings.buyer.child.receive.template,"level",e)},expression:"settings.buyer.child.receive.template.level"}})],1):t._e(),1==t.settings.buyer.child.receive.template.state?a("ModelList",{model:{value:t.settings.buyer.child.receive.template.id,callback:function(e){t.$set(t.settings.buyer.child.receive.template,"id",e)},expression:"settings.buyer.child.receive.template.id"}}):t._e()],1)],1),a("kdx-form-title",{attrs:{content:"提现通知"}}),a("FormItem",{attrs:{label:"提现申请提交通知：",prop:"category_id"}},[a("MyRadioGroup",{attrs:{items:t.open},model:{value:t.settings.buyer.withdraw.apply.template.state,callback:function(e){t.$set(t.settings.buyer.withdraw.apply.template,"state",e)},expression:"settings.buyer.withdraw.apply.template.state"}},[1==t.settings.buyer.withdraw.apply.template.state?a("ModelList",{model:{value:t.settings.buyer.withdraw.apply.template.id,callback:function(e){t.$set(t.settings.buyer.withdraw.apply.template,"id",e)},expression:"settings.buyer.withdraw.apply.template.id"}}):t._e()],1)],1),a("FormItem",{attrs:{label:"提现申请审核完成通知：",prop:"category_id"}},[a("MyRadioGroup",{attrs:{items:t.open},model:{value:t.settings.buyer.withdraw.finish.template.state,callback:function(e){t.$set(t.settings.buyer.withdraw.finish.template,"state",e)},expression:"settings.buyer.withdraw.finish.template.state"}},[1==t.settings.buyer.withdraw.finish.template.state?a("ModelList",{model:{value:t.settings.buyer.withdraw.finish.template.id,callback:function(e){t.$set(t.settings.buyer.withdraw.finish.template,"id",e)},expression:"settings.buyer.withdraw.finish.template.id"}}):t._e()],1)],1),a("kdx-form-title",{attrs:{content:"佣金通知"}}),a("FormItem",{attrs:{label:"佣金打款通知：",prop:"category_id"}},[a("MyRadioGroup",{attrs:{items:t.open},model:{value:t.settings.buyer.commission.pay.template.state,callback:function(e){t.$set(t.settings.buyer.commission.pay.template,"state",e)},expression:"settings.buyer.commission.pay.template.state"}},[1==t.settings.buyer.commission.pay.template.state?a("ModelList",{model:{value:t.settings.buyer.commission.pay.template.id,callback:function(e){t.$set(t.settings.buyer.commission.pay.template,"id",e)},expression:"settings.buyer.commission.pay.template.id"}}):t._e()],1)],1),a("FormItem",{attrs:{label:"分销商等级提升通知：",prop:"category_id"}},[a("MyRadioGroup",{attrs:{items:t.open},model:{value:t.settings.buyer.commission.upgrade.template.state,callback:function(e){t.$set(t.settings.buyer.commission.upgrade.template,"state",e)},expression:"settings.buyer.commission.upgrade.template.state"}},[1==t.settings.buyer.commission.upgrade.template.state?a("ModelList",{model:{value:t.settings.buyer.commission.upgrade.template.id,callback:function(e){t.$set(t.settings.buyer.commission.upgrade.template,"id",e)},expression:"settings.buyer.commission.upgrade.template.id"}}):t._e()],1)],1)],1)],1)],1)],1)],1)])},n=[]},5471:function(t,e,a){"use strict";a.r(e);var i=a("1bf7"),n=a("78d8");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("8c2e");var o=a("2877"),l=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"4f72f8de",null);e["default"]=l.exports},"552e":function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("ac1f"),a("841c"),a("4e82");var n=i(a("8f66")),s=i(a("3fb1")),o=a("3b02"),l={name:"index",inject:["returnToTop"],components:{SearchHeader:n.default,TableList:s.default},data:function(){return{page:{pageSize:10,pageNumber:1},search:{},grade:[],table:{data:[],total:0,loading:!1},sort:{}}},methods:{handleSearch:function(t){this.search=t,this.refreshTable()},handleSort:function(t){this.sort=t,this.refreshTable()},getList:function(){var t=this;this.returnToTop(),this.table.loading=!0;var e=Object.assign({pagesize:this.page.pageSize,page:this.page.pageNumber},this.search,this.sort);this.$api.commissionApi.getDistributorList(e).then((function(e){0===e.error&&(t.table.data=e.list,t.table.total=e.total,t.table.loading=!1)})).catch()},getAgentGradeList:function(){var t=this;this.$api.commissionApi.getAgentGradeAllList().then((function(e){var a;0===e.error&&(null!==e&&void 0!==e&&null!==(a=e.list)&&void 0!==a&&a.length?e.list.unshift({id:"all",name:"全部"}):e.list=[{id:"all",name:"全部"}],t.grade=e.list)}))},refreshTable:function(){this.page={pageSize:10,pageNumber:1},this.$refs["table_list"].reset(),this.getList()},changePage:function(t){this.page=t,this.getList()},handleExport:function(){var t=Object.assign({status:this.status,export:"1"},this.search);(0,o.Export)("manage/commission/agent",t)}},mounted:function(){this.getAgentGradeList(),this.getList()}};e.default=l},"5596b":function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("9794")),s={name:"index",components:{noticeIndex:n.default},props:{},data:function(){return{is_showNoticeMember:!1}},computed:{},created:function(){},mounted:function(){this.is_showNoticeMember=this.$route.query.is_showNoticeMember||!1},methods:{}};e.default=s},"55dc":function(t,e,a){"use strict";a("1749")},"561f":function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"plugins-commission-distributor"},[a("search-header",{ref:"search_header",attrs:{grade:t.grade},on:{"on-change":t.handleSearch,"on-export":t.handleExport}}),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.table.loading,expression:"table.loading"}],staticClass:"table-list"},[a("table-list",{ref:"table_list",attrs:{data:t.table.data,total:t.table.total},on:{"on-page-change":t.changePage,"on-refresh":t.refreshTable,"on-sort":t.handleSort}})],1),t._t("default")],2)},n=[]},5694:function(t,e,a){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("a9e3"),a("d3b7"),a("159b"),a("e9c4"),a("4e82"),a("07ac"),a("4de4");var i={name:"OrderList",props:{data:{type:Array,default:function(){return[]}},total:{type:Number,default:0},loading:{type:Boolean,default:!1}},data:function(){return{columns:[{title:"商品",key:"shop",width:350},{title:"单价/数量",key:"price",width:184},{title:"实付款",key:"payment",width:160},{title:"买家/电话",key:"buyer",width:171},{title:"分销信息",key:"delivery",width:350},{title:"状态/时间",key:"action",width:268}],cloneColumns:[],totalWidth:0,tableWidth:0,page:{total:10}}},methods:{handleResize:function(){var t,e=this;this.tableWidth=(null===(t=this.$refs["order_table"])||void 0===t?void 0:t.offsetWidth)-40;var a=this.columns.length,i=parseInt((this.tableWidth-this.totalWidth)/a);this.columns.forEach((function(t,a){var n=(e.cloneColumns[a].width||0)+i;e.$set(e.columns[a],"width",n)}))},getCloneColumns:function(){this.cloneColumns=JSON.parse(JSON.stringify(this.columns))},getTotalWidth:function(){var t=this;this.totalWidth=0,this.cloneColumns.forEach((function(e){t.totalWidth+=e.width||0}))},handlePageChange:function(t){this.$emit("on-page-change",t)},reset:function(){this.$refs["page"].reset()},handleRefresh:function(){this.$emit("on-refresh")},getLevelInfo:function(t){var e=["agent_level1","agent_level2","agent_level3"],a={};e.forEach((function(e){t[e]&&(a[e]=t[e])}));var i=Object.values(a).sort((function(t,e){return t.level<e.level}));return i},getPayType:function(t){var e=[{id:"1",text:"后台确认",icon:"icon-houtaizhifu",class:""},{id:"2",text:"余额支付",icon:"icon-money-pay",class:"money-text"},{id:"3",text:"货到付款",icon:"icon-huodaofukuan",class:""},{id:"20",text:"微信支付",icon:"icon-wechatpay",class:"wepay-text"},{id:"30",text:"支付宝支付",icon:"icon-alipay",class:"alipay-text"}];return e.filter((function(e){return e.id===t}))[0]||{}},checkDetail:function(t,e){var a="";"10"==e||"11"==e?a="/order/detail/send":"0"==e?a="/order/detail/payment":"20"==e?a="/order/detail/receive":"30"==e?a="/order/detail/achieve":"-1"==e&&(a="/order/detail/close"),this.$utils.openNewWindowPage(a,{id:t})},jumpVip:function(t){this.$utils.openNewWindowPage("/member/detail",{id:t})}},filters:{getSourceIcon:function(t){switch(t){case"10":return"icon-H";case"20":return"icon-weixin";case"21":return"icon-weixinxiaochengxu";default:break}},getLevelText:function(t){var e={1:"一级分销商：",2:"二级分销商："};return e[t]},getOrderText:function(t){var e={0:"待付款",10:"待发货",11:"部分发货",20:"待收货",30:"已完成","-1":"已关闭"};return e[t]}},mounted:function(){var t=this;this.getCloneColumns(),this.getTotalWidth(),setTimeout((function(){t.handleResize()}),500),window.addEventListener("resize",(function(){t.handleResize()}),200)}};e.default=i},"56cd":function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("ade3")),s=i(a("5530"));a("d3b7"),a("159b"),a("b64b");var o=i(a("6b68")),l={name:"CommissionRate",components:{CheckLabel:o.default},computed:{noManagePerm:function(){return!this.$getPermMap("commission.level.manage")}},props:{level:{type:Array,required:!0,default:function(){return[]}},setting:{type:Object,default:function(){}},isDefault:{type:Boolean,default:!1}},data:function(){return{model:{level:"",name:"",commission_1:"",commission_2:""},rules:{level:[{required:!0,message:"等级权重必填"}],name:[{required:!0,message:"等级名称必填"}],commission_1:[{required:!0,message:"一级佣金比例必填"},{pattern:/^(0|[1-9][0-9]{0,1})(\.[0-9]{1,2})?$/,message:"支持0.01到99.9"}],commission_2:[{required:!0,message:"二级佣金比例必填"},{pattern:/^(0|[1-9][0-9]{0,1})(\.[0-9]{1,2})?$/,message:"支持0.01到99.9"}]},option:[{id:1,name:"一级",checked:!1,disabled:!1},{id:2,name:"二级",checked:!1,disabled:!1},{id:3,name:"三级",checked:!1,disabled:!1},{id:4,name:"四级",checked:!1,disabled:!1},{id:5,name:"五级",checked:!1,disabled:!1},{id:6,name:"六级",checked:!1,disabled:!1},{id:7,name:"七级",checked:!1,disabled:!1},{id:8,name:"八级",checked:!1,disabled:!1},{id:9,name:"九级",checked:!1,disabled:!1},{id:10,name:"十级",checked:!1,disabled:!1}]}},methods:{setLabelChecked:function(t,e){e&&(this.model.level=this.option[t].id)},resetModel:function(t){var e=this;Object.keys(this.model).forEach((function(a){e.model[a]=t[a]}))},getModel:function(){var t=(0,s.default)({},this.model);return t.commission_1=t.commission_1?t.commission_1:"0",t.commission_2=t.commission_2?t.commission_2:"0",t},onValidate:function(t,e){this.cacheError=(0,s.default)((0,s.default)({},this.cacheError),{},(0,n.default)({},t,e))},validate:function(){var t=this;return new Promise((function(e){t.$refs["form"].validate((function(a){e(a),t.$nextTick((function(){if(!a)for(var e in t.cacheError)if(!t.cacheError[e]){t.$focusError(e);break}}))}))}))}}};e.default=l},"56f8":function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("2909")),s=i(a("5530")),o=i(a("5471")),l=a("2f62"),r={components:{MyRadioGroup:o.default},computed:(0,s.default)((0,s.default)({},(0,l.mapState)("commission/settlementSettings",{settings:function(t){return t.settings}})),{},{noManagePerm:function(){return!this.$getPermMap("commission.settings.settlement.manage")}}),data:function(){return{calculate_type:[{label:"商品折扣价",id:"1"},{label:"实际支付价",id:"2"}],withdraw_fee_type:[{label:"不扣除",id:"1"},{label:"自定义 ",id:"2"}],free_fee_type:[{label:"不免手续费",id:"1"},{label:"自定义免手续费区间",id:"2"}],settlement_day_type:[{label:"订单完成后既可提现",id:"1"},{label:"自定义结算天数",id:"2"}],withdraw_audit:[{label:"手动审核",id:"1"},{label:"自动审核",id:"2"}],withdraw_type:[{label:"提现到商城余额",id:"1"},{label:"提现到微信钱包",id:"2"},{label:"手动提现到支付宝",id:"3"}],rules:{calculate_type:[{required:!0,message:""}],withdraw_limit:[{required:!0,message:"请填写最低提现额度"}],withdraw_fee_type:[{required:!0,message:""}],withdraw_fee:[{required:!0,message:"请填写提现手续费"}],free_fee_type:[{required:!0,message:""}],settlement_day_type:[{required:!0,message:""}],settlement_days:[{required:!0,message:"请填写结算天数"}],withdraw_audit:[{required:!0,message:""}],auto_check_level:[{required:!0,message:"请选择分销商等级"}],auto_check_price:[{required:!0,message:"请填写提现金额"}],withdraw_type:[{required:!0,message:"请选择提现方式"}]},levelList:[]}},created:function(){this.getSettings(),this.getAgentGradeList()},methods:(0,s.default)((0,s.default)({},(0,l.mapActions)("commission/settlementSettings",["getSettings","editSettings"])),{},{save:function(){var t=this;this.$refs["form"].validate().then((function(e){e&&t.editSettings().then((function(e){0==e.error&&t.$Message.success("修改成功")}))}))},getAgentGradeList:function(){var t=this;this.$api.commissionApi.getAgentGradeAllList().then((function(e){0===e.error&&(t.levelList=(0,n.default)(e.list))}))},cancel:function(){this.$router.go(-1)},checkAllGroupChange:function(){console.log(this.settings.withdraw_type,"withdraw_type")},jumpSafeguard:function(){this.$utils.openNewWindowPage("/setting/safeguard/index")}})};e.default=r},5720:function(t,e,a){},"57ca":function(t,e,a){"use strict";a.r(e);var i=a("aa45"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"583f":function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=i(a("2909"));function s(t,e){var a=[];function i(t,s){t.forEach((function(t){var o=[].concat((0,n.default)(s),[t]);t.children&&t.children.length?i(t.children,o):e||a.push(o),e&&a.push(o)}))}return i(t,[]),a}a("d3b7"),a("159b"),a("99af")},"595d":function(t,e,a){t.exports=a.p+"static/dist/shop/img/wxapp_bg.png"},"597d":function(t,e,a){},"59cf":function(t,e,a){"use strict";a.r(e);var i=a("855f"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"5a30":function(t,e,a){"use strict";a("5aba")},"5a61":function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("b64b");var n=i(a("579b")),s={name:"list",components:{},props:{type:{type:Object,default:function(){}},is_title:{type:Boolean,default:!0}},data:function(){return{loading:!1,templateCode:n.default,list:[],typeTitle:{basic:"基础通知",sale:"营销通知",verify_code:"验证码",buyer_notice:"买家通知",seller_notice:"卖家通知"}}},watch:{type:{handler:function(t){this.getList(t)},deep:!0,immediate:!0}},computed:{},created:function(){},mounted:function(){},methods:{getList:function(t){var e=this;this.loading=!0,this.$api.noticeApi.getNoticeList(t).then((function(t){e.loading=!1,e.list=t.data}))},toDetail:function(t,e){var a={type_code:t,items:Object.keys(e)};this.$emit("toDetail",a)}}};e.default=s},"5aba":function(t,e,a){},"5b2d":function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("ac1f"),a("841c");var n=a("3b02"),s=i(a("efa8")),o=i(a("1b5e")),l={inject:["returnToTop"],components:{SearchHeader:s.default,TableList:o.default},data:function(){return{table:{data:[],loading:!1,total:0},page:{pageSize:10,pageNumber:1},status:""}},methods:{changePage:function(t){this.page=t,this.getList()},refreshTable:function(){var t;this.page={pageSize:10,pageNumber:1},null===(t=this.$refs["table"])||void 0===t||t.reset(),this.getList()},handleSearch:function(t){this.search=t,this.refreshTable()},handleExport:function(){var t=Object.assign({export:"1"},this.search);(0,n.Export)("manage/commission/order",t)},getList:function(){var t=this;this.returnToTop(),this.table.loading=!0;var e=Object.assign({pagesize:this.page.pageSize,page:this.page.pageNumber},this.search);this.$api.commissionApi.orderList(e).then((function(e){t.table.loading=!1,0===e.error&&(t.table.data=e.list||[],t.table.total=e.total)}))}}};e.default=l},"5bbd":function(t,e,a){"use strict";a.r(e);var i=a("ab96"),n=a("f6a8");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("dc97");var o=a("2877"),l=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"dafc3424",null);e["default"]=l.exports},"5c1d":function(t,e,a){"use strict";a.r(e);var i=a("16e0"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"5c8d":function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("p",{staticClass:"title"},[t._v("佣金信息")]),a("div",{staticClass:"flex align-center info-list"},[a("div",{staticClass:"info-label"},[t._v("申请佣金：")]),a("div",{staticClass:"info-desc"},[a("span",{staticClass:"bold"},[t._v("￥"+t._s(t.info.apply_commission))]),t._v(" (含"+t._s(t.count)+"笔订单)")])]),a("div",{staticClass:"flex align-center info-list"},[a("div",{staticClass:"info-label"},[t._v("提现手续费：")]),a("div",{staticClass:"info-desc"},[t._v("￥"+t._s(t.info.charge_deduction||"0.00"))])]),a("div",{staticClass:"flex align-center info-list"},[a("div",{staticClass:"info-label"},[t._v("实际佣金：")]),a("div",{staticClass:"info-desc info-actual"},[t._v("￥"+t._s(t.info.final_commission||"0.00"))]),t.info.ladder_commission>0?a("div",{staticClass:"info-commission"},[t._v("(含阶梯佣金：￥"+t._s(t.info.ladder_commission)+")")]):t._e()]),a("div",{staticClass:"flex align-center info-list"},[a("div",{staticClass:"info-label"},[t._v("申请时间：")]),a("div",{staticClass:"info-desc"},[t._v(t._s(t.info.apply_time))])]),t.info.status>0?a("div",{staticClass:"flex align-center info-list"},[a("div",{staticClass:"info-label"},[t._v("审核时间：")]),a("div",{staticClass:"info-desc"},[t._v(t._s(t.info.check_time))])]):t._e(),20==t.info.status||21==t.info.status?a("div",{staticClass:"flex align-center info-list"},[a("div",{staticClass:"info-label"},[t._v("打款时间：")]),a("div",{staticClass:"info-desc"},[t._v(t._s(t.info.pay_time))])]):t._e(),30==t.info.status||31==t.info.status?a("div",{staticClass:"flex align-center info-list"},[a("div",{staticClass:"info-label"},[t._v("无效时间：")]),a("div",{staticClass:"info-desc"},[t._v(t._s(t.info.check_time))])]):t._e(),a("div",{staticClass:"flex btn-group"},[0==t.status?a("Button",{staticClass:"btn",attrs:{type:"primary",disabled:t.noManagePerm},on:{click:t.agreeHandler}},[t._v("审核通过")]):t._e(),0==t.status?a("Button",{staticClass:"btn",attrs:{disabled:t.noManagePerm},on:{click:t.refuseHandler}},[t._v("驳回申请")]):t._e(),10==t.status?a("Button",{staticClass:"btn",attrs:{type:"primary",disabled:t.noManagePerm},on:{click:t.payHandler}},[t._v("打款")]):t._e(),10==t.status?a("Button",{staticClass:"btn",attrs:{disabled:t.noManagePerm},on:{click:t.manaualHandler}},[t._v("手动打款")]):t._e(),10==t.status?a("Button",{staticClass:"btn",attrs:{disabled:t.noManagePerm},on:{click:t.checkAgagin}},[t._v("重新审核")]):t._e()],1)])},n=[]},"5ffc":function(t,e,a){"use strict";a("3675")},"606b":function(t,e,a){"use strict";a.r(e);var i=a("21f1"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"606b9":function(t,e,a){"use strict";a.r(e);var i=a("8c1f"),n=a("5216");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("5ffc");var o=a("2877"),l=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,null,null);e["default"]=l.exports},"61f3":function(t,e,a){"use strict";a.r(e);var i=a("82cf"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"623b":function(t,e,a){},"63b2":function(t,e,a){"use strict";a.r(e);var i=a("d831"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"63ef":function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"good-list"},[a("search-header",{ref:"search_header",on:{"on-search":t.handleSearch,"on-reset":t.resetSearch}}),a("div",{staticClass:"table-list"},[a("table-list",{ref:"table_list",attrs:{loading:t.table.loading,data:t.table.data,total:t.table.total},on:{"on-page-change":t.changePage,"on-refresh":t.refreshTable,"on-sort":t.handleSort}})],1),t._t("default")],2)},n=[]},6426:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("kdx-content-bar",{scopedSlots:t._u([{key:"btn",fn:function(){return[a("Button",{staticClass:"primary-long",attrs:{disabled:t.noManagePerm},on:{click:t.save}},[t._v("保存")])]},proxy:!0}])},[a("div",{staticClass:"settings"},[a("Form",{ref:"form",attrs:{model:t.settings,rules:t.rules,"label-width":150}},[a("div",{staticClass:"form-box"},[a("kdx-form-title",{attrs:{content:"分销层级选择"}}),a("FormItem",{attrs:{label:"分销层级：",prop:"commission_level"}},[a("div"),a("MyRadioGroup",{attrs:{items:t.commission_level},on:{change:t.changeCommissionLevel},model:{value:t.settings.commission_level,callback:function(e){t.$set(t.settings,"commission_level",e)},expression:"settings.commission_level"}},[0==t.settings.commission_level?a("p",{staticClass:"tip primary-tip",attrs:{slot:"tip"},slot:"tip"},[t._v(" 分销层级关闭时，商城的分销系统为不可用状态。关闭之后不产生佣金")]):a("p",{staticClass:"tip",attrs:{slot:"tip"},slot:"tip"},[t._v("恭喜您，您的商城分销体系为 "),a("span",[t._v(t._s(t.levelName))]),t._v("，默认佣金比例请到 "),a("Button",{staticStyle:{"font-size":"12px","line-height":"16px","vertical-align":"unset"},attrs:{type:"text",to:"/commission/grade",target:"_blank"}},[t._v("分销商等级 ")]),t._v(" 进行设置 ")],1)])],1),a("FormItem",{attrs:{label:"分销内购：",prop:"self_buy"}},[a("MyRadioGroup",{attrs:{items:t.open},on:{change:t.changeSelfBuy},model:{value:t.settings.self_buy,callback:function(e){t.$set(t.settings,"self_buy",e)},expression:"settings.self_buy"}},[1==t.settings.self_buy?a("p",{staticClass:"tip",attrs:{slot:"tip"},slot:"tip"},[t._v(" 开启分销内购，分销商自己购买商品，享受一级佣金，上级享受二级佣金 ")]):t._e()])],1)],1),a("div",{staticClass:"form-box"},[a("kdx-form-title",{attrs:{content:"分销资格设置"}}),a("FormItem",{attrs:{label:"成为分销商条件：",prop:"become_condition"}},[a("MyRadioGroup",{attrs:{items:t.become_condition,value:t.settings.become_condition,lazy:""},on:{input:t.changeSettingsBecomeCondition}},[0==t.settings.become_condition?a("p",{staticClass:"tip",attrs:{slot:"tip"},slot:"tip"},[t._v(" 用户注册成为商城会员即成为分销商 ")]):t._e(),t.getCondition?a("div",[a(t.getCondition,{tag:"component"})],1):t._e()])],1),a("FormItem",{attrs:{label:"审核页面顶部图片：",prop:"banner"}},[a("MyAddImg",{staticClass:"add-img",attrs:{type:"image",value:t.settings.banner},on:{change:t.getImg}}),a("p",{staticClass:"tip"},[t._v("分销层级关闭时，商城的分销系统为不可用状态。关闭之后不产生佣金")])],1)],1),a("div",{staticClass:"form-box"},[a("kdx-form-title",{attrs:{content:"上下线关系设置"}}),a("FormItem",{attrs:{label:"成为下线条件：",prop:"child_condition"}},[a("MyRadioGroup",{attrs:{items:t.child_condition,value:t.settings.child_condition,lazy:""},on:{change:t.changeChildCondition}})],1),2===t.settings.commission_type?a("FormItem",{attrs:{label:"下线关系保护："}},[a("MyRadioGroup",{attrs:{items:t.guard_list},model:{value:t.settings.compete_safe_type,callback:function(e){t.$set(t.settings,"compete_safe_type",e)},expression:"settings.compete_safe_type"}},[t.settings.compete_safe_type?a("p",{staticClass:"tip",attrs:{slot:"tip"},slot:"tip"},[t._v(" 例：客户通过分销商A的分享链接/二维码进入商城成为下线，在设置保护期内绑定关系为A产生佣金，到期后如果点击其他分销商B的链接/二维码满足登录或下单付款，客户的分销关系将立即变更成为B的下线")]):a("p",{staticClass:"tip",attrs:{slot:"tip"},slot:"tip"},[t._v(" 例:客户通过分销商A的分享链接/二维码进入商城成为下线，下单付款后为A产生佣金，如果再点击其他分销商B链接/二维码满足登录或下单付款，客户的分销关系将立即变更成为B的下线，下单付款后为B产生佣金")]),1===t.settings.compete_safe_type?a("FormItem",{attrs:{label:"保护期时长：",prop:"compete_safe_days"}},[a("div",{staticClass:"flex"},[a("span",{staticClass:"marginR-10"},[t._v("客户成为分销商下线后")]),a("kdx-rr-input",{staticClass:"width-172",attrs:{placeholder:"请输入",number:"",fixed:0,"min-value":1,"max-value":9999999},model:{value:t.settings.compete_safe_days,callback:function(e){t.$set(t.settings,"compete_safe_days",e)},expression:"settings.compete_safe_days"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("天")])]),a("span",{staticClass:"marginL-10"},[t._v("内，点击其他分销商分享链接不会被抢客")])],1)]):t._e(),1===t.settings.compete_safe_type?a("FormItem",{staticStyle:{"margin-bottom":"0"},attrs:{label:"自动延续保护期：",prop:"compete_delay_type"}},[a("RadioGroup",{model:{value:t.settings.compete_delay_type,callback:function(e){t.$set(t.settings,"compete_delay_type",e)},expression:"settings.compete_delay_type"}},[a("div",{staticClass:"flex-column"},[a("Radio",{staticClass:"check-radio",attrs:{label:1}},[a("FormItem",{staticStyle:{"margin-bottom":"0"},attrs:{label:"",prop:"compete_delay_one_price"}},[a("div",{staticClass:"flex"},[a("span",{staticClass:"marginR-10"},[t._v("达成单笔分销订单下单支付")]),a("kdx-rr-input",{staticClass:"width-172",attrs:{placeholder:"请输入",number:"",fixed:2,"min-value":.01,"max-value":9999999.99},model:{value:t.settings.compete_delay_one_price,callback:function(e){t.$set(t.settings,"compete_delay_one_price",e)},expression:"settings.compete_delay_one_price"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("元")])]),a("span",{staticClass:"marginL-10"},[t._v("，将自动延续保护期")])],1)])],1),a("kdx-hint-text",{staticStyle:{padding:"0 0 20px 20px"},attrs:{content:""}},[a("p",[t._v("客户在保护期内访问当前上线分销商的分享链接后下单支付满足金额的，保护期自动延长。")]),a("p",[t._v(" 举例：设置保护期30天，客户在6月10日绑定成为分销商A的下线，在6月20日点击分销商A的分享链接进入商城并下单支付满足100.00元，保护期在支付成功时自动重新计算，保护期为6月20日-7月19日")])]),a("Radio",{staticClass:"check-radio",attrs:{label:2}},[a("FormItem",{staticStyle:{"margin-bottom":"0"},attrs:{label:"",prop:"compete_delay_total_price"}},[a("div",{staticClass:"flex"},[a("span",{staticClass:"marginR-10"},[t._v("达成累计分销订单下单支付总金额")]),a("kdx-rr-input",{staticClass:"width-172",attrs:{placeholder:"请输入",number:"",fixed:2,"min-value":.01,"max-value":9999999.99},model:{value:t.settings.compete_delay_total_price,callback:function(e){t.$set(t.settings,"compete_delay_total_price",e)},expression:"settings.compete_delay_total_price"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("元")])]),a("span",{staticClass:"marginL-10"},[t._v("，将自动延续保护期")])],1)])],1),a("kdx-hint-text",{staticStyle:{"margin-left":"-20px","margin-bottom":"20px"}},[t._v(" 客户在保护期内访问当前上线分销商的分享链接后下单支付满足金额的，保护期自动延长。 ")]),a("Radio",{attrs:{label:0}},[a("span",[t._v("关闭")])])],1)])],1):t._e()],1)],1):t._e()],1),a("div",{staticClass:"form-box"},[a("kdx-form-title",{attrs:{content:"其他设置"}}),a("FormItem",{attrs:{label:"佣金显示：",prop:"internal"}},[a("MyRadioGroup",{attrs:{items:t.open},model:{value:t.settings.show_commission,callback:function(e){t.$set(t.settings,"show_commission",e)},expression:"settings.show_commission"}},[a("p",{staticClass:"tip",attrs:{slot:"tip"},slot:"tip"},[t._v("开启分销佣金显示，会在商城首页、商品列表页、商品详情页显示用户可获得的佣金，多规格商品读取规格中价格最高的。")]),t.settings.show_commission?a("div",[a("RadioGroup",{model:{value:t.settings.show_commission_level_type,callback:function(e){t.$set(t.settings,"show_commission_level_type",e)},expression:"settings.show_commission_level_type"}},[a("Radio",{attrs:{label:1}},[t._v("系统默认（一级佣金）")]),a("Radio",{attrs:{label:2}},[t._v("二级佣金")])],1)],1):t._e()])],1),a("FormItem",{attrs:{label:"分销商等级：",prop:"internal"}},[a("MyRadioGroup",{attrs:{items:t.levelOpen},model:{value:t.settings.show_commission_level,callback:function(e){t.$set(t.settings,"show_commission_level",e)},expression:"settings.show_commission_level"}}),a("p",{staticClass:"tip"},[t._v("开启后，分销商等级将会在分销首页进行展示。关闭后不展示")])],1)],1)])],1)])},n=[]},"642f":function(t,e,a){"use strict";a.r(e);var i=a("7d1d"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},6505:function(t,e,a){"use strict";a.r(e);var i=a("c9b3"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},6608:function(t,e,a){},6625:function(t,e,a){"use strict";a("8947")},6692:function(t,e,a){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("d81d");var i={name:"TableList",props:{data:{type:Array,default:function(){return[]}},loading:{type:Boolean,default:!1}},data:function(){var t=this;this.$createElement;return{columns:[{title:"等级权重",key:"level",width:100,render:function(t,e){if("1"==e.row.is_default)return t("div",["默认"]);var a=["一","二","三","四","五","六","七","八","九","十"];return t("div",[a[parseInt(e.row.level)-1],"级"])}},{title:"等级名称",key:"name"},{title:"一级佣金比例",key:"commission_1",render:function(e,a){return e("div",[t.formatRate(a.row[a.column.key])])}},{title:"二级佣金比例",key:"commission_2",render:function(e,a){return e("div",[t.formatRate(a.row[a.column.key])])}},{title:"升级条件",key:"condition_text",render:function(t,e){return e.row[e.column.key]?t("Tooltip",{attrs:{placement:"top",theme:"light","max-width":700}},[t("div",{class:"condition"},[e.row[e.column.key]]),t("div",{slot:"content"},[t("div",{class:"condition"},[e.row[e.column.key]])])]):t("div",["-"])}},{title:"状态",key:"status",width:100,render:function(t,e){return"1"==e.row.status?t("kdx-status-text",{attrs:{type:"success"}},["已启用"]):"0"==e.row.status?t("kdx-status-text",{attrs:{type:"disabled"}},["已禁用"]):void 0}},{title:"操作",key:"action",width:120,render:function(e,a){var i;return"1"!=a.row.is_default&&(i="0"===a.row.status?e("Button",{attrs:{type:"text",disabled:t.noManagePerm},on:{click:function(){t.setStatus({row:a.row,status:1})}}},["启用"]):e("Button",{attrs:{type:"text",disabled:t.noManagePerm},on:{click:function(){t.setStatus({row:a.row,status:0})}}},["禁用"])),e("div",{class:"action"},[e("Button",{attrs:{type:"text",disabled:t.noManagePerm},on:{click:function(){t.$router.push({path:"/commission/grade/edit",query:{id:a.row.id}})}}},["编辑"]),i])}}],selectRows:[],isSelectAll:!1}},computed:{noManagePerm:function(){return!this.$getPermMap("commission.level.manage")},isDisabled:function(){return 0===this.selectRows.length}},methods:{selectChange:function(t){this.selectRows=t,this.isSelectAll=this.selectRows.length===this.data.length},checkboxChange:function(t){this.$refs["table"].selectAll(t)},setStatus:function(t){var e=this,a=t.status,i=t.row,n="";1===a?n="启用该分销等级后将会产生佣金":0===a&&(n="禁用该分销等级后将不产生佣金"),this.$Modal.confirm({title:"提示",content:n,onOk:function(){e.$api.commissionApi.setAgentGradeStatus({id:i.id,status:a}).then((function(t){0===t.error&&(e.$Message.success("分销商等级状态修改成功"),e.initFooterData(),e.$emit("on-refresh"))}))}})},handleDelete:function(t){var e=this,a=t.type,i=t.row;this.$Modal.confirm({title:"提示",content:"是否删除该商品组？",onOk:function(){if("single"===a)e.deleteGroup(i.id);else if("multiple"===a){var t=e.selectRows.map((function(t){return t.id}));e.deleteGroup(t)}}})},deleteGroup:function(t){var e=this;this.$api.goodsApi.deleteGoodGroup({id:t}).then((function(t){0===t.error&&(e.$Message.success("该商品组删除成功"),e.$emit("on-refresh"),e.initFooterData())})).catch()},initFooterData:function(){this.isSelectAll=!1,this.selectRows=[]},formatRate:function(t){return t?"".concat(t,"%"):"-"}}};e.default=i},"67f6":function(t,e,a){"use strict";a.r(e);var i=a("5274"),n=a("7fbe");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("4dac");var o=a("2877"),l=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"275cf918",null);e["default"]=l.exports},"68bd":function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"SearchHeader",components:{},props:{grade:{type:Array,default:function(){return[]}}},data:function(){return{model:{keyword:"",commission_level:"all",apply_start_time:"",apply_end_time:""},optionData:{},applyTime:[]}},methods:{changeApply:function(t){this.model.apply_start_time=t[0],this.model.apply_end_time=t[1]},handleSearch:function(){var t=Object.assign({},this.model);t.commission_level="all"===t.commission_level?"":t.commission_level,this.$emit("on-change",t)},handleReset:function(){this.reset(),this.$emit("on-change",{})},reset:function(){this.model={keyword:"",commission_level:"all",apply_start_time:"",apply_end_time:""},this.applyTime=[]},handleExport:function(){this.$emit("on-export")}}};e.default=a},"69bf":function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("2e16")),s={name:"ContentCard",components:{ChartPie:n.default},props:{data:{type:Object,required:!0},distributor:{type:Array,default:function(){return[]}},gradeData:{type:Array,default:function(){return[]}},gradeLegendData:{type:Array}},data:function(){return{vip:{data:[{value:335,name:"直接访问1"},{value:310,name:"邮件营销1"},{value:234,name:"联盟广告1"},{value:135,name:"视频广告1"},{value:1548,name:"搜索引擎1"}]},grade:{legend:{orient:"vertical",left:0,top:0,bottom:0},center:["85%","50%"]}}},methods:{renderDistributor:function(){var t=this;this.$nextTick((function(){t.$refs["vip_pie"].render()}))},renderGrade:function(){var t=this;this.grade.legend.data=this.gradeLegendData||[],this.$nextTick((function(){t.$refs["grade_pie"].render()}))}}};e.default=s},"6aad":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAApBAMAAACiruYyAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAJcEhZcwAAITgAACE4AUWWMWAAAAAqUExURUdwTOrq7Onp6+rq7Onp6+fn6urq6+fn6Orq6+Li6ejo6+np6+rq6+np61t7ix8AAAANdFJOUwDmvJ+AQMchzxBZcI+vWo65AAAA20lEQVQoz2XSwQrCMAwA0CrKdGMgKIiI4A8IglcFL55EEDz7D/uBgT8giP/g0aN3f0BwboIo+Re7Lk3bNMdH0yRNhagiEjxqd09yLnWYepJ7wg9JKTyBpSMtKV+3upQs4QJ9W+JSPrakpYA9yl7J25KrkuxkZKMExkYmwNOOwNLagEGTNLUMtERafvbo4LQda4Gt06B99YJE9zgi6VQQEsCTlSJJjRz4xbi1wAAktBqMgveHDQamm6FgSS/c4YMAx2xwoCM9/cZnPLDSbxWqQt2b2d1uNl9f7G/yBxXH9/V7/2X3AAAAAElFTkSuQmCC"},"6b68":function(t,e,a){"use strict";a.r(e);var i=a("0e1e"),n=a("b04a");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("434b");var o=a("2877"),l=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"325fcc2d",null);e["default"]=l.exports},"6b6a":function(t,e,a){"use strict";a.r(e);var i=a("8cda"),n=a("8aae");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("8221");var o=a("2877"),l=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"049b8d5e",null);e["default"]=l.exports},"6c16":function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("kdx-content-bar",{attrs:{loading:t.loading},scopedSlots:t._u([{key:"btn",fn:function(){return[a("Button",{staticClass:"primary-long",attrs:{disabled:t.noManagePerm},on:{click:t.handleSave}},[t._v("保存")]),a("Button",{staticClass:"default-long",attrs:{disabled:t.noManagePerm,to:"/commission/grade"}},[t._v("取消")]),!t.is_default&&t.id?a("Button",{staticClass:"default-error-long",attrs:{disabled:t.noManagePerm},on:{click:t.deleteGrade}},[t._v("删除分销等级")]):t._e()]},proxy:!0}])},[a("div",{staticClass:"grade-add"},[a("commission-rate",{ref:"rate",attrs:{level:t.level,setting:t.setting,"is-default":t.is_default}}),t.is_default?t._e():a("upgrade-mode",{ref:"mode"})],1),a("delete-grade-modal",{ref:"delete_grade",attrs:{id:t.id}})],1)},n=[]},"6cd4":function(t,e,a){"use strict";a.r(e);var i=a("56cd"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"6dd0":function(t,e,a){function i(t,e,a){this.$children.forEach((function(n){var s=n.$options.name;s===t?n.$emit.apply(n,[e].concat(a)):i.apply(n,[t,e].concat([a]))}))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("d3b7"),a("159b"),a("b0c0"),a("99af");var n={methods:{dispatch:function(t,e,a){var i=this.$parent||this.$root,n=i.$options.name;while(i&&(!n||n!==t))i=i.$parent,i&&(n=i.$options.name);i&&i.$emit.apply(i,[e].concat(a))},broadcast:function(t,e,a){i.call(this,t,e,a)}}};e.default=n},"6f3f":function(t,e,a){},"6f53":function(t,e,a){var i=a("83ab"),n=a("e330"),s=a("df75"),o=a("fc6a"),l=a("d1e7").f,r=n(l),c=n([].push),d=function(t){return function(e){var a,n=o(e),l=s(n),d=l.length,u=0,f=[];while(d>u)a=l[u++],i&&!r(n,a)||c(f,t?[a,n[a]]:n[a]);return f}};t.exports={entries:d(!0),values:d(!1)}},"70cc":function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("i-select",t._b({ref:"select",staticClass:"ivu-tree-select",class:t.classes,attrs:{placeholder:t.placeholder,multiple:t.multiple,"transfer-class-name":t.transferClassName,transfer:t.transfer},on:{"on-change":t.handleChange,"on-open-change":t.handleOpenChange}},"i-select",t.$attrs,!1),[a("Tree",{ref:"tree",attrs:{data:t.tmpData,multiple:t.multiple,"check-strictly":t.checkStrictly,"show-checkbox":t.multiple&&t.showCheckbox,"check-directly":t.checkDirectly,"load-data":t.loadData},on:{"on-select-change":t.handleSelectNode,"on-check-change":t.handleSelectNode}})],1)},n=[]},7115:function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("5530")),s=i(a("5471")),o=i(a("5bbd")),l=i(a("9540")),r=a("2f62"),c={components:{MyRadioGroup:s.default,AddNoticeObject:o.default,ModelList:l.default},computed:(0,n.default)({},(0,r.mapState)("commission/noticeSettings",{settings:function(t){return t.settings},vipLevels:function(t){return t.vipLevels}})),data:function(){return{value:"style",open:[{label:"开启",id:"1"},{label:"关闭",id:"0"}]}},methods:(0,n.default)((0,n.default)((0,n.default)({},(0,r.mapMutations)("commission/noticeSettings",[])),(0,r.mapActions)("commission/noticeSettings",["getSettings","editSettings"])),{},{save:function(){var t=this;this.editSettings().then((function(e){0==e.error&&t.$Message.success("修改成功")}))},cancel:function(){this.$router.go(-1)}}),beforeMount:function(){this.getSettings()}};e.default=c},"714c":function(t,e,a){"use strict";a.r(e);var i=a("1a68"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"714c6":function(t,e,a){"use strict";a("6608")},7175:function(t,e,a){},7203:function(t,e,a){"use strict";a.r(e);var i=a("c747"),n=a("2af6");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("a94a");var o=a("2877"),l=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"0cbdd65f",null);e["default"]=l.exports},"72b0":function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"with-draw-list"},[a("search-header",{ref:"search",on:{"on-search":t.handleSearch,"on-export":t.handleExport}}),a("div",{staticClass:"content"},[a("table-list",{ref:"table",attrs:{data:t.table.data,total:t.table.total,loading:t.table.loading},on:{"on-page-change":t.changePage,"on-refresh":t.refreshTable,"on-search":t.handleSearch}})],1),t._t("default")],2)},n=[]},"72c2":function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("notice-index",{attrs:{is_showNoticeMember:t.is_showNoticeMember}})},n=[]},"73ee":function(t,e,a){"use strict";a("b50b")},7412:function(t,e,a){},"747e":function(t,e,a){},7589:function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("5530"));a("ac1f"),a("841c"),a("4e82");var s=i(a("de01")),o=i(a("8aaa")),l={name:"index",inject:["returnToTop"],components:{SearchHeader:s.default,TableList:o.default},data:function(){return{params:{},page:{},search:{},table:{data:[],total:0,loading:!1},sort:{}}},created:function(){this.reset()},methods:{handleSearch:function(t){this.search=(0,n.default)((0,n.default)({},t),{},{category_id:"all"===t.category_id?"":t.category_id,status:"all"===t.status?"":t.status,group_id:"all"===t.group_id?"":t.group_id}),this.refreshTable()},handleSort:function(t){this.sort=t,this.refreshTable()},reset:function(){var t=this;this.$nextTick((function(){var e,a;null===(e=t.$refs["search_header"])||void 0===e||e.reset(),null===(a=t.$refs["table_list"])||void 0===a||a.reset(),t.resetSearch()}))},getList:function(){var t=this;this.returnToTop(),this.table.loading=!0;var e=(0,n.default)((0,n.default)({pagesize:this.page.pageSize,page:this.page.pageNumber},this.search),this.sort);this.$api.commissionApi.goodsList(e).then((function(e){0===e.error&&(t.table.data=e.list,t.table.total=e.total,t.table.loading=!1)})).catch()},resetSearch:function(){this.search={},this.refreshTable()},refreshTable:function(){var t;this.page={pageSize:10,pageNumber:1},null===(t=this.$refs["table_list"])||void 0===t||t.reset(),this.getList()},changePage:function(t){this.page=t,this.getList()}}};e.default=l},"765f":function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"good-group"},[a("kdx-header-bar",{attrs:{type:"little"},scopedSlots:t._u([{key:"header",fn:function(){return[a("Button",{attrs:{disabled:t.noManagePerm,type:"primary",to:"/commission/grade/add"}},[t._v("+添加等级")])]},proxy:!0}])}),a("div",{staticClass:"table-list"},[a("table-list",{attrs:{data:t.table.data,loading:t.table.loading},on:{"on-refresh":t.getList}})],1),t._t("default")],2)},n=[]},"78d8":function(t,e,a){"use strict";a.r(e);var i=a("bdc7"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"7abd":function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("kdx-header-bar",[a("Form",{ref:"form",attrs:{model:t.model,"label-width":100,inline:""}},[a("FormItem",{attrs:{label:"关键词："}},[a("Input",{staticClass:"width-340",attrs:{type:"text",placeholder:"可搜索昵称/姓名/手机号/ID"},model:{value:t.model.keyword,callback:function(e){t.$set(t.model,"keyword",e)},expression:"model.keyword"}})],1),a("FormItem",{attrs:{label:"分销层级："}},[a("Select",{staticClass:"width-160",attrs:{placeholder:"请选择"},model:{value:t.model.level,callback:function(e){t.$set(t.model,"level",e)},expression:"model.level"}},[t._l(t.optionData.level,(function(e){return[t.isLevel(e)?a("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name)+" ")]):t._e()]}))],2)],1),a("FormItem",{attrs:{label:"分销商等级："}},[a("Select",{staticClass:"width-160",attrs:{placeholder:"请选择"},model:{value:t.model.agent_level,callback:function(e){t.$set(t.model,"agent_level",e)},expression:"model.agent_level"}},t._l(t.grade,(function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name)+" ")])})),1)],1),a("FormItem",{attrs:{label:"是否为分销商："}},[a("Select",{staticClass:"width-160",attrs:{placeholder:"请选择"},model:{value:t.model.is_agent,callback:function(e){t.$set(t.model,"is_agent",e)},expression:"model.is_agent"}},t._l(t.optionData.is_agent,(function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name)+" ")])})),1)],1),a("FormItem",{attrs:{label:"成为时间："}},[a("DatePicker",{staticClass:"width-340",attrs:{type:"datetimerange",placeholder:"请选择",format:"yyyy-MM-dd HH:mm"},on:{"on-change":t.changeBecome},model:{value:t.becomeTime,callback:function(e){t.becomeTime=e},expression:"becomeTime"}})],1),a("div",{staticClass:"ivu-form-item-btn"},[a("Button",{attrs:{type:"primary"},on:{click:t.handleSearch}},[t._v("搜索")]),a("Button",{attrs:{type:"text"},on:{click:t.handleReset}},[t._v("重置")]),a("Button",{attrs:{type:"text"},on:{click:t.handleExport}},[t._v("导出")])],1)],1)],1)},n=[]},"7b14":function(t,e,a){},"7b57":function(t,e,a){"use strict";a("ff0d")},"7bf0":function(t,e,a){"use strict";a("4f6e")},"7c81":function(t,e,a){"use strict";a.r(e);var i=a("0bac"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"7d1d":function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("579b")),s={name:"defaultTemplate",components:{},props:{type:{type:String,default:"wechat"}},data:function(){return{type_template:"wechat",templateCode:n.default,type_code:""}},watch:{},computed:{},created:function(){},mounted:function(){this.type_template=this.type,this.type_code=this.$route.query.type_code},methods:{}};e.default=s},"7d68":function(t,e,a){"use strict";a.r(e);var i=a("6692"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"7fbe":function(t,e,a){"use strict";a.r(e);var i=a("b960"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},8031:function(t,e,a){"use strict";a("e8a9")},8221:function(t,e,a){"use strict";a("2e6a")},8294:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[a("div",{staticClass:"notice-buyer-index"},[t.is_title?a("kdx-form-title",[t._v(t._s(t.typeTitle[t.type.group_item_name]))]):t._e(),a("div",{staticClass:"flex notice-buyer-index-box"},t._l(t.list,(function(e,i){return a("div",{key:i,staticClass:"notice-list-box",on:{click:function(a){return t.toDetail(e.scene_code,e.item)}}},[a("Card",{staticClass:"notice-list"},[a("div",{staticClass:"card-title flex space-between",attrs:{slot:"title"},slot:"title"},[a("div",{staticClass:"flex align-center"},[a("i",{staticClass:"iconfont",class:t.templateCode[e.scene_code].icon}),a("span",{staticClass:"title-name"},[t._v(t._s(t.templateCode[e.scene_code].title))])]),a("div",[a("i",{staticClass:"iconfont icon-line-right"})])]),e.item?a("div",{staticClass:"list-card-content"},[e.item.wechat?a("div",{staticClass:"flex list-card-child"},[a("div",[t._v("微信模板消息")]),a("i",{staticClass:"iconfont",class:1==e.item.wechat.status?"icon-chenggong-shixin success-color":"icon-del danger-color"})]):t._e(),e.item.sms?a("div",{staticClass:"flex list-card-child"},[a("div",[t._v(t._s("verify_code"==t.type.group_item_name?"短信验证":"短信通知"))]),a("i",{staticClass:"iconfont",class:1==e.item.sms.status?"icon-chenggong-shixin success-color":"icon-del danger-color"})]):t._e(),e.item.wxapp?a("div",{staticClass:"flex list-card-child"},[a("div",[t._v("微信小程序订阅消息")]),a("i",{staticClass:"iconfont",class:1==e.item.wxapp.status?"icon-chenggong-shixin success-color":"icon-del danger-color"})]):t._e(),e.item.subscribe?a("div",{staticClass:"flex list-card-child"},[a("div",[t._v("微信公众号订阅通知")]),a("i",{staticClass:"iconfont",class:1==e.item.subscribe.status?"icon-chenggong-shixin success-color":"icon-del danger-color"})]):t._e()]):t._e()])],1)})),0)],1)])},n=[]},"82cf":function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"HeaderCard",props:{data:{type:Object,required:!0}}};e.default=a},8343:function(t,e,a){"use strict";a("9afb")},8392:function(t,e,a){"use strict";a.r(e);var i=a("14ed"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},8529:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"commission-rate"},[a("Form",{ref:"form",attrs:{model:t.model,rules:t.rules,"label-width":120},on:{"on-validate":t.onValidate}},[a("kdx-form-title",[t._v("分销商等级佣金比例")]),t.isDefault?t._e():a("FormItem",{directives:[{name:"error-item",rawName:"v-error-item.level",modifiers:{level:!0}}],attrs:{label:"等级权重：",prop:"level"}},[a("div",{staticStyle:{width:"400px"}},t._l(t.option,(function(e,i){return a("check-label",{key:e.id,attrs:{checked:t.model.level==e.id,disabled:t.level.includes(e.id),"show-icon":""},on:{"on-change":function(e){return t.setLabelChecked(i,e)}}},[t._v(" "+t._s(e.name)+" ")])})),1)]),a("FormItem",{directives:[{name:"error-item",rawName:"v-error-item.name",modifiers:{name:!0}}],attrs:{label:"等级名称：",prop:"name"}},[a("Input",{staticClass:"width-250 limit-input",attrs:{disabled:t.noManagePerm,rows:1,autosize:"",maxlength:"10","show-word-limit":"",placeholder:"请输入等级名称"},model:{value:t.model.name,callback:function(e){t.$set(t.model,"name",e)},expression:"model.name"}})],1),a("FormItem",{directives:[{name:"error-item",rawName:"v-error-item.commission_1",modifiers:{commission_1:!0}}],attrs:{label:"一级佣金比例：",prop:t.setting.commission_level>=1?"commission_1":""}},[a("kdx-rr-input",{staticClass:"width-250",attrs:{number:"",fixed:1,maxValue:99.9,disabled:t.noManagePerm||0==t.setting.commission_level},model:{value:t.model.commission_1,callback:function(e){t.$set(t.model,"commission_1",e)},expression:"model.commission_1"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("%")])])],1),a("FormItem",{directives:[{name:"error-item",rawName:"v-error-item.commission_2",modifiers:{commission_2:!0}}],attrs:{label:"二级佣金比例：",prop:t.setting.commission_level>=2?"commission_2":""}},[a("kdx-rr-input",{staticClass:"width-250",attrs:{number:"",fixed:1,maxValue:99.9,disabled:t.noManagePerm||t.setting.commission_level<2},model:{value:t.model.commission_2,callback:function(e){t.$set(t.model,"commission_2",e)},expression:"model.commission_2"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("%")])])],1)],1)],1)},n=[]},"855f":function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("99af"),a("d3b7"),a("159b"),a("b64b");var n=i(a("2909")),s={name:"SearchHeader",data:function(){return{query:{keywords:"",level_id:"all",type:"all",apply_time:[]},levelList:[{id:"all",name:"全部"}],typeList:[{type:"all",message:"全部"}]}},methods:{getLevelList:function(){var t=this;this.$api.commissionApi.getLevelList().then((function(e){if(0===e.error){var a=e.level_list,i=e.type_list;t.levelList=[].concat((0,n.default)(t.levelList),(0,n.default)(a)),t.typeList=[].concat((0,n.default)(t.typeList),(0,n.default)(i))}}))},changeDate:function(t){this.query.apply_time=t},handleSearch:function(){var t=Object.assign({},this.query);Object.keys(t).forEach((function(e){(""==t[e]||"all"==t[e]||"apply_time"==e&&!t[e][0])&&delete t[e]})),this.$emit("on-search",t,"head")},handleReset:function(){this.$emit("on-search",{},"head"),this.reset()},reset:function(){this.$refs.form.resetFields()},handleExport:function(){this.$emit("on-export")}},mounted:function(){this.getLevelList(),this.reset()}};e.default=s},"85a7":function(t,e,a){"use strict";a.r(e);var i=a("d6c6"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"86c1":function(t,e,a){"use strict";a.r(e);var i=a("3381"),n=a("3ede");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("e4e2");var o=a("2877"),l=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,null,null);e["default"]=l.exports},"87b7":function(t,e,a){"use strict";a.r(e);var i=a("c9e4"),n=a("642f");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("55dc");var o=a("2877"),l=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,null,null);e["default"]=l.exports},"87d2":function(t,e,a){"use strict";a.r(e);var i=a("bac3"),n=a("7d68");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("6625");var o=a("2877"),l=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"81cce442",null);e["default"]=l.exports},8947:function(t,e,a){},"8aaa":function(t,e,a){"use strict";a.r(e);var i=a("428c"),n=a("9604");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("e397");var o=a("2877"),l=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"6785aac0",null);e["default"]=l.exports},"8aae":function(t,e,a){"use strict";a.r(e);var i=a("e123"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"8ae6":function(t,e,a){},"8bc9":function(t,e,a){"use strict";a.r(e);var i=a("3c63"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"8c1f":function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"},{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"custom-template flex"},[a("Form",{ref:"customForm",attrs:{model:t.customData,"label-width":120}},[a("FormItem",{attrs:{label:"选择模板："}},[a("Select",{staticClass:"width-430",on:{"on-change":t.chooseTemplate},model:{value:t.customData.template_id,callback:function(e){t.$set(t.customData,"template_id",e)},expression:"customData.template_id"}},t._l(t.template_list,(function(e){return a("Option",{key:e.template_id,attrs:{value:e.template_id}},[t._v(" "+t._s(e.title)+" ")])})),1),a("Button",{staticClass:"marginR-10 marginL-10",attrs:{type:"text"},on:{click:t.getTemplateList}},[t._v("刷新")]),a("Button",{attrs:{type:"text"},on:{click:t.routeWeixinTemplate}},[t._v("创建微信模板")])],1),t.customData.content.length>0?a("FormItem",{attrs:{label:"默认内容："}},[a("div",{staticClass:"default-content"},t._l(t.customData.content,(function(e,i){return a("FormItem",{key:i,staticClass:"default-content-item",attrs:{label:e.key+"："}},[a("span",[t._v(t._s(e.value))])])})),1)]):t._e(),t.customData.content.length>0?a("FormItem",{attrs:{label:"自定义内容："}},[a("div",{staticClass:"default-content"},t._l(t.customData.content,(function(e,i){return a("FormItem",{key:i,staticClass:"default-content-item",attrs:{label:e.key+"：",prop:"content."+i+".customValue",rules:{required:!0,message:"请填写模板"}}},[a("Input",{staticClass:"width-250",attrs:{placeholder:"请输入"},on:{"on-focus":function(e){return t.handleFocus(i)}},model:{value:e.customValue,callback:function(a){t.$set(e,"customValue",a)},expression:"item.customValue"}})],1)})),1)]):t._e()],1),t.show?a("div",{staticClass:"right-code"},[a("span",{staticClass:"arrow"}),a("selectTemplateCode",{on:{chooseCode:t.chooseCode}})],1):t._e()],1)},n=[]},"8c2e":function(t,e,a){"use strict";a("5720")},"8cda":function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("kdx-content-bar",{scopedSlots:t._u([{key:"btn",fn:function(){return[i("Button",{staticClass:"primary-long",attrs:{disabled:t.noManagePerm},on:{click:t.save}},[t._v("保存")])]},proxy:!0}])},[i("div",{staticClass:"other-settings"},[i("Form",{staticClass:"container",attrs:{"label-width":120}},[i("kdx-form-title",{attrs:{content:"协议信息"}},[i("kdx-hint-tooltip",{attrs:{type:"image",image:a("f3ec5")}})],1),i("FormItem",{attrs:{label:"协议标题：",prop:"category_id"}},[i("Input",{staticStyle:{width:"340px"},attrs:{disabled:t.noManagePerm,maxlength:"5","show-word-limit":""},model:{value:t.settings.agreement_title,callback:function(e){t.$set(t.settings,"agreement_title",e)},expression:"settings.agreement_title"}})],1),i("FormItem",{attrs:{label:"协议内容：",prop:"category_id"}},[i("editor",{attrs:{height:667},model:{value:t.settings.agreement_content,callback:function(e){t.$set(t.settings,"agreement_content",e)},expression:"settings.agreement_content"}})],1)],1)],1)])},n=[]},"8d80":function(t,e,a){"use strict";a.r(e);var i=a("d9bb"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"8f2c":function(t,e,a){},"8f38":function(t,e,a){"use strict";a.r(e);var i=a("72c2"),n=a("ff58");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);var o=a("2877"),l=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,null,null);e["default"]=l.exports},"8f52":function(t,e,a){"use strict";a.r(e);var i=a("a769"),n=a("7c81");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("8031");var o=a("2877"),l=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"19af524d",null);e["default"]=l.exports},"8f66":function(t,e,a){"use strict";a.r(e);var i=a("0dc6"),n=a("e0ab");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);var o=a("2877"),l=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"725fef9e",null);e["default"]=l.exports},"8f77":function(t,e,a){"use strict";a.r(e);var i=a("fb54"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"8fb3":function(t,e,a){"use strict";a.r(e);var i=a("1ee5"),n=a("714c");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("c7e7");var o=a("2877"),l=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"1dcaff34",null);e["default"]=l.exports},"90ad":function(t,e,a){"use strict";a.r(e);var i=a("8529"),n=a("6cd4");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("f132");var o=a("2877"),l=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"390c05ce",null);e["default"]=l.exports},"940c1":function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("p",{staticClass:"title"},[t._v("分销信息")]),i("div",{staticClass:"flex align-center info-list"},[i("div",{staticClass:"info-label"},[t._v("分销等级：")]),i("div",{staticClass:"flex align-center level"},[i("img",{staticClass:"level-img",attrs:{src:a("b537")}}),i("span",{staticClass:"level-text"},[t._v(t._s(t.info.level_name))])])]),i("div",{staticClass:"flex align-center info-list"},[i("div",{staticClass:"info-label"},[t._v("一级比例：")]),i("div",{staticClass:"info-desc"},[t._v(t._s(t.info.level_commission_1)+"%")])]),t.info.level_commission_2?i("div",{staticClass:"flex align-center info-list"},[i("div",{staticClass:"info-label"},[t._v("二级比例：")]),i("div",{staticClass:"info-desc"},[t._v(t._s(t.info.level_commission_2)+"%")])]):t._e(),t.info.level_commission_3?i("div",{staticClass:"flex align-center info-list"},[i("div",{staticClass:"info-label"},[t._v("三级比例：")]),i("div",{staticClass:"info-desc"},[t._v(t._s(t.info.level_commission_3)+"%")])]):t._e()])},n=[]},9537:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"subscribe-template"},[a("div",{staticClass:"tip"},[a("kdx-hint-alert",{attrs:{"show-icon":!1}},[a("div",[t._v(" 请将公众平台订阅通知所在行业选择为："),a("span",{staticClass:"warning-color"},[t._v("【商家自营】-【服饰内衣】")]),t._v("，所选行业不一致将会导致模板消息不可用 "),a("br"),t._v(" 微信公众平台订阅通知最多支持可添加50个模板 ")])])],1),a("kdx-form-title",[t._v("发送设置")]),a("Form",{ref:"form",attrs:{model:t.model,rules:t.rules,"label-width":120}},[a("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"发送设置："}},[a("RadioGroup",{model:{value:t.model.status,callback:function(e){t.$set(t.model,"status",e)},expression:"model.status"}},[a("Radio",{attrs:{label:1}},[t._v("开启")]),a("Radio",{attrs:{label:0}},[t._v("关闭")])],1)],1),a("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"发送时间："}},[a("span",[t._v(t._s(t.sendTime))])]),t.isShow_level?a("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"通知等级："}},[a("RadioGroup",{model:{value:t.model.commission_level,callback:function(e){t.$set(t.model,"commission_level",e)},expression:"model.commission_level"}},[a("Radio",{attrs:{label:"1"}},[t._v("一级")]),a("Radio",{attrs:{label:"2"}},[t._v("一级+二级")])],1),"commission_buyer_child_pay"===t.type_code?a("kdx-hint-text",[t._v("开启内购后，一级佣金获得者是自身时，自身不发送此消息，只给二、三级佣金获得者发送消息提示")]):t._e()],1):t._e(),a("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"模板设置："}},[a("RadioGroup",{model:{value:t.model.is_default,callback:function(e){t.$set(t.model,"is_default",e)},expression:"model.is_default"}},[a("Radio",{attrs:{label:1}},[t._v("系统默认")])],1),a("default-template",{attrs:{type:"subscribe"}})],1)],1)],1)},n=[]},9540:function(t,e,a){"use strict";a.r(e);var i=a("e77b"),n=a("606b");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);var o=a("2877"),l=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"096d21a7",null);e["default"]=l.exports},9604:function(t,e,a){"use strict";a.r(e);var i=a("adf8"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},9723:function(t,e,a){},9794:function(t,e,a){"use strict";a.r(e);var i=a("b9e9"),n=a("de46");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("9f65");var o=a("2877"),l=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,null,null);e["default"]=l.exports},"97c1":function(t,e,a){"use strict";a.r(e);var i=a("b9c7"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},9861:function(t,e,a){"use strict";a.r(e);var i=a("a587"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},9986:function(t,e,a){"use strict";a("597d")},"9afb":function(t,e,a){},"9b7b":function(t,e,a){},"9c11":function(t,e,a){},"9d1e":function(t,e,a){"use strict";a.r(e);var i=a("5694"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"9f65":function(t,e,a){"use strict";a("623b")},"9fdb":function(t,e,a){"use strict";a("2883")},a0a1:function(t,e,a){"use strict";a.r(e);var i=a("005c"),n=a("1dae");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("e724");var o=a("2877"),l=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"ed092274",null);e["default"]=l.exports},a523:function(t,e,a){"use strict";a.r(e);var i=a("5b2d"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},a587:function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("b680"),a("d3b7"),a("159b"),a("b0c0"),a("b64b"),a("d81d");var n=i(a("15fd")),s=i(a("2a2b")),o=i(a("3be2")),l=i(a("aaef")),r=["agent_level","new_agent","total_rank","total_child"],c={components:{HeaderCard:s.default,ContentCard:o.default,ChartCard:l.default},data:function(){return{data:{},chart:{distributor:[],grade:[],legend:[]},agent:{new:{data:[],xAxis:[],legend:[]}},rank:{data:[],yAxis:[],legend:[]},child:{data:[],yAxis:[],legend:[]}}},methods:{getData:function(){var t=this;this.$api.commissionApi.getCommissionIndex().then((function(e){if(0===e.error){var a=e.data,i=a.agent_level,s=void 0===i?[]:i,o=a.new_agent,l=a.total_rank,c=void 0===l?[]:l,d=a.total_child,u=void 0===d?[]:d,f=(0,n.default)(a,r);t.data=f,t.chart.distributor=[{name:"分销商占比",value:f.agent_member_per},{name:"非分销商占比",value:parseFloat(1-f.agent_member_per).toFixed(2)}],s.forEach((function(e){t.chart.grade.push({name:e.name,value:e.chain}),t.chart.legend.push(e.name)})),t.$nextTick((function(){t.$refs["content_card"].renderDistributor(),t.$refs["content_card"].renderGrade()})),t.getNewAgent(o),t.getRank(c,u)}}))},getNewAgent:function(t){var e=this;this.agent.new.xAxis=Object.keys(t),this.agent.new.data=this.agent.new.xAxis.map((function(e){return t[e].total||0})),this.agent.new.legend=["新增分销商数"],this.$nextTick((function(){e.$refs["chart_card"].renderAdd()}))},getRank:function(t,e){var a=this;t.forEach((function(t){a.rank.data.push(t.commission_total),a.rank.yAxis.push(t.nickname),a.rank.legend=["累计佣金排行榜"]})),e.forEach((function(t){a.child.data.push(t.commission_child),a.child.yAxis.push(t.nickname),a.child.legend=["下线分销商排行榜"]})),this.$nextTick((function(){a.$refs["chart_card"].renderRank()}))}},mounted:function(){this.getData()}};e.default=c},a59d:function(t,e,a){"use strict";a.r(e);var i=a("4efd"),n=a("6505");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("7b57");var o=a("2877"),l=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,null,null);e["default"]=l.exports},a5f2:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("kdx-header-bar",[a("Form",{ref:"form",attrs:{model:t.query,"label-width":100,inline:""},nativeOn:{submit:function(t){t.preventDefault()}}},[a("FormItem",{attrs:{label:"订单编号：",prop:"order_no"}},[a("Input",{staticClass:"width-340",attrs:{type:"text",placeholder:"订单编号"},on:{"on-enter":t.handleSearch},model:{value:t.query.order_no,callback:function(e){t.$set(t.query,"order_no",e)},expression:"query.order_no"}})],1),a("FormItem",{attrs:{label:"会员信息：",prop:"member_keyword"}},[a("Input",{staticClass:"width-340",attrs:{type:"text",placeholder:"昵称/姓名/手机号"},on:{"on-enter":t.handleSearch},model:{value:t.query.member_keyword,callback:function(e){t.$set(t.query,"member_keyword",e)},expression:"query.member_keyword"}})],1),a("FormItem",{attrs:{label:"会员ID："}},[a("i-input",{staticClass:"width-340",attrs:{type:"text",placeholder:"会员ID"},on:{"on-enter":t.handleSearch},model:{value:t.query.member_id,callback:function(e){t.$set(t.query,"member_id",e)},expression:"query.member_id"}},[a("Select",{staticStyle:{width:"120px"},attrs:{slot:"prepend"},slot:"prepend",model:{value:t.query.member_type,callback:function(e){t.$set(t.query,"member_type",e)},expression:"query.member_type"}},t._l(t.memberTypeList,(function(e,i){return a("Option",{key:i,attrs:{value:e.id}},[t._v(" "+t._s(e.label)+" ")])})),1)],1)],1),a("FormItem",{attrs:{label:"商品名称：",prop:"goods_title"}},[a("Input",{staticClass:"width-340",attrs:{type:"text",placeholder:"商品名称"},on:{"on-enter":t.handleSearch},model:{value:t.query.goods_title,callback:function(e){t.$set(t.query,"goods_title",e)},expression:"query.goods_title"}})],1),a("FormItem",{attrs:{label:"下单时间："}},[a("DatePicker",{staticClass:"width-340",attrs:{type:"datetimerange",placeholder:"下单时间",format:"yyyy-MM-dd HH:mm"},on:{"on-change":t.changeDate},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],1),a("FormItem",{attrs:{label:"佣金状态：",prop:"commission_status"}},[a("Select",{staticClass:"width-160",attrs:{placeholder:"请选择"},model:{value:t.query.commission_status,callback:function(e){t.$set(t.query,"commission_status",e)},expression:"query.commission_status"}},t._l(t.commissionStatus,(function(t){return a("Option",{key:t.id,attrs:{label:t.text,value:t.id}})})),1)],1),a("FormItem",{attrs:{label:"订单状态：",prop:"status"}},[a("Select",{staticClass:"width-160",attrs:{placeholder:"请选择"},model:{value:t.query.order_status,callback:function(e){t.$set(t.query,"order_status",e)},expression:"query.order_status"}},t._l(t.orderStatus,(function(t){return a("Option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),a("FormItem",{attrs:{label:"订单类型："}},[a("Select",{staticClass:"width-160",model:{value:t.query.type,callback:function(e){t.$set(t.query,"type",e)},expression:"query.type"}},t._l(t.goodsType,(function(e){return a("Option",{key:e.key,attrs:{value:e.key}},[t._v(t._s(e.value)+" ")])})),1)],1),a("div",{staticClass:"ivu-form-item-btn"},[a("Button",{attrs:{type:"primary"},on:{click:t.handleSearch}},[t._v("搜索")]),a("Button",{attrs:{type:"text"},on:{click:t.handleReset}},[t._v("重置")]),a("Button",{attrs:{type:"text"},on:{click:t.handleExport}},[t._v("导出")])],1)],1)],1)},n=[]},a766:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("p",{staticClass:"title"},[t._v("收款方式")]),a("div",{staticClass:"flex align-center info-list"},[a("div",{staticClass:"info-label"},[t._v("收款渠道：")]),a("div",{staticClass:"flex align-center channel",class:t.getPayType.icon},[a("i",{staticClass:"iconfont channel-icon",class:"icon-"+t.getPayType.icon}),a("span",{staticClass:"channel-text"},[t._v(t._s(t.info.type_text))])])]),a("div",{staticClass:"flex align-center info-list"},[a("div",{staticClass:"info-label"},[t._v("收款人：")]),a("div",{staticClass:"info-desc"},[t._v(t._s(t.info.realname||"-"))])]),a("div",{staticClass:"flex align-center info-list"},[a("div",{staticClass:"info-label"},[t._v("收款账号：")]),a("div",{staticClass:"info-desc"},[t._v(t._s(t.info.alipay||"-"))])])])},n=[]},a769:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"good-list-table-list"},[a("Table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"table",attrs:{columns:t.columns,data:t.data},on:{"on-sort-change":t.changeSort}}),a("div",{staticClass:"footer-page"},[a("kdx-page-component",{ref:"page",attrs:{total:t.total},on:{"on-change":t.changePage}})],1)],1)},n=[]},a792:function(t,e,a){},a79a:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("p",{staticClass:"title"},[t._v("分销商信息")]),a("div",{staticClass:"flex align-center user"},[a("img",{staticClass:"user-avatar",attrs:{src:t.$media(t.info.avatar)},on:{error:t.replaceImg}}),a("span",{staticClass:"user-name",on:{click:function(e){return t.jumpVip(t.applyInfo.member_id)}}},[t._v(t._s(t.info.nickname))])]),a("div",{staticClass:"flex align-center info-list"},[a("div",{staticClass:"info-label"},[t._v("联系电话：")]),a("i",{staticClass:"iconfont icon-dianhua tel-icon"}),a("div",{staticClass:"info-desc bold"},[t._v(t._s(t.info.mobile))])]),t._l(t.infoList,(function(e){return a("div",{key:e.key,staticClass:"flex align-center info-list"},[a("div",{staticClass:"info-label"},[t._v(t._s(e.text))]),a("div",{staticClass:"info-desc bold"},[t._v("￥"+t._s(t.info[e.key]||"0.00"))])])}))],2)},n=[]},a7c7:function(t,e,a){"use strict";a.r(e);var i=a("4238"),n=a("1900");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("078e");var o=a("2877"),l=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"1a104788",null);e["default"]=l.exports},a8ac:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sms-template"},[a("kdx-form-title",[t._v("发送设置")]),a("Form",{ref:"form",attrs:{model:t.model,rules:t.rules,"label-width":120}},[a("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"发送设置："}},[a("RadioGroup",{model:{value:t.model.status,callback:function(e){t.$set(t.model,"status",e)},expression:"model.status"}},[a("Radio",{attrs:{label:1}},[t._v("开启")]),a("Radio",{attrs:{label:0}},[t._v("关闭")])],1)],1),a("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"发送时间："}},[a("span",[t._v(t._s(t.sendTime))])]),t.isShow_level?a("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"通知等级："}},[a("RadioGroup",{model:{value:t.model.commission_level,callback:function(e){t.$set(t.model,"commission_level",e)},expression:"model.commission_level"}},[a("Radio",{attrs:{label:"1"}},[t._v("一级")]),a("Radio",{attrs:{label:"2"}},[t._v("一级+二级")])],1),a("kdx-hint-text",[t._v("开启内购后，一级佣金获得者是自身时，自身不发送此消息，只给二佣金获得者发送消息提示")])],1):t._e(),t.is_showNoticeMember?a("FormItem",{attrs:{label:"通知人员："}},[a("Button",{staticClass:"default-primary",on:{click:t.selectVip}},[t._v("+添加")]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.vipList.length>0,expression:"vipList.length > 0"}],staticClass:"vip-table"},[a("Table",{attrs:{columns:t.columns,data:t.vipList,size:"small"},scopedSlots:t._u([{key:"nickname",fn:function(e){var i=e.row;return[a("div",{staticClass:"vip-info"},[a("img",{attrs:{src:i.avatar,alt:""},on:{error:function(e){return t.replaceImage(e,"avatar")}}}),a("p",{staticClass:"name"},[a("span",{staticStyle:{"margin-bottom":"4px"}},[t._v(t._s(i.nickname))]),new Set(["10","20","21"]).has(i.source)?a("i",{staticClass:"iconfont",class:{"icon-H":"10"===i.source,"icon-weixin":"20"===i.source,"icon-weixinxiaochengxu":"21"===i.source}}):"30"===i.source?a("kdx-svg-icon",{staticClass:"iconfont",attrs:{type:"icon-qudao-toutiao2"}}):"32"===i.source?a("kdx-svg-icon",{staticClass:"iconfont",attrs:{type:"icon-qudao-toutiaojisuban"}}):"31"===i.source?a("kdx-svg-icon",{staticClass:"iconfont",attrs:{type:"icon-douyin"}}):"70"===i.source?a("span",{staticClass:"iconfont icon-PCduan",staticStyle:{color:"#12aa9c","font-size":"16px"}}):t._e()],1)])]}}],null,!1,2828295025)})],1)],1):t._e(),a("FormItem",{attrs:{label:"模板设置："}},[a("Select",{staticClass:"width-430",model:{value:t.model.template_id,callback:function(e){t.$set(t.model,"template_id",e)},expression:"model.template_id"}},t._l(t.template_list,(function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])})),1),a("default-template",{attrs:{type:"sms"}})],1)],1),a("vip-selector",{ref:"VipSelector",attrs:{currentList:t.vipList,multiple:""},on:{"on-change":t.getVipList}})],1)},n=[]},a8bf:function(t,e,a){"use strict";a.r(e);var i=a("ebba"),n=a("f064");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("9986");var o=a("2877"),l=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"d9d12acc",null);e["default"]=l.exports},a94a:function(t,e,a){"use strict";a("9b7b")},a94f:function(t,e,a){},aa39:function(t,e,a){},aa45:function(t,e,a){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("a9e3"),a("d3b7"),a("159b"),a("e9c4"),a("4de4");var i={name:"OrderList",props:{data:{type:Array,default:function(){return[]}},total:{type:Number,default:0},loading:{type:Boolean,default:!1}},computed:{noManagePerm:function(){return!this.$getPermMap("commission.apply.manage")}},data:function(){return{show:!1,columns:[{title:"会员",key:"shop",width:254},{title:"分销商等级",key:"price",width:186},{title:"提现方式",key:"payment",width:163},{title:"申请佣金",key:"apply_commission",width:151,sortable:"custom"},{title:"手续费",key:"charge_deduction",width:156,sortable:"custom"},{title:"实际提现佣金",key:"final_commission",width:210,sortable:"custom"},{title:"申请时间",key:"status",width:220},{title:"操作",key:"action",width:178}],cloneColumns:[],totalWidth:0,tableWidth:0,showModal:!0}},watch:{$route:{handler:function(t){var e=t.params.status;this.$set(this.columns[6],"title","waiting"==e?"申请时间":"审核时间")},immediate:!0}},methods:{sort:function(t,e){this.$emit("on-search",{sort:t,by:e})},skipInfo:function(t){this.$router.push({path:"/commission/withdraw/detail",query:{id:t}})},agreeHandler:function(t){var e=this;this.$Modal.confirm({title:"提示",content:"确认通过此用户的提现申请?",cancelText:"取消",onOk:function(){e.$api.commissionApi.applyCheckedAgree({id:t}).then((function(t){0===t.error&&(e.$Message.success("操作成功"),e.$emit("on-refresh",{},"head"))}))}})},refuseHandler:function(t){var e=this;this.$Modal.confirm({title:"提示",content:"确认拒绝此用户的提现申请?",cancelText:"取消",onOk:function(){e.$api.commissionApi.applyCheckedRefuse({id:t}).then((function(t){0===t.error&&(e.$Message.success("操作成功"),e.$emit("on-refresh",{},"head"))}))}})},payHandler:function(t){var e=this;this.$Modal.confirm({title:"提示",content:"确认打款给此用户吗?",cancelText:"取消",onOk:function(){e.$api.commissionApi.applyRemit({id:t}).then((function(t){0===t.error&&(e.$Message.success("操作成功"),e.$emit("on-refresh",{},"head"))}))}})},manaualHandler:function(t){var e=this;this.$Modal.confirm({title:"提示",content:"确认手动打款给此用户吗?",cancelText:"取消",onOk:function(){e.$api.commissionApi.manaualRemit({id:t}).then((function(t){0===t.error&&(e.$Message.success("操作成功"),e.$emit("on-refresh",{},"head"))}))}})},handleResize:function(){var t,e=this;this.tableWidth=(null===(t=this.$refs["order_table"])||void 0===t?void 0:t.offsetWidth)-40;var a=this.columns.length,i=parseInt((this.tableWidth-this.totalWidth)/a);this.columns.forEach((function(t,a){var n=(e.cloneColumns[a].width||0)+i;e.$set(e.columns[a],"width",n)}))},getCloneColumns:function(){this.cloneColumns=JSON.parse(JSON.stringify(this.columns))},getTotalWidth:function(){var t=this;this.totalWidth=0,this.cloneColumns.forEach((function(e){t.totalWidth+=e.width||0}))},handlePageChange:function(t){this.$emit("on-page-change",t)},getPayType:function(t){var e=[{id:"10",text:"余额",icon:"icon-money-pay",class:"money-text"},{id:"20",text:"微信",icon:"icon-wechatpay",class:"wepay-text"},{id:"30",text:"支付宝",icon:"icon-alipay",class:"alipay-text"}];return e.filter((function(e){return e.id==t}))[0]||{}},replaceImg:function(t){t.target.src=this.$utils.staticImg("decorate/avatar.png")}},filters:{getSourceIcon:function(t){switch(t){case"10":return"icon-H";case"20":return"icon-weixin";case"21":return"icon-weixinxiaochengxu";default:break}},getLevelText:function(t){var e={1:"一级分销商：",2:"二级分销商："};return e[t]}},mounted:function(){this.getCloneColumns(),this.getTotalWidth(),this.handleResize(),window.addEventListener("resize",this.handleResize)}};e.default=i},aa70:function(t,e,a){},aaef:function(t,e,a){"use strict";a.r(e);var i=a("bd62"),n=a("97c1");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("714c6");var o=a("2877"),l=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"69c06df1",null);e["default"]=l.exports},ab96:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("FormItem",{staticStyle:{"margin-bottom":"0"},attrs:{label:t.label,"label-width":t.labelWidth}},[a("Button",{staticStyle:{color:"$brand-color"},on:{click:t.selectVip}},[t._v("+添加")]),a("p",{staticClass:"tip",staticStyle:{"margin-left":"130px","margin-bottom":"10px"}},[t._v(" 订单生成后以模板消息的方式商家通知，可以指定多个人，如果不填写则不通知 ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.vipList.length>0,expression:"vipList.length > 0"}],staticClass:"vip-table"},[a("Table",{attrs:{columns:t.columns,data:t.vipList,size:"small"},scopedSlots:t._u([{key:"nickname",fn:function(e){var i=e.row;return[a("div",{staticClass:"vip-info"},[a("img",{attrs:{src:i.avatar,alt:""},on:{error:function(e){return t.replaceImage(e,"avatar")}}}),a("p",{staticClass:"name"},[a("span",{staticStyle:{"margin-bottom":"4px"}},[t._v(" "+t._s(i.nickname)+" ")]),new Set(["10","20","21"]).has(i.source)?a("i",{staticClass:"iconfont",class:{"icon-H":"10"===i.source,"icon-weixin":"20"===i.source,"icon-weixinxiaochengxu":"21"===i.source}}):"30"===i.source?a("kdx-svg-icon",{staticClass:"iconfont",attrs:{type:"icon-qudao-toutiao2"}}):"32"===i.source?a("kdx-svg-icon",{staticClass:"iconfont",attrs:{type:"icon-qudao-toutiaojisuban"}}):"31"===i.source?a("kdx-svg-icon",{staticClass:"iconfont",attrs:{type:"icon-douyin"}}):"70"===i.source?a("span",{staticClass:"iconfont icon-PCduan",staticStyle:{color:"#12aa9c","font-size":"16px"}}):t._e()],1)])]}}])})],1)],1),a("vip-selector",{ref:"VipSelector",attrs:{currentList:t.vipList,multiple:""},on:{"on-change":t.getList}})],1)},n=[]},adf8:function(t,e,a){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("a9e3"),a("d81d"),a("b0c0"),a("d3b7"),a("159b");var i={props:{data:{type:Array,default:function(){return[]}},total:{type:Number,default:0},loading:{type:Boolean,default:!1}},data:function(){var t=this;this.$createElement;return{columns:[{type:"selection",width:40,align:"center"},{title:"商品",key:"shop",minWidth:260,render:function(e,a){var i,n=a.row.label||[],s=n.map((function(t){return e("span",{},t.name)}));switch(a.row.type){case"0":i={goodsName:"mark real",goodsText:"实"};break;case"1":i={goodsName:"mark virtual",goodsText:"虚"};break;case"2":i={goodsName:"mark secret",goodsText:"密"};break}return e("div",{class:"content-box"},[e("div",{class:"image"},[e("img",{attrs:{src:t.$media(a.row.thumb),alt:""},on:{error:function(e){t.replaceImage(e)}}})]),e("div",{class:"content"},[e("div",{class:"content-text",style:{display:t.shopName.id===a.row.id?"none":"-webkit-box"}},[e("span",{class:"mark",style:{display:"1"===a.row.has_option?"inline-block":"none"}},["多"]),e("span",{class:i.goodsName},[i.goodsText]),e("span",{class:"text"},[a.row.title])]),e("p",{class:"label"},[s])])])}},{title:"价格",key:"price",minWidth:100,sortable:"custom",render:function(t,e){return t("div",{class:"price"},[t("span",["￥",e.row.price])])}},{title:"佣金",key:"commission",minWidth:150,render:function(t,e){return e.row.commission?t("div",{class:"inventory"},[t("kdx-status-text",{attrs:{type:"warning"}},[e.row.commission])]):t("div",["-"])}},{title:"库存",key:"stock",minWidth:90,maxWidth:200,sortable:"custom",render:function(e,a){var i="3"==a.row.type?"-":t.formatData(a.row.stock);return e("div",{class:"inventory"},[e("span",[i])])}},{title:"销量",key:"real_sales",minWidth:90,maxWidth:200,sortable:"custom",render:function(t,e){return t("div",[e.row.real_sales])}},{title:"商品状态",key:"status",minWidth:100,maxWidth:200,render:function(t,e){var a={0:{text:"",type:""},1:{text:"上架",type:"success"},2:{text:"售磬",type:"danger"},3:{text:"下架",type:"warning"},4:{text:"回收站",type:"disabled"}};return t("p",{style:"word-break:normal"},[t("kdx-status-text",{attrs:{type:a[e.row.status].type}},[a[e.row.status].text])])}},{title:"操作",key:"action",minWidth:120,maxWidth:220,render:function(e,a){return e("div",{class:"action"},[e("Button",{attrs:{type:"text",disabled:t.noManagePerm},on:{click:function(){t.handleEdit(a.row.id)}}},["不参与分销"])])}}],selectRows:[],isSelectAll:!1,shopName:{id:-1,name:""}}},computed:{noManagePerm:function(){return!this.$getPermMap("commission.goods.manage")},getTableData:function(){var t=this;return this.data.map((function(e){return e._disabled=t.noManagePerm,e}))},selectDisabled:function(){return 0===this.selectRows.length}},methods:{selectChange:function(t){this.selectRows=t,this.isSelectAll=this.selectRows.length===this.data.length},checkboxChange:function(t){var e=this;this.data.forEach((function(a,i){e.$set(e.data[i],"_checked",t)})),this.selectRows=t?this.data:[]},handleEdit:function(t){var e=this;this.$Modal.confirm({title:"提示",content:"确定不参与分销？",onOk:function(){e.$api.commissionApi.setGoodCommissionStatus({id:t instanceof Array?t.map((function(t){return t.id})):t}).then((function(t){0==t.error&&e.handleRefresh()}))},onCancel:function(){}})},handleRefresh:function(){this.$emit("on-refresh"),this.initFooterData(),this.reset()},reset:function(){this.$refs["page"].reset()},changePage:function(t){this.$emit("on-page-change",t),this.initFooterData()},formatData:function(t){return parseInt(t)<9999?t:"9999+"},initFooterData:function(){this.isSelectAll=!1,this.selectRows=[]},changeSort:function(t){var e=t.key,a=t.order;"normal"===a?this.$emit("on-sort",{}):this.$emit("on-sort",{sort:e,by:a})}}};e.default=i},af5e:function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("4de4"),a("d3b7");var n=i(a("0b7d")),s={name:"selectTemplateCode",components:{},props:{},data:function(){return{code:"",list:[],selectList:[]}},computed:{},created:function(){this.list=n.default},mounted:function(){},methods:{change:function(t){var e=this.list.filter((function(e){return e.label==t}));this.selectList=e[0].children},chooseCode:function(t){this.$emit("chooseCode",t)}}};e.default=s},b04a:function(t,e,a){"use strict";a.r(e);var i=a("ea4a"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},b152:function(t,e,a){},b172:function(t,e,a){"use strict";a.r(e);var i=a("b9686"),n=a("9861");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("33c5");var o=a("2877"),l=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"69bb834a",null);e["default"]=l.exports},b2f9:function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("87b7")),s={name:"wxappTemplate",components:{defaultTemplate:n.default},props:{value:{type:Object,default:function(){}},sendTime:{type:String,default:""},type_code:{type:String,default:""}},data:function(){return{model:{status:0,is_default:1},rules:{}}},watch:{model:{handler:function(t){this.$emit("input",t)},deep:!0},value:{handler:function(t){this.model=t},deep:!0,immediate:!0}},computed:{},created:function(){},mounted:function(){},methods:{}};e.default=s},b3ca:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header-card"},[a("div",{staticClass:"title"},[t._v("佣金预览")]),a("div",{staticClass:"content"},[a("ul",[a("li",[t._m(0),a("div",{staticClass:"right"},[a("div",{staticClass:"title"},[t._v(" 提现待审核（元） ")]),a("div",{staticClass:"number number-font-family"},[t._v(" "+t._s(t.data.pre_check)+" "),a("Button",{attrs:{type:"text",to:"/commission/withdraw/list/waiting"}},[t._v("去审核")])],1)])]),a("li",[t._m(1),a("div",{staticClass:"right"},[a("div",{staticClass:"title"},[t._v(" 提现待打款（元） ")]),a("div",{staticClass:"number number-font-family"},[t._v(" "+t._s(t.data.check_agree)+" "),a("Button",{attrs:{type:"text",to:"/commission/withdraw/list/paying"}},[t._v("去打款")])],1)])]),a("li",[t._m(2),a("div",{staticClass:"right"},[a("div",{staticClass:"title"},[t._v(" 累计佣金 / 累计提现成功佣金 ")]),a("div",{staticClass:"number number-font-family"},[a("span",[t._v(" "+t._s(t.data.commission_total)+" ")]),t._v(" / "),a("span",{staticClass:"success-number"},[t._v(" "+t._s(t.data.remit_success)+" ")])])])])])])])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"icon"},[a("span",{staticClass:"iconfont icon-fenxiao-leijiyongjin-"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"icon"},[a("span",{staticClass:"iconfont icon-fenxiao-tixian"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"icon"},[a("span",{staticClass:"iconfont icon-fenxiao-leijiyongjin"})])}]},b50b:function(t,e,a){},b537:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADIBAMAAABfdrOtAAAAHlBMVEVHcEz5hQD4gAD5gwD0dgD////3kTL7x5f95Mz5q2JH8nEDAAAABHRSTlMAVtWaNzd/mAAABhBJREFUeNrtXE1C4koQRuUAOOMBmBkOwPg8AGDbkL2BsE/A2Ys/e6POnsw4t30qEJJ0VVdVJ2GVWmrMl66vqrp+um21GmmkkUYaaeTw0jl9lzoBjs5VKt9/1gLxtafy8qNTO0T1MCcQxCdMdRjnCpVRRYs56imb9CtRlSLkW3mML4qUHwfAKL2Wc6VqR/miVO0ox4ot/drsqgJ/IfyjIJduIBdKJN9qJb0ELSdSDDWSg/TEIGpYu7IcFHaEv2mxqEphZ9h73vx3ecR+261iIfrB/5SXEHlAAtJGMFb+VmYIykAAgnznjZ/KvPRSkIV4fkbWZZeCfGWSBSm7FM5CfD8sZ2CIs0d5kOdS0RjbqlZ5kFkpt0cWon2fpa9hmYWMiyC3yIOdEnvVpAgydY8taGhMiiAz9zCJZiirIkjgHvHRnd03xHnzwjcSPohy9HbAglEbpqnvVQEydNWWBGTkYFtaCkLYF2hbbzbi13J9QX+xDGwgr2J9ncDbiM0Z47k0frXh5MEWVuCNpSsz4Jsdw3CA1HA4vhRRolMzgkO9RoKYyICj3OtMCx4jO3FfQMkmebjGt98rJD8aCLxklUl/wEQiQfKjSz4lXtYjwJQITfX4XpLkXggkdxrdivtcSrx8igWlqTdYHBtwi5KosJlDCffWHJ64pBRdUccFhUOlg4ds+CMm72Mjtd6hZMuTBMnCOjzeE1Pdm1Lrd2gSN+cxfwxra0oVpptvCUIW821YW2uqsNawvoYsf4+seaKxlDmL+aJxxda02lxyyAEBPZGxkJ2v3DLM6wjM4p85IDeghfQZFpzwaMcX3WVYcMzW1k5fIW3DbYjNKQ8kgkgZ0uFxwtfWTl9zOkReQJQwG10a0u2IdpPY1nZgkTIi3URnMgi2Ea/JHRjS8poLMoZ2rg7lixOiOACD5JTyxhPAKAN+jxNivk/5YiLifft8QLn8MWAuUz5IBKh3QDl8DKYguEC+S4FomXHtrPHWASSsF2QsCSr7pPiJiJBnpooDCUhsRggK5EpowVsbnh4CZC4CiQ4GMpWARHKQxA1kJgYJniQgk1gMsvLvQiUUvRSCPKyVg3ivIpBQOYkmQNqqcjkIyKABKQdyXD1IlwOyWPDzLujZPg3y6yNhCf6wnPCjug8eaZBiobXcNjjuGDlqDA9ryTR133EkUbwYGdtQCbeO6dkV8OhvEciKMVYy+1P5D6KKoHwn8Im7kPwHUeVcvps9p/NTaCkDe2FabAGvyUIO+iCixC52zJ+p9BQc2RHNgoQ5UYQ6+Gtu2yPmThSBWcSTtTN8hKrARooxVZkzW1GGCiz+6KPD2kt7Uy3ycR3QMzt7e/AM1TMO4uEzO6LRaYJcE51BCKRrb9mu+CAmfamRdOzT0rgKEKqNLljJFQpySQyCKgEZEPOTFd+6JijxXWI4l/CdEQfpEHPyiB9WTBMO7LynPn/FH4p7GMiQOgQ39vmh3kcCZJeamHrcYzCQkUztlOxJibnGBRjJLUFJSkrCPqdgmldIUJKSMmFTYsT6GUVJSopmU2KQcmsfymbDV8LOiAqrDuyBKxe+xuzcrmAl17S29pFlxc1S87lwoCgDzhpxJsOdoe0DbXzQWpEGnA33y/Tjtn8YGzXXcju/3H/QnbKHeWMPXuarJ68wjFX6LVWkt1lLcGefyELZ10chuK8Do8+qMIXRf+MMBfo+9oOXtT2twxo5C8MdXv68/2zx68GwiQU59aUPiAOpD54kM84o9ljB1lJUcE5bHvMXAgzIFfPcKOXVRKnHOy3etlTqZhIf0h0V5rk7vWKri3vs/QxAeeNSwj1fDR4h/AvpCtgEyh3dN4l5ZDXSZKch9UMO5gXcy8rfQthErG18YTbrnA52/rt/vX/8h+QvshsVjh1J0YUKpzsu8rs0TksR3wq6qKI3X+IuTUXKclKY0802ocLc7ujJrrWNWm5yiAt6ostazlcNBbSUuprJRCl3lZVHftnrshyU8nelaZQKLheTKP1WJXJei38YXtmrU1WpgHfw1ajfqlZMmMohPi3gv+8ZhJ+dVm1yenr6td7/8dBII4000kgjiPwP83YmIjAAqG0AAAAASUVORK5CYII="},b6c9:function(t,e,a){},b6efa:function(t,e,a){},b8bd:function(t,e,a){"use strict";a.r(e);var i=a("a79a"),n=a("8f77");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("9fdb");var o=a("2877"),l=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"b3ab90bc",null);e["default"]=l.exports},b938:function(t,e,a){"use strict";a.r(e);var i=a("a8ac"),n=a("e039");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("fe8e");var o=a("2877"),l=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,null,null);e["default"]=l.exports},b960:function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("ac1f"),a("841c"),a("4e82");var n=i(a("a0a1")),s=i(a("de4a")),o=i(a("8f52")),l=a("3b02"),r={name:"index",inject:["returnToTop"],components:{SearchHeader:s.default,TableList:o.default,HeaderInfo:n.default},data:function(){return{page:{pageSize:10,pageNumber:1},search:{},grade:[],table:{data:[],total:0,loading:!1},info:{child:{},memberInfo:{},agentInfo:{}},sort:{},id:"",level:""}},methods:{handleSearch:function(t){this.search=t,this.refreshTable()},handleSort:function(t){this.sort=t,this.refreshTable()},getList:function(){var t=this;this.returnToTop(),this.table.loading=!0;var e=Object.assign({pagesize:this.page.pageSize,page:this.page.pageNumber,id:this.id},this.search,this.sort);this.$api.commissionApi.getAgentChildList(e).then((function(e){0===e.error&&(t.table.data=e.list,t.table.total=e.total,t.table.loading=!1)})).catch()},getAllList:function(){var t=this;this.$api.commissionApi.getAgentGradeAllList().then((function(e){var a;0===e.error&&(null!==e&&void 0!==e&&null!==(a=e.list)&&void 0!==a&&a.length?e.list.unshift({id:"all",name:"全部"}):e.list=[{id:"all",name:"全部"}],t.grade=e.list)}))},getInfo:function(){var t=this;this.$api.commissionApi.getAgentDetailHeader({id:this.id}).then((function(e){0===e.error&&(t.info.child=e.child,t.info.memberInfo=e.member_info,t.info.agentInfo=e.agent_info)}))},getCommissionLevel:function(){var t=this;this.$api.commissionApi.getCommissionLevel().then((function(e){0===e.error&&(t.level=e.level)}))},refreshTable:function(){var t;this.page={pageSize:10,pageNumber:1},null===(t=this.$refs["table_list"])||void 0===t||t.reset(),this.getList()},changePage:function(t){this.page=t,this.getList()},handleExport:function(){var t=Object.assign({export:"1",pagesize:this.page.pageSize,page:this.page.pageNumber,id:this.id},this.search);(0,l.Export)("manage/apps/commission/agent/child-list",t)}},mounted:function(){this.id=this.$route.query.id||"",this.getInfo(),this.getList(),this.getAllList(),this.getCommissionLevel()}};e.default=r},b9686:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"overview"},[a("header-card",{attrs:{data:t.data}}),a("content-card",{ref:"content_card",attrs:{data:t.data,distributor:t.chart.distributor,"grade-data":t.chart.grade,"grade-legend-data":t.chart.legend}}),a("chart-card",{ref:"chart_card",attrs:{add:t.agent.new,commission:t.rank,child:t.child}}),t._t("default")],2)},n=[]},b9c7:function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("1557")),s={name:"ChartCard",components:{ChartBar:n.default},props:{add:{type:Object,required:!0},commission:{type:Object,required:!0},child:{type:Object,required:!0}},data:function(){return{type:"rank",rank:{data:[],yAxis:{type:"category",data:[]},legend:[]},grid:{left:"15%"},addChart:{xAxis:{minInterval:1,data:[]}}}},methods:{changeType:function(){"rank"===this.type?this.renderRank():"child"===this.type&&this.renderChild()},renderAdd:function(){var t=this;this.addChart.xAxis={minInterval:1,data:this.add.xAxis},this.$nextTick((function(){t.$refs["chart_add_bar"].render()}))},renderRank:function(){var t=this;this.type="rank",this.rank={data:this.commission.data,yAxis:{type:"category",data:this.commission.yAxis},legend:this.commission.legend},this.$nextTick((function(){t.$refs["chart_rank_bar"].render()}))},renderChild:function(){var t=this;this.type="child",this.rank={data:this.child.data,yAxis:{type:"category",data:this.child.yAxis},legend:this.child.legend},this.$nextTick((function(){t.$refs["chart_rank_bar"].render()}))}}};e.default=s},b9e9:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("kdx-content-bar",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],scopedSlots:t._u([{key:"btn",fn:function(){return[i("Button",{staticClass:"primary-long",attrs:{loading:t.submitLoading},on:{click:t.handleSave}},[t._v("保存")]),i("Button",{staticClass:"default-long",on:{click:t.handleBack}},[t._v("返回列表")])]},proxy:!0}])},[i("div",{staticClass:"notice-title"},[i("img",{attrs:{src:a("3220"),alt:""}}),i("div",{staticClass:"notice-title-content flex"},[i("i",{staticClass:"iconfont",class:t.icon}),i("span",[t._v(t._s(t.tempTitle))])])]),t.type_code?i("div",{staticClass:"notice-buyer-edit"},[i("Tabs",{attrs:{animated:!1},on:{"on-click":t.changeTab},model:{value:t.tabPoint,callback:function(e){t.tabPoint=e},expression:"tabPoint"}},[t.items.includes("wechat")?i("TabPane",{attrs:{label:"微信公众号模板消息",name:"wechat"}},[i("div",{staticStyle:{"padding-left":"40px"}},[i("wechat-template",{ref:"wechatTemplate",attrs:{sendTime:t.sendTime,is_showNoticeMember:t.is_showNoticeMember,isShow_level:t.isShow_level,type_code:t.type_code},model:{value:t.wechatData,callback:function(e){t.wechatData=e},expression:"wechatData"}})],1)]):t._e(),t.items.includes("wxapp")?i("TabPane",{attrs:{label:"微信小程序订阅消息",name:"wxapp"}},[i("div",{staticStyle:{"padding-left":"40px"}},[i("wxapp-template",{attrs:{type_code:t.type_code,sendTime:t.sendTime},model:{value:t.wxappData,callback:function(e){t.wxappData=e},expression:"wxappData"}})],1)]):t._e(),t.items.includes("sms")?i("TabPane",{attrs:{label:"短信通知",name:"sms"}},[i("div",{staticStyle:{"padding-left":"40px"}},[i("sms-template",{attrs:{type_code:t.type_code,sendTime:t.sendTime,is_showNoticeMember:t.is_showNoticeMember,isShow_level:t.isShow_level},model:{value:t.smsData,callback:function(e){t.smsData=e},expression:"smsData"}})],1)]):t._e(),t.items.includes("subscribe")?i("TabPane",{attrs:{label:"微信公众号订阅通知",name:"subscribe"}},[i("div",{staticStyle:{"padding-left":"40px"}},[i("subscribe-template",{attrs:{type_code:t.type_code,isShow_level:t.isShow_level,sendTime:t.sendTime},model:{value:t.subscribeData,callback:function(e){t.subscribeData=e},expression:"subscribeData"}})],1)]):t._e()],1)],1):t._e()])},n=[]},ba31:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("kdx-modal-frame",{attrs:{title:"删除分销商等级",width:"480"},on:{"on-cancel":t.handleCancel,"on-ok":t.handleOk},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[a("div",{staticClass:"delete-commission-grade-modal"},[a("Form",{ref:"form",attrs:{model:t.model,"label-width":0}},[a("FormItem",{staticClass:"r-form-item-checkbox"},[a("RadioGroup",{model:{value:t.model.type,callback:function(e){t.$set(t.model,"type",e)},expression:"model.type"}},[a("Radio",{attrs:{disabled:t.noManagePerm,label:"1"}},[t._v("分销商移入其他等级")]),a("Radio",{attrs:{disabled:t.noManagePerm,label:"2"}},[t._v("删除等级并删除分销商佣金比例")])],1),"1"==t.model.type?a("div",{staticClass:"level-select"},[a("Select",{staticClass:"width-340",attrs:{placeholder:"请选择"},model:{value:t.model.level_id,callback:function(e){t.$set(t.model,"level_id",e)},expression:"model.level_id"}},t._l(t.level,(function(e){return a("Option",{key:e.id,attrs:{disabled:t.noManagePerm,value:e.id}},[t._v(t._s(e.name)+" ")])})),1)],1):t._e()],1)],1)],1)])},n=[]},ba49:function(t,e,a){},ba70:function(t,e,a){},bac3:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"good-group-table-list"},[a("kdx-hint-alert",{attrs:{"show-icon":!1}},[t._v("提示：没有设置等级的分销商将按默认等级计算佣金，商品指定了佣金金额就按商铺你的佣金金额计算，不受等级影响")]),a("Table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"table",attrs:{columns:t.columns,data:t.data}})],1)},n=[]},bd0a:function(t,e,a){"use strict";a.r(e);var i=a("c9b7"),n=a("1496");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("ff92");var o=a("2877"),l=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"d5b04536",null);e["default"]=l.exports},bd62:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"chart-card"},[a("div",{staticClass:"chart-left"},[a("div",{staticClass:"title"},[t._v(" 新增分销商数 ")]),a("div",{staticClass:"chart-content"},[a("chart-bar",{ref:"chart_add_bar",attrs:{id:"add_bar",data:t.add.data,xAxis:t.addChart.xAxis,legend:t.add.legend}})],1)]),a("div",{staticClass:"chart-right"},[a("div",{staticClass:"header"},[a("div",{staticClass:"title"},[t._v(" 分销商排行top10 ")]),a("div",{staticClass:"radio-btn"},[a("RadioGroup",{staticClass:"chart-time-type",attrs:{type:"button"},on:{"on-change":t.changeType},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[a("Radio",{attrs:{label:"rank"}},[t._v("累计佣金排行")]),a("Radio",{attrs:{label:"child"}},[t._v("下级分销商数量排行")])],1)],1)]),a("div",{staticClass:"chart-content"},[a("chart-bar",{ref:"chart_rank_bar",attrs:{id:"rank_bar",grid:t.grid,typeXAxis:"value",data:t.rank.data,yAxis:t.rank.yAxis,legend:t.rank.legend}})],1)])])},n=[]},bdc7:function(t,e,a){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("a9e3");var i={props:{vertical:{type:Boolean,default:!1},value:{type:[String,Number],default:""},disabled:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},items:{type:Array,default:function(){return[{label:"label1",iconType:"",disabled:!1},{label:"label2",iconType:"",disabled:!1}]}},type:{type:String,default:void 0}},watch:{value:{immediate:!0,handler:function(){this.selected="-1";for(var t=0;t<this.items.length;t++)this.items[t].id==this.value&&(this.selected=t);if("-1"==this.selected)for(var e=0;e<this.items.length;e++)""===this.items[e].id&&(this.selected=e);this.lastSelected=this.selected}}},data:function(){return{selected:"",lastSelected:null}},methods:{onChange:function(t){var e=this;if(this.lazy)if(null!==this.lastSelected)this.$nextTick((function(){e.selected=e.lastSelected;var a=e.items[t].id;e.$emit("input",a),e.$emit("change",a,e.items[t])}));else{this.lastSelected=this.selected;var a=this.items[this.selected].id;this.$emit("input",a),this.$emit("change",a,this.items[this.selected])}else{var i=this.items[this.selected].id;this.$emit("input",i),this.$emit("change",i,this.items[this.selected])}}}};e.default=i},be05:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"data_charts_pie"},[a("div",{style:{width:t.width,height:t.height+"px"},attrs:{id:"pie_"+t.id}})])},n=[]},c0e6:function(t,e,a){},c1c6:function(t,e,a){"use strict";a.r(e);var i=a("37c2"),n=a("329f8");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("f2ea");var o=a("2877"),l=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"3a470016",null);e["default"]=l.exports},c20b:function(t,e,a){"use strict";a.r(e);var i=a("5a61"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},c32a:function(t,e,a){"use strict";a.r(e);var i=a("1cb2"),n=a("57ca");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("e3b0");var o=a("2877"),l=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"34634ca9",null);e["default"]=l.exports},c594:function(t,e,a){"use strict";a.r(e);var i=a("a766"),n=a("4649");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("5a30");var o=a("2877"),l=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"a6a5f890",null);e["default"]=l.exports},c5c3:function(t,e,a){"use strict";a.r(e);var i=a("3e10"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},c65e:function(t,e,a){"use strict";a("cfaa")},c747:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"template-code"},[a("div",{staticClass:"title"},[t._v("变量选择")]),a("div",{staticClass:"template-code-content"},[a("div",{staticClass:"text-info"},[a("kdx-hint-alert",{attrs:{"show-icon":!1}},[a("div",{staticClass:"text-info-tip"},[t._v("点击变量后会自动插入选择的文本框的焦点位置，在发送给粉丝时系统会自动替换对应变量值")]),a("div",{staticClass:"text-info-tip rr-brand-color"},[t._v("注意：以上模板消息变量只适用于系统类通知，会员群发工具不适用")])])],1),a("div",{staticClass:"select flex"},[a("div",{staticClass:"label"},[t._v("变量类别：")]),a("Select",{attrs:{placeholder:"选择模板变量类型"},on:{"on-change":t.change},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}},t._l(t.list,(function(e){return a("Option",{key:e.type,attrs:{value:e.label}},[t._v(t._s(e.label))])})),1)],1),t.selectList.length>0?a("div",{staticClass:"select-list"},t._l(t.selectList,(function(e,i){return a("div",{key:i,staticClass:"select-list-child"},[e.value?a("div",{staticClass:"select-list-title"},[t._v(t._s(e.label))]):t._e(),a("div",{staticClass:"label-content flex"},t._l(e.children,(function(e,i){return a("div",{key:i,staticClass:"label-item pointer",on:{click:function(a){return t.chooseCode(e.value)}}},[a("div",{staticClass:"label"},[t._v(t._s(e.label))])])})),0)])})),0):t._e()])])},n=[]},c7e7:function(t,e,a){"use strict";a("f7b3")},c9b3:function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("d3b7"),a("d81d"),a("a434");var n=i(a("a8bf")),s=i(a("87b7")),o=i(a("606b9")),l={name:"wechatTemplate",components:{VipSelector:n.default,defaultTemplate:s.default,customTemplate:o.default},props:{value:{type:Object,default:function(){}},sendTime:{type:String,default:""},is_showNoticeMember:{type:Boolean,default:!1},isShow_level:{type:Boolean,default:!1},type_code:{type:String,default:""}},data:function(){var t=this;this.$createElement;return{model:{status:0,is_default:1,commission_level:"1",member_id:[],is_send_message:"0",message_num:0,is_send_line:"0",line_num:0},messageList:["10","20","50","100","200","500"],lineList:["1","5","10","20","50"],vipList:[],columns:[{title:"会员",slot:"nickname"},{key:"option",title:"操作",width:120,align:"center",render:function(e,a){return e("p",{class:"option",style:"text-align:center;"},[e("span",{style:"color: $brand-color;font-size: 14px;cursor:pointer;",on:{click:function(){t.delete(a.index)}}},["删除"])])}}],rules:{trigger:[{validator:this.validateTrigger,trigger:"change"}]}}},watch:{model:{handler:function(t){this.$emit("input",t)},deep:!0},value:{handler:function(t){var e;this.model=t,this.model.is_send_messages=t.is_send_message,this.model.is_send_line=t.is_send_line,this.vipList=null!==(e=null===t||void 0===t?void 0:t.member)&&void 0!==e?e:[]},deep:!0,immediate:!0}},computed:{},created:function(){},mounted:function(){},methods:{validateTrigger:function(t,e,a){var i=!1;this.model.is_send_message||this.model.is_send_line?!this.model.is_send_message&&this.model.is_send_line?this.model.line_num||(i=!0):this.model.is_send_message&&!this.model.is_send_line&&(this.model.message_num||(i=!0)):i=!0,this.model.is_send_message&&this.model.is_send_line&&(this.model.message_num||this.model.line_num||(i=!0)),i?a("触发条件必选"):a()},validate:function(){var t=this;return new Promise((function(e){t.$refs["form"].validate((function(t){e(t)}))}))},getVipList:function(t){this.vipList=t.map((function(t){return{id:t.id,source:t.source,avatar:t.avatar,nickname:t.nickname}})),this.model.member_id=this.vipList.map((function(t){return t.id})),this.$emit("input",this.model)},delete:function(t){this.vipList.splice(t,1),this.model.member_id=this.vipList.map((function(t){return t.id})),this.$emit("input",this.model)},selectVip:function(){this.$refs.VipSelector.setValue()}}};e.default=l},c9b7:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"detail"},[a("Card",[a("Steps",{attrs:{current:t.getCurrent.current,status:t.getCurrent.status}},t._l(t.getSteps,(function(e){return a("Step",{key:e.key,attrs:{title:e.text,content:t._f("getTime")(t.applyInfo[e.content])}})})),1)],1),a("div",{staticClass:"detail-content"},[a("kdx-form-title",[t._v("提现信息")]),a("div",{staticClass:"flex"},[a("div",{staticClass:"detail-list"},[a("detail-retailer",{attrs:{info:t.agentInfo,"apply-info":t.applyInfo}})],1),a("div",{staticClass:"detail-list"},[a("detail-commission",{attrs:{count:t.count,info:t.applyInfo},on:{refresh:t.getInfo}})],1),a("div",{staticClass:"detail-list"},[a("detail-collect",{attrs:{info:t.applyInfo}})],1),a("div",{staticClass:"detail-list"},[a("detail-retail",{attrs:{info:t.agentInfo}})],1)]),a("kdx-form-title",[t._v("商品信息")]),a("div",[a("detail-list",{attrs:{status:t.status,data:t.orderList}})],1)],1),t._t("default")],2)},n=[]},c9e4:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"default-template"},["wechat"==t.type_template&&t.templateCode[t.type_code]&&t.templateCode[t.type_code].wechat?i("div",{staticClass:"default-template-content wechat"},[i("img",{staticClass:"bg-img",attrs:{src:a("595d"),alt:""}}),i("div",{staticClass:"line"}),i("div",{staticClass:"wechat-notice"},[i("div",{staticClass:"content"},[i("div",{staticClass:"template-title"},[t._v(t._s(t.templateCode[t.type_code].wechat.title))]),i("div",{staticClass:"template-html"},t._l(t.templateCode[t.type_code].wechat.info,(function(e,a){return i("div",{key:a,staticClass:"flex"},[i("div",{staticClass:"label"},[t._v(t._s(e.key)+"：")]),i("div",[t._v(t._s(e.title))])])})),0)])])]):t._e(),"sms"==t.type_template&&t.templateCode[t.type_code]&&t.templateCode[t.type_code].sms?i("div",{staticClass:"default-template-content wxapp"},[i("img",{staticClass:"bg-img",attrs:{src:a("22ea"),alt:""}}),i("div",{staticClass:"sms-notice"},[i("img",{staticClass:"sms-icon-img",attrs:{src:a("6aad"),alt:""}}),i("div",{staticClass:"message-content"},[t._v(t._s(t.templateCode[t.type_code].sms.title))])])]):t._e(),"wxapp"==t.type_template&&t.templateCode[t.type_code]&&t.templateCode[t.type_code].wxapp?i("div",{staticClass:"default-template-content wxapp"},[i("img",{staticClass:"bg-img",attrs:{src:a("595d"),alt:""}}),i("div",{staticClass:"line"}),i("div",{staticClass:"wxapp-notice"},[t._m(0),i("div",{staticClass:"content"},[i("div",{staticClass:"template-title"},[t._v(t._s(t.templateCode[t.type_code].wxapp.title))]),i("div",{staticClass:"template-html"},t._l(t.templateCode[t.type_code].wxapp.info,(function(e,a){return i("div",{key:a,staticClass:"flex"},[i("div",{staticClass:"label"},[t._v(t._s(e.key))]),i("div",[t._v(t._s(e.title))])])})),0)]),i("div",{staticClass:"template-link"},[t._v("拒收通知")])])]):t._e(),"subscribe"==t.type_template&&t.templateCode[t.type_code]&&t.templateCode[t.type_code].subscribe?i("div",{staticClass:"default-template-content wxapp"},[i("img",{staticClass:"bg-img",attrs:{src:a("595d"),alt:""}}),i("div",{staticClass:"line"}),i("div",{staticClass:"wxapp-notice"},[i("div",{staticClass:"title flex"},[i("div",{staticClass:"logo flex"},[i("div",{staticClass:"logo-icon"},[t._v("商城")]),"credit_sign_notice"==t.type_code?i("div",[t._v("商城名称")]):i("div",[t._v("商城")])]),t._m(1)]),i("div",{staticClass:"content"},[i("div",{staticClass:"template-title"},[t._v(t._s(t.templateCode[t.type_code].subscribe.title))]),i("div",{staticClass:"template-html",class:"credit_sign_notice"==t.type_code?"template-html-creditSign":""},t._l(t.templateCode[t.type_code].subscribe.info,(function(e,a){return i("div",{key:a,staticClass:"flex"},[i("div",{staticClass:"label"},[t._v(t._s(e.key))]),i("div",[t._v(t._s(e.title))])])})),0)]),t._m(2)])]):t._e()])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"title flex"},[a("div",{staticClass:"logo flex"},[a("div",{staticClass:"logo-icon"},[t._v("商城")]),a("div",[t._v("商城")])]),a("div",{staticClass:"dot"},[a("span"),a("span"),a("span")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dot"},[a("span"),a("span"),a("span")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"template-link"},[t._v("查看详情 "),a("i",{staticClass:"iconfont icon-line-right",staticStyle:{float:"right"}})])}]},cb77:function(t,e,a){"use strict";a("7b14")},cc6f:function(t,e,a){"use strict";a.r(e);var i=a("169f"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},cd0e:function(t,e,a){"use strict";a.r(e);var i=a("4ddd"),n=a("1a73");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("4982");var o=a("2877"),l=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"6258048e",null);e["default"]=l.exports},cfaa:function(t,e,a){},d274:function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("5530"));a("d3b7"),a("3ca3"),a("ddb0"),a("d81d");var s=i(a("5471")),o=i(a("cd0e")),l=a("2f62"),r={components:{MyRadioGroup:s.default,MyAddImg:o.default,BuyGoods:function(){return a.e(141).then(a.bind(null,"ec4b"))},Consumption:function(){return a.e(142).then(a.bind(null,"68ba"))},OrderNum:function(){return a.e(143).then(a.bind(null,"3951"))}},data:function(){var t=this;return{rules:{banner:[{required:!0,message:"审核图片必填"}],become_order_money:[{required:!0,message:"消费条件必填"}],become_order_status:[{required:!0,message:"统计方式必填"}],become_order_count:[{required:!0,message:"消费条件必填"}],show_agreement:[{required:!0,message:"显示申请协议必填"}],compete_safe_days:[{required:!0,message:"天数必填"}],compete_delay_one_price:[{validator:function(e,a,i){1!==t.settings.compete_delay_type||a?i():i(new Error(" "))}}],compete_delay_total_price:[{validator:function(e,a,i){2!==t.settings.compete_delay_type||a?i():i(new Error(" "))}}]}}},computed:(0,n.default)((0,n.default)({},(0,l.mapState)("commission/settings",{settings:function(t){return t.settings},lastLevel:function(t){return t.lastLevel}})),{},{commission_level:function(){var t=this;return[{label:"关闭",id:0},{label:"一级分销",id:1},{label:"二级分销",id:2}].map((function(e){return e.disabled=t.noManagePerm,e}))},noManagePerm:function(){return!this.$getPermMap("commission.settings.commission.manage")},levelName:function(){return this.commission_level[this.settings.commission_level].label},getCondition:function(){var t=["","BuyGoods","Consumption","OrderNum","Agreement"];return t[this.settings.become_condition]},open:function(){var t=this;return[{label:"开启",id:1},{label:"关闭",id:0}].map((function(e){return e.disabled=0==t.settings.commission_level||t.noManagePerm,e}))},levelOpen:function(){var t=this;return[{label:"开启",id:1},{label:"关闭",id:0}].map((function(e){return e.disabled=0==t.settings.commission_level||t.noManagePerm,e}))},become_condition:function(){var t=this;return[{label:"无条件",id:0},{label:"购买商品",id:1},{label:"消费金额",id:2},{label:"支付订单数量",id:3}].map((function(e){return e.disabled=0==t.settings.commission_level||t.noManagePerm,e}))},child_condition:function(){var t=this;return[{label:"首次点击分享链接并登录",id:1},{label:"首次付款",id:2}].map((function(e){return e.disabled=0==t.settings.commission_level||t.noManagePerm,e}))},guard_list:function(){return[{label:"无保护期",id:0},{label:"自定义保护期",id:1}]}}),created:function(){this.getSettings()},methods:(0,n.default)((0,n.default)({},(0,l.mapActions)("commission/settings",["getSettings","editSettings"])),{},{changeSettingsBecomeCondition:function(t){2==this.settings.child_condition&&0==t?this.$Modal.info({title:"提示",content:"成为下线条件选择了首次付款,成为分销商条件不能选择无条件"}):this.settings.become_condition=t},changeChildCondition:function(t){0==this.settings.become_condition&&2==t?this.$Modal.info({title:"提示",content:"成为下线条件选择了首次付款,成为分销商条件不能选择无条件"}):this.settings.child_condition=t},getImg:function(t){this.settings.banner=t},save:function(){var t=this;this.$refs["form"].validate((function(e){e&&t.editSettings().then((function(e){0==e.error&&(t.$Message.success("修改成功"),t.$store.dispatch("config/getCommissionSetting"))}))}))},cancel:function(){this.$router.go(-1)},changeCommissionLevel:function(){var t,e=this,a=this.$createElement;0==this.settings.commission_level?t="是否关闭分销体系":1==this.settings.commission_level?t="是否把分销体系设为一级分销":2==this.settings.commission_level&&(t="是否把分销体系设为二级分销"),this.$Modal.confirm({title:t,render:function(){return a("div",{style:"color: #939799"},["默认佣金比例请到 ",a("Button",{attrs:{type:"text"},on:{click:function(){e.$utils.openNewWindowPage("/commission/grade")}},style:"lin-height: 20px;vertical-align: inherit"},["【分销商等级】"]),"进行设置"])},onOk:function(){e.$store.commit("commission/settings/setLastLevel",e.settings.commission_level)},onCancel:function(){e.settings.commission_level=e.lastLevel}})},changeSelfBuy:function(){var t=this,e=this.$createElement;"1"==this.settings.self_buy&&this.$Modal.confirm({title:"开启内购",render:function(){return e("div",{style:"line-height: 16px; color: #939799"},["开启分销内购后，分销商自己购买商品，享受一级佣金，上级享受二级佣金"])},onOk:function(){t.settings.self_buy="1"},onCancel:function(){t.settings.self_buy="0"}})},changeType:function(){var t=this,e=this.$createElement;this.$Modal.confirm({title:"分销模式变更",render:function(){return e("div",{style:"line-height: 16px; color: #939799"},["切换分销模式将立即变更分销关系为",1===t.type?"保护期":"永久有效","确认切换？"])},onOk:function(){t.type=1},onCancel:function(){t.type=0}})},goMoney:function(){this.$router.push({path:"/plugins/center/index"})}})};e.default=r},d388:function(t,e,a){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("a9e3"),a("a434"),a("d3b7"),a("159b"),a("e9c4");var i={name:"OrderList",props:{data:{type:Array,default:function(){return[]}},status:{type:[String,Number],default:0}},data:function(){return{columns:[{title:"订单编号/商品",key:"shop",width:350},{title:"订单金额",key:"price",width:100},{title:"下单时间",key:"paytime",width:200},{title:"审核状态",key:"payment",width:90},{title:"佣金/下单人",key:"buyer",width:240}],cloneColumns:[],totalWidth:0,tableWidth:0,showModal:!0}},watch:{status:{handler:function(){0==this.status?5==this.columns.length&&this.columns.splice(3,1):4==this.columns.length&&this.columns.splice(3,0,{title:"审核状态",key:"payment",width:90}),this.getCloneColumns(),this.getTotalWidth(),this.handleResize()},immediate:!0}},computed:{getStatus:function(){return 30==this.status||31==this.status?{icon:"icon-del",text:"未通过",class:"del-text"}:{icon:"icon-yes",text:"已审核"}}},methods:{handleResize:function(){var t,e=this;if(this.$refs["order_table"]){this.tableWidth=(null===(t=this.$refs["order_table"])||void 0===t?void 0:t.offsetWidth)-40;var a=this.columns.length,i=parseInt((this.tableWidth-this.totalWidth)/a);this.columns.forEach((function(t,a){var n=(e.cloneColumns[a].width||0)+i;e.$set(e.columns[a],"width",n)}))}},getCloneColumns:function(){this.cloneColumns=JSON.parse(JSON.stringify(this.columns))},getTotalWidth:function(){var t=this;this.totalWidth=0,this.cloneColumns.forEach((function(e){t.totalWidth+=e.width||0}))},jumpVip:function(t){this.$utils.openNewWindowPage("/member/detail",{id:t})}},mounted:function(){window.addEventListener("resize",this.handleResize)},beforeDestroy:function(){window.removeEventListener("resize")},filters:{getSourceIcon:function(t){switch(t){case"10":return"icon-H";case"20":return"icon-weixin";case"21":return"icon-weixinxiaochengxu";default:break}},getLevelText:function(t){var e={1:"一级佣金：",2:"二级佣金："};return e[t]}}};e.default=i},d3d6:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"order-list"},[a("search-header",{ref:"search",attrs:{status:t.status},on:{"on-search":t.handleSearch,"on-export":t.handleExport}}),a("div",{staticClass:"content",staticStyle:{background:"#fff"}},[a("table-list",{ref:"table",attrs:{data:t.table.data,total:t.table.total,loading:t.table.loading,status:t.status},on:{"on-page-change":t.changePage,"on-refresh":t.refreshTable}})],1),t._t("default")],2)},n=[]},d490:function(t,e,a){"use strict";a.r(e);var i=a("d706"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},d4a9:function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("53ca"));a("a9e3"),a("e9c4"),a("d81d"),a("d3b7"),a("159b"),a("4de4"),a("a15b");var s=i(a("6dd0")),o=i(a("583f")),l=a("3101"),r=[],c={name:"TreeSelect",mixins:[s.default],props:{value:{type:[String,Number,Array]},data:{type:Array,default:function(){return[]}},multiple:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},loadData:{type:Function},transfer:{type:Boolean,default:function(){return!(!this.$IVIEWPRO||""===this.$IVIEWPRO.transfer)&&this.$IVIEWPRO.transfer}},checkStrictly:{type:Boolean,default:!1},checkDirectly:{type:Boolean,default:!0},placeholder:{type:String,default:"请选择"},isHandlePath:{type:Boolean,default:!1}},data:function(){return{currentValue:this.value,isChangeValueInTree:!1,isValueChangeByTree:!1,tmpData:[]}},watch:{value:{handler:function(t){var e;this.isChangeValueInTree?this.isChangeValueInTree=!1:(this.currentValue=t,null===(e=this.$refs.select)||void 0===e||e.reset(),r=(0,o.default)(this.data,this.isHandlePath),this.handleUpdateTreeNodes(this.tmpData,!0),this.tmpData=JSON.parse(JSON.stringify(this.tmpData)))},deep:!0},data:{handler:function(){var t;(this.tmpData=JSON.parse(JSON.stringify(this.data)),r=(0,o.default)(this.data,this.isHandlePath),this.isChangeValueInTree)?this.isChangeValueInTree=!1:(null===(t=this.$refs.select)||void 0===t||t.reset(),this.handleUpdateTreeNodes(this.tmpData,!0))},deep:!0}},computed:{valueToArray:function(){return"object"===(0,n.default)(this.currentValue)?this.isHandlePath?(0,l.formatData)(this.currentValue,this.tmpData):this.currentValue:[this.currentValue]},isCheckboxUsable:function(){return this.multiple&&this.showCheckbox},transferClassName:function(){return this.transfer?"ivu-tree-select-transfer":""},classes:function(){return{"ivu-tree-select-with-checkbox":this.showCheckbox}}},methods:{handleSelectNode:function(t,e){if(this.$emit("change-data",this.tmpData),this.multiple)t.length?(this.currentValue=t.map((function(t){return t.value})),this.handleUpdateSelectValue(e.value,e.title)):(this.currentValue=[],this.handleUpdateSelectValue("","")),this.traverseData(this.tmpData,this.currentValue);else if(t.length){var a=t[0];this.currentValue=a.value,this.handleUpdateSelectValue(a.value,a.title)}else this.currentValue="",this.handleUpdateSelectValue("","");this.isChangeValueInTree=!0,this.$emit("input",this.currentValue),this.$emit("on-change",this.currentValue),this.dispatch("FormItem","on-form-change",this.currentValue)},handleUpdateTreeNodes:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.forEach((function(t){e.valueToArray.indexOf(t.value)>=0?(e.isCheckboxUsable?t.checked=!0:t.selected=!0,e.handleUpdateSelectValue(t.value,t.title)):e.isCheckboxUsable?t.checked=!1:t.selected=!1,t.children&&t.children.length&&e.handleUpdateTreeNodes(t.children)})),a&&this.$refs.select&&(this.$refs.select.isFocused=!1)},handleUpdateSelectValue:function(t){if(""===t){var e;null===(e=this.$refs.select)||void 0===e||e.reset()}else{this.isValueChangeByTree=!0;var a=r.filter((function(e){return e[e.length-1].value==t}))[0];a&&a.length>0&&this.$refs.select&&this.$refs.select.onOptionClick({value:t,label:a.map((function(t){return t.title})).join("->")||""}),this.multiple||(this.isValueChangeByTree=!1)}},handleChange:function(t){var e,a=this;this.isValueChangeByTree?this.isValueChangeByTree=!1:(this.currentValue=t,this.$emit("input",t),this.$emit("on-change",t),this.dispatch("FormItem","on-form-change",t),null===(e=this.$refs.select)||void 0===e||e.reset(),this.handleUpdateTreeNodes(this.tmpData,!0),this.$emit("change-data",this.tmpData),this.$nextTick((function(){a.isValueChangeByTree=!1})))},handleOpenChange:function(t){this.$emit("on-open-change",t)},traverseData:function(t,e){var a=this;t.forEach((function(t){e.indexOf(t.value)>-1?t.checked=!0:t.checked=!1,t.children&&t.children.length>0&&a.traverseData(t.children,e)}))}},mounted:function(){var t;null!==(t=this.data)&&void 0!==t&&t.length&&(this.tmpData=JSON.parse(JSON.stringify(this.data))),r=(0,o.default)(this.data,this.isHandlePath),this.handleUpdateTreeNodes(this.data,!0)}};e.default=c},d5c8:function(t,e,a){"use strict";a.r(e);var i=a("552e"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},d665:function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("3835")),s=i(a("b8bd")),o=i(a("db11")),l=i(a("c594")),r=i(a("340a")),c=i(a("eec1")),d={components:{DetailRetailer:s.default,DetailCommission:o.default,DetailCollect:l.default,DetailRetail:r.default,DetailList:c.default},data:function(){return{orderList:[],id:"",agentInfo:{},applyInfo:{},count:0,status:0,steps:[{text:"申请中",content:"apply_time"},{text:"商家审核",content:"check_time"},{text:"商家打款",content:"pay_time"},{text:"提现完成",content:"pay_time"},{text:"无效",content:"apply_time"}]}},computed:{getCurrent:function(){return 10==this.status?{current:2,status:"finish"}:20==this.status||21==this.status?{current:4,status:"finish"}:30==this.status||31==this.status?{current:2,status:"error"}:{current:1,status:"finish"}},getSteps:function(){var t=(0,n.default)(this.steps,5),e=t[0],a=t[1],i=t[2],s=t[3],o=t[4];return 30==this.status||31==this.status?[e,a,o]:[e,a,i,s]}},mounted:function(){this.id=this.$route.query.id,this.getInfo()},methods:{getInfo:function(){var t=this;this.$api.commissionApi.applyDetail({id:this.id}).then((function(e){var a=e.error,i=e.agent_info,n=e.order_info,s=e.apply_info,o=e.order_count;0===a&&(t.orderList=n,t.agentInfo=i,t.applyInfo=s,t.status=s.status,t.count=o)}))}},filters:{getTime:function(t){return"0000-00-00 00:00:00"===t?"":t}}};e.default=d},d6bd:function(t,e,a){"use strict";a("340c")},d6c6:function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("d3b7"),a("159b"),a("b64b"),a("99af");var n=i(a("5530")),s={name:"SearchHeader",data:function(){return{query:{order_no:"",member_keyword:"",member_id:"",member_type:"1",goods_title:"",start_time:"",end_time:"",commission_status:"-1",order_status:"all",type:"all"},time:[],memberTypeList:[{id:"1",label:"获得返佣"},{id:"0",label:"自主下单"}],commissionStatus:[{id:"-1",text:"全部"},{id:"0",text:"未入账"},{id:"1",text:"已入账"}],timeArea:[],orderStatus:[{id:"all",name:"全部"},{id:"0",name:"待付款"},{id:"10",name:"待发货"},{id:"20",name:"待收货"},{id:"30",name:"已完成"},{id:"-1",name:"已关闭"}],goodsType:[]}},created:function(){var t=this.$route.query,e=t.member_id,a=t.member_type;this.query=(0,n.default)((0,n.default)({},this.query),{},{member_id:e||"",member_type:a||"1"}),this.handleSearch(),this.getGoodsType()},methods:{handleSearch:function(){var t=Object.assign({},this.query);"-1"==t.commission_status&&delete t.commission_status,t.order_status="all"===t.order_status?"":t.order_status,Object.keys(t).forEach((function(e){""==t[e]&&delete t[e]})),this.$emit("on-search",t)},handleReset:function(){this.reset(),this.handleSearch()},handleExport:function(){this.$emit("on-export")},reset:function(){this.query={order_no:"",member_keyword:"",member_id:"",member_type:"1",goods_title:"",start_time:"",end_time:"",commission_status:"-1",order_status:"all",type:"all"}},changeDate:function(t){this.query.start_time=t[0],this.query.end_time=t[1]},getGoodsType:function(){var t=this;this.$api.orderApi.getGoodsType().then((function(e){0===e.error&&(t.goodsType=[{key:"all",value:"全部"}].concat(e.goods_type))}))}}};e.default=s},d706:function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("5530"));a("a9e3"),a("e9c4"),a("d81d"),a("b0c0"),a("d3b7"),a("159b"),a("99af");var s=i(a("313e")),o=i(a("89bd")),l={name:"ChartBar",props:{id:{type:String,required:!0},data:{type:Array,default:function(){return[]}},legend:{type:Array,default:function(){return[]},required:!0},isLegend:{type:Boolean,default:!1},legendStyle:{type:Object,default:function(){return{right:"0",top:"25"}}},xAxis:{type:[Array,Object],default:function(){return[]}},yAxis:{type:[Array,Object],default:function(){}},height:{type:Number,default:450},loading:{type:Boolean,default:!1},typeXAxis:{type:String,default:"category"},grid:{type:Object,default:function(){}},barMaxWidth:{type:Number,default:24},color:{type:Array,default:function(){return[]}},showBackground:{type:Boolean,default:!1},backgroundStyle:{type:Object,default:function(){}}},data:function(){return{myCharts:null,option:{title:{},grid:{left:"5%",right:"4%",bottom:"10%",containLabel:!1},color:this.color||[],tooltip:{trigger:"axis",axisPointer:{animation:!0,type:"shadow",lineStyle:{color:"#BFBFBF"},shadowStyle:{shadowColor:"#ccd6ec",opacity:.3}},padding:[0],textStyle:{color:"#262B30",fontSize:12}},legend:(0,n.default)({icon:"circle",itemWidth:8,itemHeight:8,textStyle:{color:"#939799"},data:this.legend},this.legendStyle),xAxis:{type:this.typeXAxis,boundaryGap:!0,data:this.xAxis,minInterval:1,axisTick:{alignWithLabel:!0}},yAxis:{nameTextStyle:{color:"#262B30"},splitLine:{lineStyle:{type:"dashed"}},axisTick:{alignWithLabel:!0},minInterval:1},series:this.data}}},methods:{init:function(){s.default.registerTheme("theme",o.default),this.myCharts=s.default.init(document.getElementById("line_".concat(this.id)),o.default)},render:function(){var t=this;this.myCharts||this.init();var e=JSON.parse(JSON.stringify(this.option));this.isLegend&&(e.legend.data=this.legend),Object.assign(e.grid,this.grid),Object.assign(e.xAxis,this.xAxis),this.yAxis instanceof Array?e.yAxis=this.yAxis||[]:this.yAxis instanceof Object&&(e.yAxis=Object.assign(e.yAxis,this.yAxis)),this.legend.length>1?e.series=this.legend.map((function(e,a){var i={name:e,type:"bar",data:t.data[a]||[],showBackground:t.showBackground,backgroundStyle:t.backgroundStyle};return i})):e.series=[{name:this.legend[0],type:"bar",data:this.data||[],barMaxWidth:this.barMaxWidth,showBackground:this.showBackground,backgroundStyle:this.backgroundStyle,emphasis:{itemStyle:{}}}],e.tooltip.formatter=function(t){var e="",a=t[0].name;return t.forEach((function(t){var a=t.seriesName,i=t.value,n=t.color;e+='\n                              <div style="display:flex;align-items:center;margin-top:4px;">\n                              <span style="display:inline-block;width:8px;height:8px;border-radius:50%;margin-right:8px;background:'.concat(n,';"></span>\n                              <span style="color:#636669;">').concat(a,"：").concat(i,"</span>\n                              </div>")})),'<div style="background:#fff;border-radius: 2px;padding: 12px 48px 12px 12px;box-shadow: 0px 4px 10px rgba(0, 49, 95, 0.08);">\n                            <div>'.concat(a,"</div>\n                            ").concat(e,"\n                    </div>")},this.myCharts.setOption(e)},handleResize:function(){this.myCharts&&this.myCharts.resize()}},mounted:function(){window.addEventListener("resize",this.handleResize)}};e.default=l},d831:function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("5530"));a("ac1f"),a("841c");var s=i(a("25f5")),o=i(a("c32a")),l=a("3b02"),r=a("715d"),c={inject:["returnToTop"],components:{SearchHeader:s.default,TableList:o.default},data:function(){return{table:{data:[],loading:!1,total:0},page:{pageSize:10,pageCount:1},query:{}}},computed:{getApiName:function(){var t=this.$route.params.status,e={waiting:"getWaitCheckList",paying:"getWaitRemitList",payed:"getSuccessList",invalid:"getInvalidList"};return e[t]}},watch:{getApiName:function(){var t;this.refreshTable(),null===(t=this.$refs.search)||void 0===t||t.reset()}},mounted:function(){this.getList()},methods:{changePage:function(t){this.page=t,this.getList()},refreshTable:function(){this.page={pageSize:10,pageCount:1},this.getList()},handleSearch:function(t,e){"head"==e?this.query=t:t=(0,n.default)((0,n.default)({},this.query),t),this.search=t,this.refreshTable()},getList:function(){var t=this;this.returnToTop(),this.table.loading=!0;var e=Object.assign({pagesize:this.page.pageSize,page:this.page.pageNumber},this.search);this.$api.commissionApi[this.getApiName](e).then((function(e){t.table.loading=!1,0===e.error&&(t.table.data=e.list||[],t.table.total=e.total)}))},handleExport:function(){var t=Object.assign({export:"1"},this.search),e=this.getApiName;(0,l.Export)(r.commissionApi[e].api,t)}}};e.default=c},d873:function(t,e,a){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("a9e3"),a("d3b7"),a("159b");var i={name:"DeleteCouponsModal",computed:{noManagePerm:function(){return!this.$getPermMap("commission.level.manage")}},props:{id:{type:[Number,String],default:"0"}},data:function(){return{model:{type:"1",level_id:""},value:!1,level:[]}},methods:{setValue:function(){this.value=!this.value,this.value&&(this.type="1",this.getAllLevel())},handleCancel:function(){this.setValue()},handleOk:function(){var t=this,e={id:this.id,type:this.model.type};if("1"==this.model.type){if(!this.model.level_id)return void this.$Message.error("请选择要移入的分销商");e.level_id=this.model.level_id}this.$api.commissionApi.deleteAgentGrade(e).then((function(e){0===e.error&&(t.$Message.success("分销商等级删除成功"),t.setValue(),t.$router.go(-1))}))},getAllLevel:function(){var t=this;this.$api.commissionApi.getAgentGradeAllList().then((function(e){0===e.error&&(t.level=[],e.list.forEach((function(e){e.id!=t.id&&t.level.push(e)})))}))}}};e.default=i},d906:function(t,e,a){},d9bb:function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("b0c0"),a("ac1f"),a("841c");var n=i(a("87d2")),s={name:"index",components:{TableList:n.default},computed:{noManagePerm:function(){return!this.$getPermMap("commission.level.manage")}},data:function(){return{search:{name:""},table:{data:[],loading:!1}}},methods:{handleSearch:function(){this.getList()},handleReset:function(){this.search.name="",this.getList()},getList:function(){var t=this;this.table.loading=!0;var e=Object.assign({page:1,pager:0},this.search);this.$api.commissionApi.getAgentGradeList(e).then((function(e){t.table.loading=!1,0===e.error&&(t.table.data=e.list)})).catch()}},mounted:function(){this.getList()}};e.default=s},db11:function(t,e,a){"use strict";a.r(e);var i=a("5c8d"),n=a("285d");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("feaf");var o=a("2877"),l=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"57c3db69",null);e["default"]=l.exports},db7b:function(t,e,a){},dbae:function(t,e,a){"use strict";a("3fc6")},dc97:function(t,e,a){"use strict";a("2869")},dcdb:function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("f431")),s=a("d1be"),o={name:"SearchHeader",components:{TreeSelect:n.default},data:function(){return{model:{keywords:"",category_id:"all",status:"all",group_id:"all",type:"all"},categoryList:[],groupList:[],statusList:[{text:"全部",type:"all"},{text:"上架",type:"1"},{text:"售磬",type:"2"},{text:"下架",type:"3"},{text:"回收站",type:"4"}],goodsType:{label_field:[{field:"all",title:"全部"},{field:0,title:"实体商品"},{field:1,title:"虚拟商品"},{field:2,title:"虚拟卡密"}]}}},created:function(){this.getCategory(),this.goodGroupList()},methods:{getCategory:function(){var t=this;this.$api.goodsApi.goodClassifyList().then((function(e){0===e.error&&(e.list.unshift({id:"all",name:"全部"}),t.categoryList=(0,s.dealClassifyList)(e.list))}))},goodGroupList:function(){var t=this;this.$api.goodsApi.goodGroupList({pager:0}).then((function(e){0==e.error&&(t.groupList=e.list,t.groupList.unshift({id:"all",name:"全部"}))}))},changeData:function(t){this.categoryList=t},handleSearch:function(){this.$emit("on-search",this.model)},reset:function(){this.model={keywords:"",category_id:"all",status:"all",group_id:"all",type:"all"}},handleReset:function(){this.reset(),this.$emit("on-search",this.model)}}};e.default=o},ddbb:function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("53ca"));a("d3b7"),a("3ca3"),a("ddb0");var s={components:{ImageSelector:function(){return Promise.resolve().then(a.bind(null,"7177"))},IconSelector:function(){return a.e(121).then(a.bind(null,"a92e"))},VideoSelector:function(){return Promise.resolve().then(a.bind(null,"3127"))}},props:{type:{type:String,default:"image"},value:{type:[String,Object],default:""},icon:{type:String,default:""},size:{type:String,default:""},tip:{type:String,default:"添加图片"}},watch:{value:{immediate:!0,handler:function(){var t;(console.log(this.value,"上次的值是多少值"),"object"===(0,n.default)(this.value))?this.imgurl=null===(t=this.value)||void 0===t?void 0:t.path:this.imgurl=this.value}}},computed:{getIcon:function(){return this.icon?this.icon:"large"!=this.size?"ivu-icon ivu-icon-md-add":"ivu-icon ivu-icon-ios-add"}},data:function(){return{show:!1,imgurl:"",loadSelector:!1}},methods:{mouseenter:function(){this.loadSelector=!0},success:function(){var t=this;this.$nextTick((function(){var e=t.$refs.img;e&&t.$emit("getImgInfo",{naturalWidth:e.naturalWidth,naturalHeight:e.naturalHeight,width:e.width,height:e.height})}))},changeVideo:function(t){this.$emit("change",t),this.$emit("input",t)},getIconClass:function(t){this.$emit("change",t),this.$emit("input",t)},delImg:function(){this.imgurl="",this.$emit("change",""),this.$emit("input","")},changeImage:function(t){this.imgurl=t,this.$emit("change",t),this.$emit("input",t)},addImg:function(){var t=this;"image"==this.type?this.$nextTick((function(){setTimeout((function(){t.$refs["image_selector"]?t.$refs["image_selector"].setValue():t.addImg()}),50)})):"video"===this.type?this.$nextTick((function(){setTimeout((function(){t.$refs.video_selector?t.$refs.video_selector.setValue():t.addImg()}),50)})):this.$nextTick((function(){setTimeout((function(){t.$refs.iconSelector?t.$refs.iconSelector.setValue():t.addImg(),t.$emit("click")}),50)}))}}};e.default=s},de01:function(t,e,a){"use strict";a.r(e);var i=a("0233"),n=a("00cb");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);var o=a("2877"),l=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,null,null);e["default"]=l.exports},de46:function(t,e,a){"use strict";a.r(e);var i=a("267b"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},de4a:function(t,e,a){"use strict";a.r(e);var i=a("7abd"),n=a("5c1d");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);var o=a("2877"),l=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"a761e7a2",null);e["default"]=l.exports},def4:function(t,e,a){"use strict";a("8f2c")},dfef:function(t,e,a){"use strict";a.r(e);var i=a("9537"),n=a("13d7");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("e37e");var o=a("2877"),l=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"370a8620",null);e["default"]=l.exports},dff9:function(t,e,a){"use strict";a.r(e);var i=a("d388"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},e039:function(t,e,a){"use strict";a.r(e);var i=a("f40a"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},e0ab:function(t,e,a){"use strict";a.r(e);var i=a("68bd"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},e123:function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("5530")),s=i(a("ceb0")),o=a("2f62"),l={components:{Editor:s.default},data:function(){return{value:"style",levels:[{label:"一级：",prop:"level_name_1"},{label:"二级：",prop:"level_name_2"},{label:"三级：",prop:"level_name_3"}]}},computed:(0,n.default)((0,n.default)({},(0,o.mapState)("commission/otherSettings",{settings:function(t){return t.settings}})),{},{noManagePerm:function(){return!this.$getPermMap("commission.settings.other.manage")}}),methods:(0,n.default)((0,n.default)({},(0,o.mapActions)("commission/otherSettings",["getSettings","editSettings"])),{},{save:function(){var t=this;this.editSettings().then((function(e){0==e.error&&t.$Message.success("修改成功")}))},cancel:function(){this.$router.go(-1)}}),beforeMount:function(){this.getSettings()}};e.default=l},e1ae:function(t,e,a){},e30d:function(t,e,a){"use strict";a.r(e);var i=a("63ef"),n=a("e692f");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("7bf0");var o=a("2877"),l=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"aa63962e",null);e["default"]=l.exports},e360:function(t,e,a){"use strict";a.r(e);var i=a("6c16"),n=a("cc6f");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("73ee");var o=a("2877"),l=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"f3f2a9d0",null);e["default"]=l.exports},e37e:function(t,e,a){"use strict";a("ba70")},e397:function(t,e,a){"use strict";a("b152")},e3b0:function(t,e,a){"use strict";a("2bf7")},e4e2:function(t,e,a){"use strict";a("b6efa")},e692f:function(t,e,a){"use strict";a.r(e);var i=a("7589"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},e724:function(t,e,a){"use strict";a("a94f")},e77b:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("FormItem",{staticStyle:{"margin-bottom":"0"},attrs:{label:t.label,"label-width":t.labelWidth}},[a("Select",{staticStyle:{width:"340px"},attrs:{value:t.value},on:{"on-change":t.change}},t._l(t.settings.template_list,(function(e,i){return a("Option",{key:i,attrs:{value:e.value}},[t._v(t._s(e.label))])})),1)],1)},n=[]},e8a9:function(t,e,a){},ea4a:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"CheckLabel",props:{checked:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},showIcon:{type:Boolean,default:!1}},methods:{handleClick:function(){this.disabled||this.$emit("on-change",!this.checked)}}};e.default=a},eb28:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-card"},[a("div",{staticClass:"title"},[t._v(" 分销商概览 ")]),a("div",{staticClass:"content"},[a("ul",[a("li",{staticClass:"vip-number"},[a("div",{staticClass:"left"},[a("div",{staticClass:"title"},[t._v(" 总分销商数量 / 总会员数量 ")]),a("div",{staticClass:"number"},[a("span",{staticClass:"number-font-family"},[t._v(t._s(t.data.agent)+" / "+t._s(t.data.member))])])]),a("div",{staticClass:"right"},[a("chart-pie",{ref:"vip_pie",attrs:{id:"vip_pie",legend:!1,data:t.distributor}})],1)]),a("li",{staticClass:"grade"},[a("chart-pie",{ref:"grade_pie",attrs:{id:"grade_pie",legend:t.grade.legend,data:t.gradeData,center:t.grade.center}})],1)])])])},n=[]},ebba:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("kdx-modal-frame",{attrs:{title:"会员选择器",width:850},on:{"on-ok":t.handleOk,"on-cancel":t.handleCancel},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[a("div",{staticClass:"vip-selector"},[a("div",{ref:"scrollBox",staticClass:"vip-selector-content"},[a("div",{staticClass:"search"},[a("Form",{ref:"form",attrs:{model:t.search,"label-width":100,inline:""},nativeOn:{submit:function(t){t.preventDefault()}}},[a("FormItem",{staticClass:"search-content"},[a("Input",{staticClass:"width-250",attrs:{search:"","enter-button":"搜索",placeholder:"请输入"},on:{"on-search":t.handleSearch},model:{value:t.search.keyword,callback:function(e){t.$set(t.search,"keyword",e)},expression:"search.keyword"}})],1),a("FormItem",{attrs:{label:"用户等级："}},[a("Select",{staticClass:"width-160",attrs:{placeholder:"请选择"},on:{"on-change":t.handleSearch},model:{value:t.search.level_id,callback:function(e){t.$set(t.search,"level_id",e)},expression:"search.level_id"}},t._l(t.levels,(function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.level_name))])})),1)],1),a("FormItem",{attrs:{label:"标签组："}},[a("Select",{staticClass:"width-160",attrs:{placeholder:"请选择"},on:{"on-change":t.handleSearch},model:{value:t.search.group_id,callback:function(e){t.$set(t.search,"group_id",e)},expression:"search.group_id"}},t._l(t.groups,(function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.group_name))])})),1)],1)],1)],1),a("Table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"table",attrs:{columns:t.columns,data:t.data}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.total>10,expression:"total > 10"}],staticClass:"footer-page"},[a("kdx-page-component",{ref:"page",attrs:{total:t.total},on:{"on-change":t.handlePageChange}})],1)])])},n=[]},ec28:function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("5530")),s=i(a("2909"));a("a9e3"),a("a434"),a("d81d");var o=a("2f62"),l=i(a("a8bf")),r={components:{VipSelector:l.default},props:{type:{type:String,default:"apply"},labelWidth:{type:[String,Number],default:130},label:{type:[String,Number],default:"选择通知人："},value:{type:Array,default:function(){return[]}}},data:function(){var t=this;this.$createElement;return{ids:[],show:!1,vipList:[],columns:[{title:"会员",slot:"nickname"},{key:"option",title:"操作",width:120,align:"center",render:function(e,a){return e("p",{class:"option",style:"text-align:center;"},[e("span",{style:"color: $brand-color;font-size: 14px;cursor:pointer;",on:{click:function(){t.delete(a)}}},["删除"])])}}]}},watch:{value:{handler:function(){this.ids=this.value||[]},immediate:!0},type:{handler:function(t){"apply"===t?this.vipList=(0,s.default)(this.applyMemberInfo):"withdraw"===t&&(this.vipList=(0,s.default)(this.withdrawMemberInfo))},immediate:!0},applyMemberInfo:{handler:function(t){"apply"===this.type&&(this.vipList=(0,s.default)(t))},immediate:!0,deep:!0},withdrawMemberInfo:{handler:function(t){"withdraw"===this.type&&(this.vipList=(0,s.default)(t))},immediate:!0,deep:!0}},computed:(0,n.default)({},(0,o.mapGetters)("commission/noticeSettings",["applyMemberInfo","withdrawMemberInfo"])),methods:(0,n.default)((0,n.default)({},(0,o.mapMutations)("commission/noticeSettings",["changeMemberInfo"])),{},{delete:function(t){this.vipList.splice(t.index,1),this.ids.splice(t.index,1),this.changeMemberInfo({type:this.type,data:this.vipList}),this.$emit("change",this.ids),this.$emit("input",this.ids)},getList:function(t){this.vipList=t.map((function(t){return{id:t.id,source:t.source,avatar:t.avatar,nickname:t.nickname}})),this.changeMemberInfo({type:this.type,data:this.vipList}),this.ids=(0,s.default)(t.map((function(t){return t.id}))),this.$emit("change",this.ids),this.$emit("input",this.ids)},selectVip:function(){this.$refs.VipSelector.setValue()}})};e.default=r},ed26:function(t,e,a){"use strict";a.r(e);var i=a("d4a9"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},ee5b:function(t,e,a){"use strict";a.r(e);var i=a("ba31"),n=a("3c4a");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("2b05");var o=a("2877"),l=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"4ae04ec1",null);e["default"]=l.exports},ee5b9:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"order_table",staticClass:"order-table-list"},[a("div",{staticClass:"order-table-list-box"},[a("div",{staticClass:"table-header"},[a("table",{style:{width:t.tableWidth+"px"}},[a("colgroup",{attrs:{align:"left"}},t._l(t.columns,(function(t,e){return a("col",{key:e+t.width,attrs:{width:t.width}})})),0),a("tr",t._l(t.columns,(function(e,i){return a("th",{key:i},[a("div",{staticClass:"table-cell"},[t._v(t._s(e.title))])])})),0)])]),t.data.length>0?t._l(t.data,(function(e){return a("div",{key:e.order_id,staticClass:"table-content"},[a("div",{staticClass:"table-content-time"},[a("div",{staticClass:"left"},[new Set(["10","20","21"]).has(e.create_from)?a("span",{staticClass:"iconfont icon",class:t._f("getSourceIcon")(e.create_from)}):t._e(),2==e.activity_type?a("span",{staticClass:"iconfont icon-dingdanliebiao-miaosha seckill"}):"30"===e.create_from?a("kdx-svg-icon",{staticClass:"iconfont",attrs:{type:"icon-qudao-toutiao2"}}):"32"===e.create_from?a("kdx-svg-icon",{staticClass:"iconfont",attrs:{type:"icon-qudao-toutiaojisuban"}}):"31"===e.create_from?a("kdx-svg-icon",{staticClass:"iconfont",attrs:{type:"icon-douyin"}}):"70"===e.create_from?a("span",{staticClass:"iconfont icon-PCduan"}):t._e(),a("span",{staticClass:"text"},[t._v("下单时间："+t._s(e.created_at))]),a("span",{staticClass:"text"},[t._v("订单编号："+t._s(e.order_no))]),a("kdx-copy-text",{attrs:{text:e.order_no}},[a("Button",{attrs:{type:"text",size:"small"}},[t._v("复制")])],1)],1),a("div",{staticClass:"right"},["0"===e.status?a("span",{staticClass:"remaining-time"},[t._v(t._s(e.count_down_time))]):t._e(),a("Button",{attrs:{type:"text"},on:{click:function(a){return t.checkDetail(e.order_id,e.status)}}},[t._v("查看详情")])],1)]),e.goods_info&&e.goods_info.length>0?a("div",{staticClass:"table-order"},[a("table",{style:{width:t.tableWidth+"px"}},[a("colgroup",{attrs:{align:"left"}},t._l(t.columns,(function(t,e){return a("col",{key:e+t.width,attrs:{width:t.width}})})),0),e.goods_info.length>0?t._l(e.goods_info,(function(i,n){return a("tr",{key:i.id},[a("td",[a("div",{staticClass:"shop"},[a("div",{staticClass:"shop-image"},[a("img",{attrs:{src:t.$media(i.thumb),alt:""},on:{error:t.replaceImage}})]),a("div",{staticClass:"shop-information"},[a("div",{staticClass:"title"},[a("span",{staticClass:"mark",class:"1"===i.type?"virtual":"0"===i.type?"real":"2"===i.type?"secret":""},[t._v(" "+t._s("1"===i.type?"虚":"0"===i.type?"实":"2"===i.type?"密":"")+" ")]),t._v(" "+t._s(i.title)+" ")]),a("div",{staticClass:"shop-label"},[i.plugin_identification&&"1"==i.plugin_identification.is_commission?a("kdx-tag-label",{attrs:{type:"warning",size:"small"}},[a("div",[a("span",{staticClass:"iconfont icon-fenxiao"}),a("span",[t._v("分销商品")])])]):t._e(),i.option_title?a("kdx-tag-label",{attrs:{type:"info",size:"small"}},[t._v(t._s(i.option_title))]):t._e()],1)])])]),a("td",[a("div",{staticClass:"shop-price-number price"},[a("p",[t._v("￥"+t._s(i.price_unit))]),a("p",[t._v("X"+t._s(i.total))])])]),0===n?[a("td",{attrs:{rowspan:e.goods_info.length}},[a("div",{staticClass:"shop-payment"},[a("div",{staticClass:"shop-payment-price"},[a("span",[t._v("￥"+t._s(e.pay_price))])]),a("div",{staticClass:"flex align-center pay-info"},[a("span",{staticClass:"iconfont pay-icon",class:t.getPayType(e.pay_type).icon}),a("span",{staticClass:"pay-text",class:t.getPayType(e.pay_type).class},[t._v(t._s(t.getPayType(e.pay_type).text))])])])]),a("td",{attrs:{rowspan:e.goods_info.length}},[e.buyer_name||e.buyer_mobile?a("div",{staticClass:"shop-buyer"},[a("p",{staticClass:"buyer-name",on:{click:function(a){return t.jumpVip(e.member_id)}}},[t._v(t._s(e.buyer_name))]),a("p",{staticClass:"buyey-mobile"},[t._v(t._s(e.buyer_mobile))])]):[t._v("-")]],2),a("td",{staticClass:"retailer-td",attrs:{rowspan:e.goods_info.length}},[a("div",{staticClass:"retailer"},[t._l(t.getLevelInfo(e.anent_info),(function(e,i){return a("div",{key:i,staticClass:"flex align-center retailer-list"},[a("div",{staticClass:"retailer-info"},[a("span",{staticClass:"retailer-level"},[t._v(t._s(t._f("getLevelText")(e.level)))]),a("span",{staticClass:"retailer-name"},[t._v(t._s(e.member&&e.member.nickname))])]),a("div",{staticClass:"retailer-money"},[t._v("佣金：￥"+t._s(e.commission))])])})),e.anent_info&&e.anent_info.commission_sum?a("div",{staticClass:"total-money"},[t._v("合计佣金：￥"+t._s(e.anent_info.commission_sum))]):t._e()],2)]),a("td",{attrs:{rowspan:e.goods_info.length}},[a("div",{staticClass:"retailer-status"},[a("div",{staticClass:"retailer-status-info"},[a("span",{},[t._v("佣金状态：")]),a("span",{staticClass:"retailer-status-value",class:{success:"1"==e.commission_status}},[t._v(t._s("0"==e.commission_status?"未到账":"已到账"))])]),a("div",{staticClass:"retailer-status-info order"},[a("span",{},[t._v("订单状态：")]),a("span",{staticClass:"order-status",class:{"wait-payment":0==e.status,"wait-send":10==e.status||11==e.status,"wait-receive":20==e.status,success:30==e.status,close:-1==e.status}},[t._v(t._s(t._f("getOrderText")(e.status)))])]),a("div",{staticClass:"retailer-status-time"},[a("span",[t._v("到账时间：")]),a("span",[t._v(t._s("0"==e.commission_status?"-":e.commission_time))])])])])]:t._e()],2)})):t._e()],2)]):t._e()])})):a("div",{staticStyle:{"text-align":"center"}},[t._v("暂无数据")])],2),a("div",{directives:[{name:"show",rawName:"v-show",value:t.total>=10,expression:"total >= 10"}],staticClass:"table-footer"},[a("kdx-page-component",{ref:"page",attrs:{total:t.total},on:{"on-change":t.handlePageChange}})],1)])},n=[]},ee6b:function(t,e,a){"use strict";a.r(e);var i=a("d3d6"),n=a("a523");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("dbae");var o=a("2877"),l=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"01ab48cc",null);e["default"]=l.exports},eec1:function(t,e,a){"use strict";a.r(e);var i=a("21c0"),n=a("dff9");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("c65e");var o=a("2877"),l=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"b780b662",null);e["default"]=l.exports},efa8:function(t,e,a){"use strict";a.r(e);var i=a("a5f2"),n=a("85a7");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);var o=a("2877"),l=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,null,null);e["default"]=l.exports},efba:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"data_charts_line"},[a("div",{style:{width:"100%",height:t.height+"px"},attrs:{id:"line_"+t.id}})])},n=[]},f064:function(t,e,a){"use strict";a.r(e);var i=a("1873"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},f0cf:function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("5530")),s=i(a("5471")),o=a("2f62"),l={components:{MyRadioGroup:s.default},computed:(0,n.default)((0,n.default)({},(0,o.mapState)("commission/rankSettings",{settings:function(t){return t.settings}})),{},{noManagePerm:function(){return!this.$getPermMap("commission.settings.rank.manage")}}),data:function(){return{status:[{label:"开启",id:"1"},{label:"关闭",id:"0"}],type:[{label:"按累计佣金",id:"0"},{label:"按已提现佣金",id:"1"}],num:[{label:"10",id:10},{label:"20",id:20},{label:"30",id:30}]}},methods:(0,n.default)((0,n.default)({},(0,o.mapActions)("commission/rankSettings",["getSettings","editSettings"])),{},{save:function(){var t=this;this.editSettings().then((function(e){0==e.error&&t.$Message.success("修改成功")}))},cancel:function(){this.$router.go(-1)}}),beforeMount:function(){this.getSettings()}};e.default=l},f132:function(t,e,a){"use strict";a("37bf")},f22e:function(t,e,a){"use strict";a.r(e);var i=a("561f"),n=a("d5c8");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("29ed");var o=a("2877"),l=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"f775f2aa",null);e["default"]=l.exports},f2ea:function(t,e,a){"use strict";a("d906")},f363:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"HeaderInfo",props:{child:{type:Object,default:function(){}},memberInfo:{type:Object,default:function(){}},agentInfo:{type:Object,default:function(){}}}};e.default=a},f3ec5:function(t,e,a){t.exports=a.p+"static/dist/shop/img/fx_protocol.png"},f40a:function(t,e,a){var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("d81d"),a("a434");var n=i(a("87b7")),s=i(a("a8bf")),o={name:"smsTemplate",components:{defaultTemplate:n.default,VipSelector:s.default},props:{value:{type:Object,default:function(){}},sendTime:{type:String,default:""},type_code:{type:String,default:""},is_showNoticeMember:{type:Boolean,default:!1},isShow_level:{type:Boolean,default:!1}},data:function(){var t=this;this.$createElement;return{model:{status:0,template_id:"",commission_level:"1",member_id:[]},template_list:[],vipList:[],rules:{},columns:[{title:"会员",slot:"nickname"},{key:"option",title:"操作",width:120,align:"center",render:function(e,a){return e("p",{class:"option",style:"text-align:center;"},[e("span",{style:"color: $brand-color;font-size: 14px;cursor:pointer;",on:{click:function(){t.delete(a.index)}}},["删除"])])}}]}},watch:{model:{handler:function(t){this.$emit("input",t)},deep:!0},value:{handler:function(t){var e;this.model=t,this.vipList=null!==(e=null===t||void 0===t?void 0:t.member)&&void 0!==e?e:[]}}},computed:{},created:function(){},mounted:function(){this.getList()},methods:{getList:function(){var t=this;this.$api.noticeApi.getSmsList({scene_code:this.type_code,pager:0}).then((function(e){0==e.error&&(t.template_list=e.list)}))},getVipList:function(t){this.vipList=t.map((function(t){return{id:t.id,source:t.source,avatar:t.avatar,nickname:t.nickname}})),this.model.member_id=this.vipList.map((function(t){return t.id})),this.$emit("input",this.model)},delete:function(t){this.vipList.splice(t,1),this.model.member_id=this.vipList.map((function(t){return t.id})),this.$emit("input",this.model)},selectVip:function(){this.$refs.VipSelector.setValue()}}};e.default=o},f431:function(t,e,a){"use strict";a.r(e);var i=a("70cc"),n=a("ed26");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);var o=a("2877"),l=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,null,null);e["default"]=l.exports},f4f9:function(t,e,a){},f598:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"good-list-table-list"},[a("Table",{ref:"table",attrs:{columns:t.columns,data:t.data},on:{"on-sort-change":t.changeSort}}),a("div",{staticClass:"footer-page"},[a("kdx-page-component",{ref:"page",attrs:{total:t.total},on:{"on-change":t.changePage}})],1)],1)},n=[]},f6a8:function(t,e,a){"use strict";a.r(e);var i=a("ec28"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},f7b3:function(t,e,a){},fb54:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={props:{info:{type:Object,default:function(){}},applyInfo:{type:Object,default:function(){}}},data:function(){return{infoList:[{text:"累计佣金：",key:"commission_total"},{text:"待打款佣金：",key:"wait_remit_commission"},{text:"待入账佣金：",key:"wait_settlement_commission"}]}},methods:{replaceImg:function(t){t.target.src=this.$utils.staticImg("decorate/avatar.png")},jumpVip:function(t){this.$utils.openNewWindowPage("/member/detail",{id:t})}}};e.default=a},fc0b:function(t,e,a){"use strict";a("c0e6")},fc4f:function(t,e,a){"use strict";a("aa70")},fc97:function(t,e,a){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("4de4"),a("d3b7");var i={props:{info:{type:Object,default:function(){}}},computed:{getPayType:function(){var t=this,e=[{id:"10",text:"余额",icon:"money-pay"},{id:"20",text:"微信",icon:"wechatpay"},{id:"30",text:"支付宝",icon:"alipay"}];return e.filter((function(e){return e.id==t.info.type}))[0]||{}}}};e.default=i},fe8e:function(t,e,a){"use strict";a("7412")},feaf:function(t,e,a){"use strict";a("4e17")},ff0d:function(t,e,a){},ff58:function(t,e,a){"use strict";a.r(e);var i=a("5596b"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},ff92:function(t,e,a){"use strict";a("6f3f")}}]);