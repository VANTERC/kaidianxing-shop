(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[23],{"05a7":function(t,e,n){"use strict";n.r(e);var a=n("ad95"),i=n("d4e4");for(var s in i)["default"].indexOf(s)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(s);n("8a21");var o=n("2877"),c=Object(o["a"])(i["default"],a["a"],a["b"],!1,null,"7ed8a9f0",null);e["default"]=c.exports},"068f":function(t,e,n){"use strict";n.r(e);var a=n("640f"),i=n.n(a);for(var s in a)["default"].indexOf(s)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(s);e["default"]=i.a},"0d689":function(t,e,n){"use strict";n("ef83")},"11a6":function(t,e,n){t.exports=n.p+"static/dist/shop/img/module-custom.png"},"15d4":function(t,e,n){},"2ac2":function(t,e,n){t.exports=n.p+"static/dist/shop/img/module-index.png"},"3ba7":function(t,e,n){"use strict";n.r(e);var a=n("f65b"),i=n("bcb3");for(var s in i)["default"].indexOf(s)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(s);n("7fb0");var o=n("2877"),c=Object(o["a"])(i["default"],a["a"],a["b"],!1,null,"4df17076",null);e["default"]=c.exports},"4c0c":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex page-temp blank-temp"},[n("i",{staticClass:"iconfont icon-tianjiakongbaimoban create-icon"}),n("span",{staticClass:"blank-desc"},[t._v("使用空白模板")])])}],s=(n("0d689"),n("2877")),o={},c=Object(s["a"])(o,a,i,!1,null,"b5e685ae",null);e["default"]=c.exports},"4e1f":function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"SelectPageType",props:{codeList:{type:Array,default:function(){return["10","11","12","0"]}}},data:function(){return{type:"10",value:!1}},watch:{codeList:{handler:function(){this.type=this.codeList[0]},immediate:!0}},methods:{setValue:function(){this.value=!this.value},handleOk:function(){this.$emit("on-change",this.type),this.setValue()},handleCancel:function(){this.setValue()},selectPage:function(t){this.type=t},getPageSet:function(t){var e={0:{src:n("11a6"),text:"自定义页面",icon:"icon-zidingyiyemian"},10:{src:n("2ac2"),text:"商城首页",icon:"icon-zuocedaohang-dianpu"},11:{src:n("5474"),text:"商品详情",icon:"icon-yemianleixing-xiangqing"},12:{src:n("cf8e"),text:"会员中心",icon:"icon-zuocedaohang-huiyuan"},20:{src:n("2ac2"),text:"分销中心"}};return e[t]}}};e.default=a},"5e67":function(t,e,n){"use strict";n.r(e);var a=n("eaac"),i=n("068f");for(var s in i)["default"].indexOf(s)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(s);n("9b767");var o=n("2877"),c=Object(o["a"])(i["default"],a["a"],a["b"],!1,null,"5353fbf9",null);e["default"]=c.exports},"640f":function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:{info:{type:Object,default:function(){}},tempHover:{type:Boolean,default:!1},delabled:{type:Boolean,default:!0},showUpdate:{type:Boolean,default:!0}},computed:{noManagePerm:function(){return!this.$getPermMap("diypage.template.manage")}},methods:{delTemp:function(){this.$emit("on-delete",this.info.id)},useTemp:function(){this.$emit("on-use",this.info.id,this.info.type)}}};e.default=n},"659d":function(t,e,n){"use strict";n.r(e);var a=n("ea84"),i=n("dda9");for(var s in i)["default"].indexOf(s)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(s);n("cd52");var o=n("2877"),c=Object(o["a"])(i["default"],a["a"],a["b"],!1,null,"50065431",null);e["default"]=c.exports},"6b0f":function(t,e,n){},"7fb0":function(t,e,n){"use strict";n("e096")},"8a21":function(t,e,n){"use strict";n("15d4")},"9b767":function(t,e,n){"use strict";n("e54a")},"9ea4":function(t,e,n){var a=n("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("5e67")),s=a(n("4c0c")),o={props:{type:String},components:{PageTemp:i.default,BlankTemp:s.default},data:function(){return{value:!1,typeList:[{id:"0",name:"我的模板"},{id:"1",name:"模板市场"}],checkType:"0",page:1,total:0,lists:[]}},watch:{checkType:function(){this.page=1,this.getList()},value:function(){this.value&&this.getList()}},methods:{getList:function(){var t=this;"0"==this.checkType?this.$api.shopApi.getNewMyTempList({type:this.type,pagesize:10,page:this.page}).then((function(e){var n=e.error,a=e.list,i=e.total;0===n&&(t.page=t.page+1,t.lists=a,t.total=i)})):this.$api.shopApi.getNewSystemTemp({type:this.type,pagesize:12,page:this.page}).then((function(e){var n=e.error,a=e.list,i=e.total;0===n&&(t.page=t.page+1,t.lists=a,t.total=i)}))},changeTempList:function(){this.checkType="1"},clickItem:function(t){this.$emit("on-use",t)},handleCancel:function(){this.$emit("on-close")},chooseAgain:function(){this.$emit("on-choose")},pageChange:function(t){this.page=t,this.getList()},setValue:function(){this.page=1,this.value=!this.value}}};e.default=o},ad95:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("kdx-modal-frame",{staticClass:"select-page-temp",attrs:{width:1e3},on:{"on-cancel":t.handleCancel},scopedSlots:t._u([{key:"header",fn:function(){return[n("div",{staticClass:"flex modal-header"},[n("div",{staticClass:"back",on:{click:t.chooseAgain}},[n("i",{staticClass:"iconfont icon-line-left back-icon"}),n("span",{staticClass:"back-text"},[t._v("返回")])]),n("div",{staticClass:"header-title"},[t._v("选择模板")])])]},proxy:!0},{key:"footer",fn:function(){return[n("div",{staticClass:"modal-footer flex"},[n("Page",{attrs:{total:t.total,"page-size":10,"show-total":"","show-elevator":"",transfer:""},on:{"on-change":t.pageChange}})],1)]},proxy:!0}]),model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[n("div",{staticClass:"tab-content"},[n("Tabs",{attrs:{animated:!1},model:{value:t.checkType,callback:function(e){t.checkType=e},expression:"checkType"}},t._l(t.typeList,(function(e){return n("TabPane",{key:e.id,attrs:{label:e.name,name:e.id}},[t.lists.length||"0"===t.type&&"0"==t.checkType?n("div",{staticClass:"flex temp-content"},[n("div",{staticClass:"flex",staticStyle:{"flex-wrap":"wrap"}},["0"===t.type?n("blank-temp",{attrs:{tempHover:""},nativeOn:{click:function(e){return t.clickItem("")}}}):t._e(),t._l(t.lists,(function(e){return n("page-temp",{key:e.id,attrs:{delabled:!1,info:e,showUpdate:"0"==t.checkType,tempHover:""},on:{"on-use":function(n){return t.clickItem(e.id)}}})}))],2)]):n("div",{staticClass:"flex temp-content"},[n("div",{staticClass:"empty-data"},[n("i",{staticClass:"iconfont icon-fenxiao-leijiyongjin- empty-icon"}),"1"==t.checkType?n("div",{staticClass:"empty-text"},[t._v("暂无模板")]):n("div",{staticClass:"empty-text"},[t._v(" 暂无可使用的模板， "),n("span",{staticClass:"empty-btn",on:{click:t.changeTempList}},[t._v("去模板市场")])])])])])})),1)],1)])},i=[]},bcb3:function(t,e,n){"use strict";n.r(e);var a=n("e08a"),i=n.n(a);for(var s in a)["default"].indexOf(s)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(s);e["default"]=i.a},cd52:function(t,e,n){"use strict";n("6b0f")},cf8e:function(t,e,n){t.exports=n.p+"static/dist/shop/img/module-vip.png"},d4e4:function(t,e,n){"use strict";n.r(e);var a=n("9ea4"),i=n.n(a);for(var s in a)["default"].indexOf(s)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(s);e["default"]=i.a},dda9:function(t,e,n){"use strict";n.r(e);var a=n("4e1f"),i=n.n(a);for(var s in a)["default"].indexOf(s)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(s);e["default"]=i.a},e08a:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("a9e3");var a={name:"PageList",props:{data:{type:Array,default:function(){return[]}},total:{type:Number,default:0},loading:{type:Boolean,default:!1},goodsId:{type:String,default:"0"}},data:function(){var t=this;this.$createElement;return{columns:[{title:"页面名称",key:"name",render:function(t,e){return t("div",{class:"page-title"},[t("span",{class:"title"},[e.row[e.column.key]]),t("span",{class:"default",style:{display:"1"===e.row.is_default?"inline-block":"none"}},["默认"])])}},{title:"页面类型",key:"type",render:function(t,e){var n;return"10"==e.row.type?n=t("span",{class:"iconfont icon-shouye1"}):"11"==e.row.type?n=t("span",{class:"iconfont icon-xiangqing"}):"12"==e.row.type&&(n=t("span",{class:"iconfont icon-huiyuanzhongxin1"})),e.row.type_text?t("div",{class:"page-type"},[n,t("span",{class:"page-name"},[e.row.type_text])]):t("div",["-"])}},{title:"状态",key:"status",render:function(t,e){var n=e.row,a=n.status,i=n.type,s=n.status_text;return"1"===a?t("kdx-tag-label",{attrs:{type:"success"}},["应用中"]):0==i?t("div",{class:"custom-tag"},["-"]):t("kdx-tag-label",{attrs:{type:"disabled"}},[s])}},{title:"修改时间",key:"updated_at",render:function(t,e){return"0000-00-00 00:00:00"===e.row.updated_at?t("div",[e.row.created_at]):t("div",[e.row.updated_at])}},{title:"操作",key:"action",render:function(e,n){var a;"10"==n.row.type?a=e("kdx-hint-tooltip",{attrs:{type:"qrCode",url:t.getPreviewUrl(n.row,"page-index",""),text:"复制页面链接"}},[e("Button",{attrs:{type:"text"}},["预览"])]):"11"==n.row.type?a=e("kdx-hint-tooltip",{attrs:{type:"qrCode",url:t.getPreviewUrl(n.row,"page-detail",t.goodsId),text:"复制页面链接"}},[e("Button",{attrs:{type:"text"}},["预览"])]):"12"==n.row.type?a=e("kdx-hint-tooltip",{attrs:{type:"qrCode",url:t.getPreviewUrl(n.row,"page-vip",n.row.id),text:"复制页面链接"}},[e("Button",{attrs:{type:"text"}},["预览"])]):"20"==n.row.type?a=e("kdx-hint-tooltip",{attrs:{type:"qrCode",url:t.getPreviewUrl(n.row,"page-commission",n.row.id),text:"复制页面链接"}},[e("Button",{attrs:{type:"text"}},["预览"])]):"0"==n.row.type&&(a=e("kdx-hint-tooltip",{attrs:{type:"qrCode",url:t.getPreviewUrl(n.row,"page-custom",n.row.id),text:"复制页面链接"}},[e("Button",{attrs:{type:"text"}},["预览"])]));var i="0"==n.row.status?e("Button",{attrs:{type:"text",disabled:t.noManagePerm},on:{click:function(){t.handleDelete(n.row)}},style:{display:"1"===n.row.is_used?"none":"inline-block"}},["删除"]):null;return e("div",{class:"action"},[e("Button",{attrs:{type:"text",disabled:t.noManagePerm},on:{click:function(){t.editPage(n.row)}}},["编辑"]),a,i])}}]}},computed:{noManagePerm:function(){return!this.$getPermMap("diypage.page.list.manage")}},methods:{handlePageChange:function(t){this.$emit("on-page-change",t)},editPage:function(t){this.$emit("on-edit",t)},handleDelete:function(t){var e=this;this.$Modal.confirm({title:"提示",content:"确认彻底删除此页面？",onOk:function(){e.$api.shopApi.deletePage({id:t.id,type:t.type}).then((function(t){0===t.error&&(e.$Message.success("该页面删除成功"),e.handleRefresh())}))},onCancel:function(){}})},handleRefresh:function(){this.$emit("on-refresh"),this.reset()},reset:function(){this.$refs["page"].reset()},getPreviewUrl:function(t,e,n){var a=t.id,i=t.status,s=this.$utils,o=s.addQueryParams,c=s.getPreviewUrl,r=c(e,n);return"0"==i&&(r=o(r,{previewId:a})),r}}};e.default=a},e096:function(t,e,n){},e54a:function(t,e,n){},ea84:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("kdx-modal-frame",{attrs:{title:"选择页面类型",width:1e3,"class-name":"select-page-type-modal","ok-text":"确认选择"},on:{"on-cancel":t.handleCancel,"on-ok":t.handleOk},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[n("div",{staticClass:"select-page-type"},[n("div",{staticClass:"type-content"},t._l(t.codeList,(function(e,a){return n("div",{key:a,staticClass:"type-item",class:{"item-checked":t.type===e},on:{click:function(n){return t.selectPage(e)}}},[t.type===e?n("i",{staticClass:"iconfont icon-yes1 check-icon"}):t._e(),n("div",{staticClass:"type-container"},[n("div",{staticClass:"type-mask"}),n("div",{staticClass:"image"},[n("img",{attrs:{src:t.getPageSet(e).src,alt:""}})]),n("div",{staticClass:"radio",class:{checked:t.type===e}},[n("i",{staticClass:"iconfont page-icon",class:t.getPageSet(e).icon}),n("span",{staticClass:"name"},[t._v(t._s(t.getPageSet(e).text))])])])])})),0)])])},i=[]},eaac:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-temp",class:{has_hover:t.tempHover}},[n("div",{staticClass:"temp-img-content",style:{"background-image":"url("+t.$utils.media(t.info.thumb)+")"}},[n("div",{staticClass:"temp-action flex"},[n("div",{staticClass:"temp-action-btn primary",class:{"temp-action-btn-disabled":t.noManagePerm},on:{click:t.useTemp}},[t._v("使用模板")]),n("div",{staticClass:"temp-action-btn danger",class:{"temp-action-btn-disabled":t.noManagePerm},on:{click:t.delTemp}},[t._v("删除模板")])])]),n("div",{staticClass:"temp-detail"},["0"==t.info.type?n("div",{staticClass:"price-tag custom"},[t._v("自定义")]):n("div",{staticClass:"price-tag free"},[t._v("免费使用")]),n("div",{staticClass:"line-hide temp-name"},[t._v(t._s(t.info.name))]),t.showUpdate?n("div",{staticClass:"temp-time"},[t._v("更新时间："+t._s(t.info.created_at))]):t._e()])])},i=[]},ef83:function(t,e,n){},f65b:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"shop-page-list"},[n("Table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{columns:t.columns,data:t.data}}),n("div",{staticClass:"footer-page"},[n("kdx-page-component",{ref:"page",attrs:{total:t.total},on:{"on-change":t.handlePageChange}})],1)],1)},i=[]}}]);