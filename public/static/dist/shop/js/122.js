(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[122],{4589:function(e,t,a){e.exports=a.p+"static/dist/shop/img/refund-tip.png"},"696c":function(e,t,a){var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a("5530")),i=n(a("15fd")),d=["error"],s={name:"index",components:{},data:function(){var e=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];t[2]()};return{model:{apply_type:"2",apply_days:0,refund_info:"",single_refund_enable:"1",platform_join:"1",timeout_cancel_refund:"0",timeout_cancel_refund_days:1},defaultInfo:{},rules:{apply_days:[{required:!0,message:"请输入完成天数"}],apply_type:[{validator:e}],timeout_cancel_refund_days:[{required:!0,message:"请输入取消维权时间"}],timeout_cancel_refund:[{validator:e}]}}},computed:{noManagePerm:function(){return!this.$getPermMap("sysset.refund.manage")}},mounted:function(){this.getData()},methods:{stringToNum:function(e){return"string"===typeof e&&"null"!=e?parseFloat(e):null},getData:function(){var e=this;this.$api.settingApi.getSafeguardSetting().then((function(t){var a=t.error,n=(0,i.default)(t,d);0===a&&(n.apply_days=e.stringToNum(n.apply_days),e.model=(0,l.default)((0,l.default)({},e.model),n),e.defaultInfo=(0,l.default)({},n))}))},handleSave:function(){var e=this;this.$refs.form.validate((function(t){t&&e.handleSubmit()}))},handleSubmit:function(){var e=this,t=(0,l.default)({},this.model);"1"==t.apply_type&&(delete t.apply_days,t=(0,l.default)((0,l.default)({},this.defaultInfo),t)),this.$api.settingApi.editSafeguardSetting(t).then((function(t){0==t.error&&(e.getData(),e.$Message.success("保存成功"))}))}}};t.default=s},"6c0e":function(e,t,a){"use strict";a("b459")},"6f3fd":function(e,t,a){e.exports=a.p+"static/dist/shop/img/single-refund.png"},"85ac":function(e,t,a){"use strict";a.r(t);var n=a("fd7e4"),l=a("a776");for(var i in l)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return l[e]}))}(i);a("6c0e");var d=a("2877"),s=Object(d["a"])(l["default"],n["a"],n["b"],!1,null,"27241885",null);t["default"]=s.exports},a776:function(e,t,a){"use strict";a.r(t);var n=a("696c"),l=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=l.a},b459:function(e,t,a){},fd7e4:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return l}));var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("kdx-content-bar",{scopedSlots:e._u([{key:"btn",fn:function(){return[n("Button",{staticClass:"primary-long",attrs:{disabled:e.noManagePerm},on:{click:e.handleSave}},[e._v("保存")])]},proxy:!0}])},[n("div",{staticClass:"safeguard-content"},[n("kdx-form-title",[e._v("维权设置")]),n("Form",{ref:"form",attrs:{model:e.model,rules:e.rules,"label-width":140},nativeOn:{submit:function(e){e.preventDefault()}}},[n("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"售后维权申请：",prop:"apply_type"}},[n("RadioGroup",{model:{value:e.model.apply_type,callback:function(t){e.$set(e.model,"apply_type",t)},expression:"model.apply_type"}},[n("Radio",{attrs:{disabled:e.noManagePerm,label:"1"}},[n("span",[e._v("完成订单不允许售后")])]),n("Radio",{attrs:{disabled:e.noManagePerm,label:"2"}},[n("span",[e._v("自定义时间")])])],1),"2"==e.model.apply_type?n("div",{staticClass:"main marginT-10"},[n("FormItem",{staticClass:"number-input label-width-100 refund-input",attrs:{label:"订单完成",prop:"apply_days"}},[n("div",{staticClass:"flex width-160 "},[n("kdx-rr-input",{attrs:{disabled:e.noManagePerm,number:"",minValue:0,maxValue:30,fixed:0},model:{value:e.model.apply_days,callback:function(t){e.$set(e.model,"apply_days",t)},expression:"model.apply_days"}}),n("span",{staticClass:"ivu-input-group-append item-append"},[e._v("天")])],1),n("span",{staticClass:"paddingL"},[e._v("内可发起售后维权")])]),n("kdx-hint-text",{staticStyle:{"margin-left":"120px"}},[e._v("售后维权时间必须在订单完成0-30天之间。")])],1):e._e()],1),n("FormItem",{attrs:{label:"退款说明："}},[n("Input",{staticStyle:{width:"500px"},attrs:{disabled:e.noManagePerm,type:"textarea",autosize:"",placeholder:"订单完成后七天内退换货"},model:{value:e.model.refund_info,callback:function(t){e.$set(e.model,"refund_info",t)},expression:"model.refund_info"}}),n("kdx-hint-text",[e._v(" 用户在申请退款页面的说明 "),n("kdx-hint-tooltip",{attrs:{type:"image",image:a("4589")}})],1)],1),n("FormItem",{attrs:{label:"单品退换货："}},[n("RadioGroup",{model:{value:e.model.single_refund_enable,callback:function(t){e.$set(e.model,"single_refund_enable",t)},expression:"model.single_refund_enable"}},[n("Radio",{attrs:{disabled:e.noManagePerm,label:"1"}},[n("span",[e._v("开启")])]),n("Radio",{attrs:{disabled:e.noManagePerm,label:"0"}},[n("span",[e._v("关闭")])])],1),n("kdx-hint-text",[e._v(" 开启后，订单支持单件商品退换，订单优惠金额按比例分摊至每件商品 "),n("kdx-hint-tooltip",{attrs:{type:"image",image:a("6f3fd")}})],1)],1),n("FormItem",{staticClass:"r-form-item-checkbox",attrs:{label:"超时取消维权：",prop:"timeout_cancel_refund "}},[n("RadioGroup",{model:{value:e.model.timeout_cancel_refund,callback:function(t){e.$set(e.model,"timeout_cancel_refund",t)},expression:"model.timeout_cancel_refund"}},[n("Radio",{attrs:{disabled:e.noManagePerm,label:"0"}},[n("span",[e._v("永不关闭")])]),n("Radio",{attrs:{disabled:e.noManagePerm,label:"1"}},[n("span",[e._v("自定义关闭时间")])])],1),"1"==e.model.timeout_cancel_refund?n("div",{staticClass:"main marginT-10"},[n("FormItem",{staticClass:"number-input label-width-300 refund-input",attrs:{label:"商家同意退货退款/换货申请后",prop:"timeout_cancel_refund_days"}},[n("div",{staticClass:"flex width-160 "},[n("kdx-rr-input",{attrs:{disabled:e.noManagePerm,number:"",minValue:1,maxValue:30,fixed:0},model:{value:e.model.timeout_cancel_refund_days,callback:function(t){e.$set(e.model,"timeout_cancel_refund_days",t)},expression:"model.timeout_cancel_refund_days"}}),n("span",{staticClass:"ivu-input-group-append item-append"},[e._v("天")])],1),n("span",{staticClass:"paddingL"},[e._v("内买家未提交快递单号的，自动取消售后维权")])]),n("kdx-hint-text",{staticStyle:{"margin-left":"250px"}},[e._v("取消售后维权时间必须在1-30天之间。")])],1):e._e()],1)],1)],1)])},l=[]}}]);