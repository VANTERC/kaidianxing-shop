(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[10],{"09f0":function(t,e,a){function n(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var a=[],n=!0,o=!1,l=void 0;try{for(var i,r=t[Symbol.iterator]();!(n=(i=r.next()).done);n=!0)if(a.push(i.value),e&&a.length===e)break}catch(c){o=!0,l=c}finally{try{n||null==r["return"]||r["return"]()}finally{if(o)throw l}}return a}}a("a4d3"),a("e01a"),a("d28b"),a("e260"),a("d3b7"),a("3ca3"),a("ddb0"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},"0d21":function(t,e){function a(t){if(Array.isArray(t))return t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=a},3835:function(t,e,a){Object.defineProperty(e,"__esModule",{value:!0}),e.default=c;var n=r(a("0d21")),o=r(a("09f0")),l=r(a("06c5")),i=r(a("3d8c"));function r(t){return t&&t.__esModule?t:{default:t}}function c(t,e){return(0,n.default)(t)||(0,o.default)(t,e)||(0,l.default)(t,e)||(0,i.default)()}},"3d8c":function(t,e){function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=a},"45fc":function(t,e,a){"use strict";var n=a("23e7"),o=a("b727").some,l=a("a640"),i=a("ae40"),r=l("some"),c=i("some");n({target:"Array",proto:!0,forced:!r||!c},{some:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},"4fad":function(t,e,a){var n=a("23e7"),o=a("6f53").entries;n({target:"Object",stat:!0},{entries:function(t){return o(t)}})},"5d99":function(t,e,a){},"6c16":function(t,e,a){var n=a("4ea4");a("4160"),a("d81d"),a("45fc"),a("4fad"),a("c1f9"),a("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(a("5530")),l=n(a("3835")),i=a("e60d"),r={data:function(){var t=this;return{formData:{execute_type:"0"},rules:{execute_type:[{required:!0,message:"请选择任务类型"}]},highSelectAllFlag:!1,lowSelectAllFlag:!1,columns:[{title:"统一设置",align:"right",slot:"setting"},{title:"高效能模式",align:"center",slot:"high",renderHeader:function(e,a){return e("div",[e("Checkbox",{props:{value:t.highSelectAllFlag},on:{"on-change":function(){var e=t.highSelectAllFlag;t.highSelectAllFlag=!e,t.lowSelectAllFlag=e,t.data.forEach((function(e){e.highFlag=t.highSelectAllFlag,e.lowFlag=!t.highSelectAllFlag}))}}},a.column.title)])}},{title:"低效能模式",align:"center",slot:"low",renderHeader:function(e,a){return e("div",[e("Checkbox",{props:{value:t.lowSelectAllFlag},on:{"on-change":function(){var e=t.lowSelectAllFlag;t.lowSelectAllFlag=!e,t.highSelectAllFlag=e,t.data.forEach((function(e){e.lowFlag=t.lowSelectAllFlag,e.highFlag=!t.lowSelectAllFlag}))}}},a.column.title)])}}],data:[{setting:"自动关闭未付款订单",high:"10分钟/次",low:"30分钟/次",highFlag:!0,lowFlag:!1,tooltips:""},{setting:"关闭未付款订单通知",high:"10分钟/次",low:"30分钟/次",highFlag:!0,lowFlag:!1,tooltips:""},{setting:"自动收货",high:"10分钟/次",low:"30分钟/次",highFlag:!0,lowFlag:!1,tooltips:""},{setting:"优惠券自动返利",high:"10分钟/次",low:"30分钟/次",highFlag:!0,lowFlag:!1,tooltips:""},{setting:"商品自动上下架",high:"10分钟/次",low:"30分钟/次",highFlag:!0,lowFlag:!1,tooltips:""}],submitLoading:!1}},watch:{data:{handler:function(t){this.highSelectAllFlag=!t.some((function(t){return!1===t.highFlag})),this.lowSelectAllFlag=!t.some((function(t){return!1===t.lowFlag}))},deep:!0,immediate:!0}},created:function(){this.getCrontab()},methods:{getCrontab:function(){var t=this;(0,i.getCrontab)({}).then((function(e){0===e.error&&(t.formData.execute_type=e.execute_type+"",t.data=e.params.map((function(t){return{setting:t.title,high:"10分钟/次",low:"30分钟/次",highFlag:10===t.value,lowFlag:30===t.value,tooltips:t.tips,resKey:t.key}})))}))},handleSubmit:function(){var t=this.data.map((function(t){for(var e,a,n=0,o=Object.entries(t);n<o.length;n++){var i=(0,l.default)(o[n],2),r=i[0],c=i[1];"highFlag"===r&&(a=c),"resKey"===r&&(e=c)}return[e,a?10:30]}));t=Object.fromEntries(t),this.postCrontab(t)},postCrontab:function(t){var e=this;this.submitLoading=!0,(0,i.postCrontab)((0,o.default)({execute_type:this.formData.execute_type},t)).then((function(t){e.submitLoading=!1,0===t.error&&e.$Message.success("保存成功")}))},highRadioChange:function(t){this.data[t].lowFlag=!1},lowRadioChange:function(t){this.data[t].highFlag=!1}}};e.default=r},"6f53":function(t,e,a){var n=a("83ab"),o=a("df75"),l=a("fc6a"),i=a("d1e7").f,r=function(t){return function(e){var a,r=l(e),c=o(r),u=c.length,s=0,d=[];while(u>s)a=c[s++],n&&!i.call(r,a)||d.push(t?[a,r[a]]:r[a]);return d}};t.exports={entries:r(!0),values:r(!1)}},9040:function(t,e,a){"use strict";var n=a("5d99"),o=a.n(n);o.a},aa04:function(t,e,a){"use strict";a.r(e);var n=a("e89b"),o=a("aacc");for(var l in o)"default"!==l&&function(t){a.d(e,t,(function(){return o[t]}))}(l);a("9040");var i=a("2877"),r=Object(i["a"])(o["default"],n["a"],n["b"],!1,null,"7df61b48",null);e["default"]=r.exports},aacc:function(t,e,a){"use strict";a.r(e);var n=a("6c16"),o=a.n(n);for(var l in n)"default"!==l&&function(t){a.d(e,t,(function(){return n[t]}))}(l);e["default"]=o.a},c1f9:function(t,e,a){var n=a("23e7"),o=a("2266"),l=a("8418");n({target:"Object",stat:!0},{fromEntries:function(t){var e={};return o(t,(function(t,a){l(e,t,a)}),void 0,!0),e}})},e60d:function(t,e,a){Object.defineProperty(e,"__esModule",{value:!0}),e.postCrontab=e.getCrontab=void 0;var n=a("66df"),o=function(t){return(0,n.get)("admin/data/crontab/get",t)};e.getCrontab=o;var l=function(t){return(0,n.post)("admin/data/crontab/set",t)};e.postCrontab=l},e89b:function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"b",(function(){return o}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("content-bar",{scopedSlots:t._u([{key:"btn",fn:function(){return[a("Button",{attrs:{type:"primary",loading:t.submitLoading},on:{click:t.handleSubmit}},[t._v("提交 ")])]},proxy:!0}])},[a("div",{staticClass:"container"},[a("div",{staticClass:"content"},[a("hint-alert",{attrs:{showIcon:!1}},[a("div",{staticClass:"description"},[a("div",{staticClass:"tit"},[t._v("任务类型说明")]),a("div",{staticClass:"desc"},[t._v(" 被动触发：当有用户访问商城时计划任务才进行工作，根据任务模式的参数进行任务内容 ")]),a("div",{staticClass:"desc"},[t._v(" 代码配置：需要配置操作系统的计划任务,如果没有配置，则不会进行自动收货等计划任务 ")])])]),a("div",{staticClass:"content-body"},[a("Form",{ref:"form",attrs:{model:t.formData,"label-width":120,rules:t.rules}},[a("FormItem",{attrs:{label:"任务类型：",prop:"execute_type"}},[a("RadioGroup",{model:{value:t.formData.execute_type,callback:function(e){t.$set(t.formData,"execute_type",e)},expression:"formData.execute_type"}},[a("Radio",{attrs:{label:"0"}},[a("span",[t._v("被动触发")])]),a("Radio",{attrs:{label:"1"}},[a("span",[t._v("代码配置（主动触发）")])])],1)],1),"0"===t.formData.execute_type?a("div",{staticClass:"passive"},[a("Table",{attrs:{border:"",columns:t.columns,data:t.data},scopedSlots:t._u([{key:"setting",fn:function(e){var n=e.row;return[a("span",{staticClass:"text"},[t._v(t._s(n.setting))]),n.tooltips?a("Tooltip",{attrs:{placement:"top","max-width":"200",content:n.tooltips,theme:"light"}},[a("i",{staticClass:"iconfont icon-icon-test",staticStyle:{"margin-left":"5px"}})]):t._e()]}},{key:"high",fn:function(e){var n=e.row,o=e.index;return[a("Radio",{on:{"on-change":function(e){return t.highRadioChange(o)}},model:{value:t.data[o].highFlag,callback:function(e){t.$set(t.data[o],"highFlag",e)},expression:"data[index].highFlag"}},[t._v(" "+t._s(n.high)+" ")])]}},{key:"low",fn:function(e){var n=e.row,o=e.index;return[a("Radio",{on:{"on-change":function(e){return t.lowRadioChange(o)}},model:{value:t.data[o].lowFlag,callback:function(e){t.$set(t.data[o],"lowFlag",e)},expression:"data[index].lowFlag"}},[t._v(" "+t._s(n.low)+" ")])]}}],null,!1,1778440282)})],1):t._e()],1)],1)],1)])])},o=[]}}]);