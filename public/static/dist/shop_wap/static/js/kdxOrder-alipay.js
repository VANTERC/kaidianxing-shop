(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[77],{"0008":function(e,t,o){"use strict";o.r(t);var i=o("1627"),r=o("bc26");for(var n in r)["default"].indexOf(n)<0&&function(e){o.d(t,e,(function(){return r[e]}))}(n);o("0278");var a,s=o("f0c5"),u=Object(s["a"])(r["default"],i["b"],i["c"],!1,null,"51cb545a",null,!1,i["a"],a);t["default"]=u.exports},"0278":function(e,t,o){"use strict";var i=o("4547"),r=o.n(i);r.a},1627:function(e,t,o){"use strict";var i;o.d(t,"b",(function(){return r})),o.d(t,"c",(function(){return n})),o.d(t,"a",(function(){return i}));var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("page-box",[o("v-uni-view",{staticClass:"order-alipay"},[o("v-uni-view",{staticClass:"alipay-guide"},[e.isWeixin?o("v-uni-view",{staticClass:"tips"},[e._v('点击右上角"..."用浏览器打开进行快速支付。')]):e._e(),o("v-uni-textarea",{staticStyle:{position:"fixed",opacity:"0",bottom:"0"},attrs:{readonly:!0,type:"text",id:"input"}})],1)],1)],1)},n=[]},3976:function(e,t,o){(function(e){var i=o("288e"),r=o("7037");o("ac6a"),o("5df3"),o("10ad"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o("a481"),o("28a5");var n=i(o("a64f")),a=u(o("325c"));function s(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,o=new WeakMap;return(s=function(e){return e?o:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var o=s(t);if(o&&o.has(e))return o.get(e);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=n?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(i,a,u):i[a]=e[a]}return i.default=e,o&&o.set(e,i),i}var c={mixins:[n.default],data:function(){return{url:"",orderId:"",searchTime:0,payStep:1,pageFrom:"",couponId:"",paySuccessFlag:!1,timer:null}},computed:{isWeixin:function(){return a.is_weixin()}},onShow:function(){this.isWeixin&&this.paySuccessFlag&&this.jumpGoPage()},mounted:function(){var t=this;if(e.error(this.$Route.query.url_alipay,"支付情况"),a.is_weixin()){this.url=decodeURI(this.$Route.query.url_alipay),"1"==this.$Route.query.orderID?this.orderId=this.$Route.query.id.split()||this.orderId:this.orderId=this.$Route.query.id||this.orderId,this.pageFrom=this.$Route.query.pageFrom,this.couponId=this.$Route.query.couponId;var o=this;this.timer=setInterval((function(){o.searchTime<150?(o.paySuccess(),o.searchTime++):(clearInterval(t.timer),t.$toast("查询支付结果失败"),setTimeout((function(){t.jumpBackPage()}),2e3))}),2e3)}else window.location.href=this.$Route.query.url_alipay},beforeDestroy:function(){clearInterval(this.timer)},methods:{handleCopy:function(){var t=this;e.log(this.url,"this.url>>>>>>"),uni.setClipboardData({data:this.url,success:function(){t.$toast("复制成功")}})},paySuccess:function(){var e=this;if("coupunPay"===this.pageFrom)this.$api.memberApi.checkCouponPayStatus({id:this.orderId,pay_type:"alipay"},{errorToast:!1}).then((function(t){0==t.error&&(e.paySuccessFlag=!0,e.$toast("支付成功"),e.jumpGoPage(),clearInterval(e.timer))}));else if("recharge"===this.pageFrom)this.$api.memberApi.checkFinancePayStatus({id:this.orderId,pay_type:"alipay"},{errorToast:!1}).then((function(t){0==t.error&&(e.paySuccessFlag=!0,e.$toast("支付成功"),e.jumpGoPage(),clearInterval(e.timer))}));else if("planPay"===this.pageFrom)this.$api.merchantsApi.checkPayStatus({order_id:this.orderId},{errorToast:!1}).then((function(t){0==t.error&&t.success&&(e.paySuccessFlag=!0,e.$toast("支付成功"),e.jumpGoPage(),clearInterval(e.timer))}));else{var t={order_id:this.orderId,pay_type:"alipay"};this.$api.orderApi.orderPayResult(t,{errorToast:!1}).then((function(t){0==t.error&&(e.paySuccessFlag=!0,e.$toast("支付成功"),e.jumpGoPage(),clearInterval(e.timer))}))}},jumpGoPage:function(){var e=this;this.$nextTick((function(){"coupunPay"===e.pageFrom?e.$Router.replace({path:"/kdxMember/coupon/paySuccess/index",query:{id:e.couponId}}):"recharge"===e.pageFrom?setTimeout((function(){e.$Router.back(1)}),1500):e.$Router.replace({path:"/kdxOrder/paySuccess",query:{id:e.orderId}})}))},jumpBackPage:function(){var e=this;this.$nextTick((function(){"coupunPay"===e.pageFrom?e.$Router.replace({path:"/kdxMember/coupon/detail/index",query:{id:e.couponId}}):"recharge"===e.pageFrom?e.$Router.replace({path:"/kdxMember/balance/index"}):"planPay"===e.pageFrom?setTimeout((function(){e.$Router.back(1)}),1500):e.$Router.replace({path:"/kdxOrder/detail",query:{id:e.orderId}})}))}}};t.default=c}).call(this,o("5a52")["default"])},4547:function(e,t,o){var i=o("beca");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=o("4f06").default;r("48390da6",i,!0,{sourceMap:!1,shadowMode:!1})},a64f:function(e,t,o){(function(e){var i=o("288e");o("8e6e"),o("ac6a"),o("456d"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o("28a5");var r=i(o("bd86")),n=o("2f62"),a=i(o("fead")),s=(i(o("b531")),o("3014"));function u(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,i)}return o}function c(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?u(Object(o),!0).forEach((function(t){(0,r.default)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):u(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var d={created:function(){this.startTime=+new Date},data:function(){return{loadingFlg:0}},watch:{isSkeleton:function(e){e||++this.loadingFlg}},mounted:function(){e.error("组建的渲染时间："+this.__route__+"："+(+new Date-this.startTime))},computed:c(c({},(0,n.mapGetters)("loading",["isSkeleton"])),(0,n.mapState)("setting",{shareTitle:function(e){var t,o;return(null===(t=e.systemSetting)||void 0===t||null===(o=t.share)||void 0===o?void 0:o.title)||""},shareDesc:function(e){var t,o;return(null===(t=e.systemSetting)||void 0===t||null===(o=t.share)||void 0===o?void 0:o.description)||""},shareLogo:function(e){var t,o;return null===(t=e.systemSetting)||void 0===t||null===(o=t.share)||void 0===o?void 0:o.logo}})),methods:{handlerOptions:function(e){if(null!==e&&void 0!==e&&e.scene){for(var t=decodeURIComponent(decodeURIComponent(null===e||void 0===e?void 0:e.scene)).split("&"),o={},i=0;i<t.length;i++){var r=t[i].split("=");o[r[0]]=r[1]}null!==o&&void 0!==o&&o.inviter_id&&s.sessionStorage.setItem("inviter-id",o.inviter_id)}}},onPullDownRefresh:function(){var e=this;"function"==typeof this.pullDownRefresh&&this.pullDownRefresh(),setTimeout((function(){e.$closePageLoading()}),2e3)},onLoad:function(e){this.showTabbar=!0},onShow:function(){var e,t,o;uni.hideLoading(),a.default.setNavigationBarColor(this.$Route),this.$decorator.getPage(this.$Route.path).onLoad();var i,r,n,u,c=this.$Route.query;(null!==c&&void 0!==c&&c.inviter_id&&s.sessionStorage.setItem("inviter-id",c.inviter_id),this.$decorator.getDecorateModel({pagePath:this.$Route.path,otherdata:c}),null!==(e=this.pageInfo)&&void 0!==e&&e.gotop&&null!==(t=this.pageInfo.gotop.params)&&void 0!==t&&t.scrollTop)?this.$decorator.getPage(this.$Route).setPageInfo({gotop:{show:(null===(i=this.pageInfo.gotop)||void 0===i||null===(r=i.params)||void 0===r?void 0:r.scrollTop)>=(null===(n=this.pageInfo.gotop)||void 0===n||null===(u=n.params)||void 0===u?void 0:u.gotopheight)}},"pagemixin/onshow1"):null!==(o=this.pageInfo)&&void 0!==o&&o.gotop&&this.$decorator.getPage(this.$Route).setPageInfo({gotop:{show:!1,params:{scrolltop:0}}},"pagemixin/onshow2")},onHide:function(){this.$decorator.getPage(this.$Route).setPageInfo({gotop:{show:!1}},"pagemixin/onhide"),this.$closePageLoading()},onPageScroll:function(e){this.$decorator.getModule("gotop").onPageScroll(e,this.$Route)}};t.default=d}).call(this,o("5a52")["default"])},bc26:function(e,t,o){"use strict";o.r(t);var i=o("3976"),r=o.n(i);for(var n in i)["default"].indexOf(n)<0&&function(e){o.d(t,e,(function(){return i[e]}))}(n);t["default"]=r.a},beca:function(e,t,o){var i=o("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 开店星新零售管理系统\n * @description 基于Yii2+Vue2.0+uniapp研发，H5+小程序+公众号全渠道覆盖，功能完善开箱即用，框架成熟易扩展二开\n * @author 青岛开店星信息技术有限公司\n * @link https://www.kaidianxing.com\n * @copyright Copyright (c) 2020-2022 Qingdao ShopStar Information Technology Co., Ltd.\n * @copyright 版权归青岛开店星信息技术有限公司所有\n * @warning Unauthorized deletion of copyright information is prohibited.\n * @warning 未经许可禁止私自删除版权信息\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.order-alipay[data-v-51cb545a]{position:fixed;top:0;left:0;right:0;bottom:0;width:100%;height:100%;background-color:#fff}.order-alipay .alipay-guide[data-v-51cb545a]{width:100%;height:100%;padding-top:%?200?%;box-sizing:border-box;text-align:center}.order-alipay .alipay-guide .tips[data-v-51cb545a]{font-size:%?30?%;color:#000;line-height:%?52?%}.order-alipay .alipay-guide .copy-btn[data-v-51cb545a]{display:inline-block;width:%?250?%;height:%?68?%;font-size:%?28?%;color:#fd463e;border:1px solid #fd463e;border-radius:%?68?%;text-align:center;line-height:%?68?%;margin-top:%?50?%}',""]),e.exports=t}}]);