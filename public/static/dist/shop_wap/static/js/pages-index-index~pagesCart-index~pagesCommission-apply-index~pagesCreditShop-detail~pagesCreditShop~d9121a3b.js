(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1,185,186,187,192,188,190,191,189],{"01bd":function(t,i,e){"use strict";var o=e("3ed2"),n=e.n(o);n.a},"02d2c":function(t,i,e){(function(t){var o=e("288e");e("ac4d"),e("8a81"),e("5df3"),e("1c4c"),e("6b54"),e("8e6e"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=o(e("75fc"));e("55dd"),e("96cf");var c=o(e("3b8d"));e("28a5"),e("ac6a"),e("456d"),e("6762"),e("2fdb"),e("a481");var r=o(e("bd86"));e("7cdf"),e("c5f6");var s=o(e("06ad")),a=o(e("ff98")),l=o(e("2a49")),d=e("2f62"),u=e("dc11"),h=e("badd"),p=e("df39");function v(t,i){var e="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=f(t))||i&&t&&"number"===typeof t.length){e&&(t=e);var o=0,n=function(){};return{s:n,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,r=!0,s=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return r=t.done,t},e:function(t){s=!0,c=t},f:function(){try{r||null==e.return||e.return()}finally{if(s)throw c}}}}function f(t,i){if(t){if("string"===typeof t)return m(t,i);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?m(t,i):void 0}}function m(t,i){(null==i||i>t.length)&&(i=t.length);for(var e=0,o=new Array(i);e<i;e++)o[e]=t[e];return o}function g(t,i){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);i&&(o=o.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),e.push.apply(e,o)}return e}function b(t){for(var i=1;i<arguments.length;i++){var e=null!=arguments[i]?arguments[i]:{};i%2?g(Object(e),!0).forEach((function(i){(0,r.default)(t,i,e[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):g(Object(e)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}))}return t}var k={name:"goodsPicker",props:{minBuy:{type:[Number,String],default:1},maxBuy:{type:[Number,String],default:0},detailInfo:null,optionsInfo:null,from:{type:String,default:""}},components:{PickMask:s.default,DiyformItems:a.default,GroupOption:l.default},filters:{formatMoney:function(t){var i;return"number"===typeof t||"string"===typeof t&&""!==t.trim()?Number.isInteger(+t)?parseFloat(t):null===(i=parseFloat(t))||void 0===i?void 0:i.toFixed(2):0}},data:function(){return{userInfo:{},showmodal:!1,show:!0,type:"cart",optionPrice:{},chooseOption:[],choose:[],disabled:[],chooseData:[],changeNum:{total:1,goods_id:"",option_id:"",mode:1},callback:null,currentGoodId:"",activePicker:{optionPrice:{},chooseOption:[],choose:[],disabled:[],chooseData:[]},normalPicker:{optionPrice:{},chooseOption:[],choose:[],disabled:[],chooseData:[]},groupsLevel:0}},watch:{"$store.state.login.isLogin":{immediate:!0,handler:function(){var t=this;this.$store.state.login.isLogin&&this.$api.memberApi.getUserInfo().then((function(i){t.userInfo=i.data}))}}},mounted:function(){},computed:b(b(b({},(0,d.mapState)("setting",{credit_text:function(t){return t.systemSetting.credit_text}})),{},{goodsInfo:function(){return"creditShop"===this.from?this.$store.state.creditQuickPurchase.detailInfo:this.$store.state.quickPurchase.detailInfo},optionsData:function(){return"creditShop"===this.from?this.$store.state.creditQuickPurchase.optionsInfo:this.$store.state.quickPurchase.optionsInfo},buy_num:function(){var t,i;return null===(t=this.goodsInfo)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.buy_num},goodsData:function(){var t,i,e,o,n,c,r={};(r=null===(t=this.goodsInfo)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.goods,r&&this.currentGoodId!=(null===(e=r)||void 0===e?void 0:e.id))&&(this.currentGoodId=r.id,this.optionPrice={thumb:r.thumb,price:r.price,stock:r.stock,member_price:null!==(o=null===(n=this.activityData)||void 0===n||null===(c=n.member_price)||void 0===c?void 0:c.price)&&void 0!==o?o:"null",delPrice:r.original_price});return r},getForm:function(){var t,i;if(null!==(t=this.goodsData)&&void 0!==t&&null!==(i=t.form_data)&&void 0!==i&&i.content){var e,o,n=null===(e=this.$store.state.form)||void 0===e||null===(o=e.form)||void 0===o?void 0:o.content;return n}return!1},activityData:function(){var t;return(null===(t=this.goodsInfo)||void 0===t?void 0:t.activity)||{}},options:function(){var t;return(null===(t=this.optionsData)||void 0===t?void 0:t.options)||{}},specs:function(){var t;return(null===(t=this.optionsData)||void 0===t?void 0:t.spec)||[]}},(0,d.mapState)(["areaBottom"])),{},{getChooseTitle:function(){return this.specs.length?this.specs.map((function(t){return t.title})).join("，"):""},getChoosedTitle:function(){if(this.chooseOption.length)return this.chooseOption.filter((function(t){return!!t})).join("，")},paddingBottom:function(){return this.areaBottom+"px"},isBuy:function(){if("presell"==this.currentActName){var t,i,e,o,n,c,r=!1,s=null===this||void 0===this||null===(t=this.activityData)||void 0===t||null===(i=t.presell)||void 0===i?void 0:i.pay_front_end_time,a=null===this||void 0===this||null===(e=this.activityData)||void 0===e||null===(o=e.presell)||void 0===o?void 0:o.end_time;return r=0==(null===this||void 0===this||null===(n=this.activityData)||void 0===n||null===(c=n.presell)||void 0===c?void 0:c.presell_type)?new Date(Date.parse(s.replace(/-/g,"/"))).getTime()-Date.now()<0:new Date(Date.parse(a.replace(/-/g,"/"))).getTime()-Date.now()<0,r}},buyType:function(){return this.optionsData.activeName||""},currentActName:function(){return(0,h.getActivityName)(null===this||void 0===this?void 0:this.activityData)},isActiveBuy:function(){return p.SINGLE_BUY_ACTIVE.includes(this.buyType)},currentActInfo:function(){return this.activityData[this.currentActName]||{}},commonActBuyNum:function(){var t,i,e,o,n=(null===(t=this.currentActInfo)||void 0===t||null===(i=t.rules)||void 0===i?void 0:i.limit_num)-(null===(e=this.currentActInfo)||void 0===e?void 0:e.buy_count),c=null===(o=this.goodsData)||void 0===o?void 0:o.stock;return Math.min(n,c)},commonActBuyDisabled:function(){return this.isActiveBuy&&this.commonActBuyNum<=0},hasLevelGroups:function(){var t;return"groups"==this.buyType&&"1"==(null===(t=this.currentActInfo)||void 0===t?void 0:t.inner_type)},getGroupsLabel:function(){var t,i,e;return"1"==(null===(t=this.currentActInfo)||void 0===t?void 0:t.inner_type)?"多人拼团更优惠":"".concat(null===(i=this.currentActInfo)||void 0===i||null===(e=i.rules)||void 0===e?void 0:e.success_num,"人拼团价")},showMemberLevel:function(){return this.userInfo.level_name&&"presell"!==this.currentActName&&"groups"!=this.buyType&&"creditShop"!==this.from},is_bargain_activity:function(){var t,i,e;return!(null!==(t=this.goodsData)&&void 0!==t&&t.buy_button_status)||0==(null===(i=this.goodsData)||void 0===i?void 0:i.buy_button_status)||1==(null===(e=this.goodsData)||void 0===e?void 0:e.is_activity_goods)}}),methods:{getItemClass:function(t,i){return this.disabled.includes(t)?"disabled":this.choose[i]==t?"theme-primary-border theme-primary-color theme-sub-bgcolor theme-spec-bgcolor":""},toggle:function(t,i,e){this.type=i,this.showmodal=!this.showmodal,this.showmodal?(this.handleJoinGroups(),this.getPickOpt(),this.handleGoods(e)):this.savePickOpt(),"function"==typeof t&&(this.callback=t)},savePickOpt:function(){var t,i=this.optionPrice,e=this.chooseOption,o=this.choose,n=this.disabled,c=this.chooseData,s=this.changeNum,a=this.isActiveBuy?"activePicker":"normalPicker";this[a]=(t={optionPrice:i,chooseOption:e,choose:o,disabled:n,chooseData:c,changeNum:s},(0,r.default)(t,"disabled",n),(0,r.default)(t,"id",this.currentGoodId),t)},getPickOpt:function(){var t,i,e,o=this.isActiveBuy?this.activePicker:this.normalPicker;if(this.refreshOpt(),o.id===(null===(t=this.goodsInfo)||void 0===t||null===(i=t.data)||void 0===i||null===(e=i.goods)||void 0===e?void 0:e.id)){var n=o.optionPrice,c=o.chooseOption,r=o.choose,s=o.disabled,a=o.chooseData,l=o.changeNum;this.optionPrice=n,this.chooseOption=c,this.choose=r,this.disabled=s,this.chooseData=a,this.changeNum=l||{total:1,goods_id:"",option_id:"",mode:1},this.$emit("custom-event",{type:"changeNum",data:{total:this.changeNum.total}}),this.$emit("changeNum",this.changeNum.total)}},handleGoods:function(i){var e,o,n;t.log(i,"cacheNum>>>>>>"),i&&"cacheNum"===i||(this.$set(this.changeNum,"total",1),this.$emit("custom-event",{type:"changeNum",data:{total:this.changeNum.total}})),this.handleActStock();var c=this.isActiveBuy?this.activePicker:this.normalPicker;if(c.id!=(null===(e=this.goodsInfo)||void 0===e||null===(o=e.data)||void 0===o||null===(n=o.goods)||void 0===n?void 0:n.id)&&(this.disabled=this.getDisabled(this.choose)),this.choose.length>0?this.getOptions(this.choose):this.handlePrice(),"creditShop"!==this.from){var r={presell:this.handleLimit,seckill:this.isActiveBuy?this.handleCommonActLimit:this.handleLimit,groups:this.isActiveBuy?this.handleCommonActLimit:this.handleLimit},s=r[this.currentActName]||this.handleLimit;s.call(this)}},handleActStock:function(){var t={presell:this.handlePresellDisabled,seckill:this.isActiveBuy?this.commonActStockHandle:null,groups:this.isActiveBuy?this.commonActStockHandle:null},i=t[this.currentActName];i&&i.call(this,this.currentActInfo.goods_info,this.options),"creditShop"===this.from&&this.handleCreditShopDisabled(this.options)},handleCreditShopDisabled:function(t){for(var i in t){var e,o;null!==(e=t[i])&&void 0!==e&&null!==(o=e.activity)&&void 0!==o&&o.credit_shop?t[i].stock=Math.min(t[i].activity.credit_shop.credit_shop_stock,t[i].stock):(t[i].activity.credit_shop={credit_shop_price:"0",credit_shop_credit:"0",credit_shop_stock:0},t[i].stock=0)}},handlePresellDisabled:function(t,i){for(var e in i)Object.keys(t).includes(i[e].id)?i[e].stock=Math.min(i[e].activity.presell.presell_stock,i[e].stock):i[e].stock=0},commonActStockHandle:function(t,i){for(var e in i){var o;if(Object.keys(t).includes(i[e].id))i[e].stock=Math.min(null===(o=i[e].activity[this.currentActName])||void 0===o?void 0:o.activity_stock,i[e].stock);else i[e].stock=0}},handleLimit:function(){var t,i;1==(null===(t=this.goodsData)||void 0===t||null===(i=t.ext_field)||void 0===i?void 0:i.buy_limit)&&("presell"===this.currentActName?this.$set(this.changeNum,"total",1):this.goodsData.ext_field.single_min_buy&&this.$set(this.changeNum,"total",this.goodsData.ext_field.single_min_buy>0?Number(this.goodsData.ext_field.single_min_buy):1))},handleCommonActLimit:function(){var t,i=null===(t=this.currentActInfo)||void 0===t?void 0:t.rules,e=i.limit_type;"0"!==e&&this.$set(this.changeNum,"total",Math.min(this.commonActBuyNum,this.changeNum.total))},handleCreditShopLimit:function(){var t=this.goodsInfo.credit_shop,i=t.goods_limit_type,e=t.goods_limit_num,o=Math.min(e,e-this.goodsInfo.data.buy_num);"0"!==i&&this.$set(this.changeNum,"total",Math.min(o,this.changeNum.total))},chooseItem:function(t,i){var e=this;if(!this.disabled.includes(i.id)){this.choose[t]==i.id?(this.$set(this.choose,t,""),this.$set(this.chooseOption,t,""),this.disabled=[]):(this.$set(this.choose,t,i.id),this.$set(this.chooseOption,t,i.title));var o=this.choose.filter((function(t){return t})),n=this.chooseOption.filter((function(t){return t}));if(0==n.length&&(this.chooseOption=[]),o.length>0&&o.length==this.specs.length-1?(this.disabled=[],this.disabled=this.getDisabled(o)):0==o.length&&(this.choose=[],this.handleGoods()),this.$set(this.chooseData,t,i),this.choose.length==this.specs.length)for(var c=0;c<this.choose.length;c++){if(!this.choose[c])return void this.returnChoose("");c===this.choose.length-1&&(1==this.specs.length?this.getDisabled([]):function(){e.disabled=[];var t=e.getNumbers(e.choose,e.specs.length-1,!1),i=[];t.forEach((function(t,o){i=i.concat(e.getDisabled(t))})),e.disabled=i}(),this.getOptions(this.choose))}else this.returnChoose("")}},getObjectKeys:function(t,i){for(var e=t,o=0;o<i.split(".").length;o++){var n=i[o];if(!e[n]){e=e.stock;break}e=e[n]}return e},getOptions:function(){var t=(0,c.default)(regeneratorRuntime.mark((function t(i){var e,o,n,c,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=JSON.parse(JSON.stringify(i)),o=e.sort((function(t,i){return t-i})).join(),n=Object.keys(this.options),c=this.isActiveBuy?"activity.".concat(this.currentActName,".activity_stock"):"stock",r=0;case 5:if(!(r<n.length)){t.next=18;break}if(n[r]!=o){t.next=14;break}return t.next=9,this.handleOptionsPrice(n[r]);case 9:return s=Math.min(this.getObjectKeys(this.options[n[r]],c),this.options[n[r]].stock),Number(this.changeNum.total)>Number(s)&&(this.changeNum.total=Number(s)),0!=Number(s)&&0==this.changeNum.total&&(this.changeNum.total=1),0==s?(this.$toast("库存不足"),this.returnChoose("")):(this.optionPrice.optionName=this.chooseOption.join("，"),this.returnChoose(o,this.optionPrice)),t.abrupt("break",18);case 14:this.returnChoose("");case 15:r++,t.next=5;break;case 18:case"end":return t.stop()}}),t,this)})));function i(i){return t.apply(this,arguments)}return i}(),handlePrice:function(){var t,i=this.goodsData,e=i.stock,o=i.has_option,n=i.thumb,c=i.original_price,r=i.min_price,s=i.max_price,a=i.price;"0"==o?t=this.activityData.member_price?"".concat(this.activityData.member_price.min_price):"null":(a=this.$utils.formartOptPrice("".concat(r,"-").concat(s)),t=this.activityData.member_price?"".concat(this.activityData.member_price.min_price,"-").concat(this.activityData.member_price.max_price):"null",t=this.$utils.formartOptPrice(t));var l={thumb:n,price:a,stock:e,member_price:t,delPrice:c},d={presell:this.handlePresellPrice,seckill:this.isActiveBuy?this.handleSeckillPrice:null,groups:this.isActiveBuy?this.handleGroupsPrice:null},u=d[this.currentActName];if(u){var h=u.call(this)||{};l=b(b({},l),h)}if("creditShop"===this.from){var p=this.handleCreditShopPrice();l=b(b({},l),p)}this.optionPrice=l},handleCreditShopPrice:function(){var t=this.goodsInfo.credit_shop,i=t.min_price,e=t.min_price_credit,o=t.credit_shop_stock;return{price:"".concat(e).concat(this.credit_text,"+").concat(i,"元"),stock:o}},handlePresellPrice:function(){var t,i,e,o,n,c,r,s=(null===(t=this.activityData)||void 0===t?void 0:t.presell)||{};"0"==this.goodsData.has_option?(i=null===(o=s.goods_info)||void 0===o?void 0:o.front_money,e=null===(n=s.goods_info)||void 0===n?void 0:n.presell_stock):(i="".concat(null===(c=s.price_range)||void 0===c?void 0:c.min_price,"-").concat(null===(r=s.price_range)||void 0===r?void 0:r.max_price),e=s.presell_stock,i=this.$utils.formartOptPrice(i));return{price:i,stock:e}},handleSeckillPrice:function(){var t,i,e,o=null===(t=this.goodsData)||void 0===t?void 0:t.stock,n=this.currentActInfo,c=n.activity_stock,r=void 0===c?0:c,s=n.activity_price,a=n.price_range;return"0"==this.goodsData.has_option?i=s:(i="".concat(null===a||void 0===a?void 0:a.min_price,"-").concat(null===a||void 0===a?void 0:a.max_price),i=this.$utils.formartOptPrice(i)),e=Math.min(o,r),{price:i,stock:e}},handleGroupsPrice:function(){var t,i,e,o=null===(t=this.goodsData)||void 0===t?void 0:t.stock,n=this.currentActInfo,c=n.activity_stock,r=void 0===c?0:c,s=n.price,a=n.price_range;if("0"==this.goodsData.has_option)if(this.hasLevelGroups&&0!==this.groupsLevel)s=null===(e=this.currentActInfo)||void 0===e?void 0:e.every_ladder_min_price[this.groupsLevel];else if(this.hasLevelGroups)s="".concat(null===a||void 0===a?void 0:a.min_price,"-").concat(null===a||void 0===a?void 0:a.max_price),s=this.$utils.formartOptPrice(s);else{var l;s=null===(l=this.currentActInfo)||void 0===l?void 0:l.activity_price}else s="".concat(null===a||void 0===a?void 0:a.min_price,"-").concat(null===a||void 0===a?void 0:a.max_price),s=this.$utils.formartOptPrice(s);return i=Math.min(o,r),{price:s,stock:i}},handleOptionsPrice:function(t){var i,e,o=this.options[t],n=o.price,c=o.stock,r=o.id,s=o.thumb,a=o.original_price,l=o.activity,d={id:r,price:n,stock:c,thumb:s||this.goodsData.thumb,delPrice:a,member_price:null!==(i=null===l||void 0===l||null===(e=l.member_price)||void 0===e?void 0:e.min_price)&&void 0!==i?i:"null"},u={presell:this.handlePresellOptsPrice,seckill:this.isActiveBuy?this.handleSeckillOptsPrice:null,groups:this.isActiveBuy?this.handleGroupsOptPrice:null},h=u[this.currentActName];if(h){var p=h.call(this,t,this.options[t])||{};d=b(b({},d),p)}if("creditShop"===this.from){var v=this.handleCreditShopOptPrice(t,this.options[t]);d=b(b({},d),v)}this.optionPrice=d},handleCreditShopOptPrice:function(t,i){var e=i.activity.credit_shop,o=e.id,n=e.credit_shop_price,c=e.credit_shop_credit,r=e.credit_shop_stock;return{price:"".concat(c).concat(this.credit_text,"+").concat(n,"元"),stock:r,credit_option_id:o}},handlePresellOptsPrice:function(t,i){var e,o,n,c,r,s,a=i.price,l=0;0==(null===this||void 0===this||null===(e=this.activityData)||void 0===e||null===(o=e.presell)||void 0===o?void 0:o.presell_type)&&(l=Number(a)-Number(null===i||void 0===i||null===(r=i.activity)||void 0===r||null===(s=r.presell)||void 0===s?void 0:s.front_money_deduct));return a=null===i||void 0===i||null===(n=i.activity)||void 0===n||null===(c=n.presell)||void 0===c?void 0:c.front_money,{price:a,final_price:l}},handleSeckillOptsPrice:function(t,i){var e,o,n=null===i||void 0===i?void 0:i.stock,c=i.activity,r=i.stock,s=null===c||void 0===c||null===(e=c.seckill)||void 0===e?void 0:e.activity_price,a=(null===(o=this.currentActInfo)||void 0===o?void 0:o.activity_stock)||0;return r=Math.min(n,a),{price:s,stock:r}},handleGroupsOptPrice:function(t,i){var e,o,n=null===i||void 0===i?void 0:i.stock,c=i.activity,r=i.stock,s=null===c||void 0===c||null===(e=c.groups)||void 0===e?void 0:e.price;if("1"==this.currentActInfo.inner_type)if(0!=this.groupsLevel)s=c.groups.ladder_price[this.groupsLevel];else{var a=this.currentActInfo.price_range;s="".concat(null===a||void 0===a?void 0:a.min_price,"-").concat(null===a||void 0===a?void 0:a.max_price),s=this.$utils.formartOptPrice(s)}var l=(null===(o=this.currentActInfo)||void 0===o?void 0:o.activity_stock)||0;return r=Math.min(n,l),{price:s,stock:r}},clickLevel:function(t){this.groupsLevel==t?this.groupsLevel=0:this.groupsLevel=t,this.choose.length&&this.specs.length==this.choose.length&&"1"==this.goodsData.has_option?this.handleOptionsPrice(this.choose.join(",")):this.handlePrice()},handlerChangeNumber:function(t){var i=Number(parseInt(t.target.value));isNaN(i)?this.changeNum.total=1:this.clickAdd(i,"noAdd")},clickAdd:function(t,i){var e,o,n=this;if("presell"!==this.currentActName)if(-1==t&&this.changeNum.total<=1)this.$toast("不能减少了");else{var c,r,s=Number(this.changeNum.total)+t,a=1,l=null===(e=this.goodsData)||void 0===e||null===(o=e.ext_field)||void 0===o?void 0:o.buy_limit;if(1==l)a=null===(c=this.goodsData)||void 0===c||null===(r=c.ext_field)||void 0===r?void 0:r.single_min_buy;if("noAdd"===i&&(s=Number(t),s<1))return this.changeNum.total=a,this.$toast("至少购买".concat(a,"件"));if("creditShop"!==this.from){var d={seckill:this.isActiveBuy?this.editCommonActLimit:this.editTotalLimit,groups:this.isActiveBuy?this.editCommonActLimit:this.editTotalLimit},u=d[this.currentActName]||this.editTotalLimit;u.call(this,s).then((function(t){n.changeNum.total=t,n.$emit("custom-event",{type:"changeNum",data:{total:t}}),n.$emit("changeNum",t)})).catch((function(){}))}else this.editCreditShopLimit(s)}},editTotalLimit:function(t){var i=this;return new Promise((function(e,o){setTimeout((function(){var n,c;if(1==(null===(n=i.goodsData)||void 0===n||null===(c=n.ext_field)||void 0===c?void 0:c.buy_limit)){if(Number(i.goodsData.ext_field.max_buy)<=Number(i.buy_num))return i.$toast("已达到最多限购个数"),void o(!1);var r=Number(i.goodsData.ext_field.single_min_buy),s=Number(i.goodsData.ext_field.max_buy)-Number(i.buy_num),a=Number(i.goodsData.ext_field.single_max_buy),l=Math.min(s,a);l<t?(t=l,i.$toast("单次最多限购"+l+"件")):l>Number(i.optionPrice.stock)&&t>Number(i.optionPrice.stock)&&(t=Number(i.optionPrice.stock),i.$toast("库存不足")),l<r?(t=l,i.$toast("起购"+i.goodDetail.ext_field.single_min_buy+"件")):r>Number(i.optionPrice.stock)&&(t=i.optionPrice.stock,i.$toast("库存不足")),t<r&&(t=r,i.$toast("不能再少啦"))}else t>Number(i.optionPrice.stock)&&(t=i.optionPrice.stock,i.$toast("库存不足"));e(t)}),0)}))},editCommonActLimit:function(t){var i,e,o,n,c,r,s=t,a=null===(i=this.currentActInfo)||void 0===i?void 0:i.rules,l=a.limit_type,d=a.limit_num;"0"==this.goodsData.has_option?(e=this.goodsData.stock,o=this.currentActInfo.activity_stock):(e=null===(n=this.options[this.choose.join(",")])||void 0===n?void 0:n.stock,o=null===(c=this.options[this.choose.join(",")])||void 0===c||null===(r=c.activity)||void 0===r?void 0:r[this.currentActName].activity_stock);var u=Math.min(e,o);return"0"!==l?t<=d&&u&&t>u?(this.$toast("库存不足"),s=u):(t>this.commonActBuyNum&&this.$toast("限购"+this.commonActBuyNum+"件"),s=Math.min(this.commonActBuyNum,t)):u&&t>u&&(s=u,this.$toast("库存不足")),Promise.resolve(s)},editCreditShopLimit:function(t){var i,e,o=this.goodsInfo.credit_shop,n=o.goods_limit_type,c=o.goods_limit_num,r=o.credit_shop_stock,s=o.type,a=t;if("0"!==n&&Number(this.goodsInfo.data.buy_num)>=Number(c))this.$toast("已达到最多购买个数");else{var l,d,u,h=Math.min(c,c-this.goodsInfo.data.buy_num);if(0===+s)if("0"==this.goodsData.has_option)i=this.goodsData.stock,e=r;else i=null===(l=this.options[this.choose.join(",")])||void 0===l?void 0:l.stock,e=null===(d=this.options[this.choose.join(",")])||void 0===d||null===(u=d.activity)||void 0===u?void 0:u.credit_shop.credit_shop_stock;else 0===+this.goodsData.stock_type?(e=r,i=r++):(i=this.goodsData.stock,e=r);var p=Math.min(i,e);"0"!==n?t<=c&&p&&t>p?(this.$toast("库存不足"),a=p):(t>h&&this.$toast("限购"+h+"件"),a=Math.min(h,t)):p&&t>p&&(a=p,this.$toast("库存不足")),this.changeNum.total=a,this.$emit("custom-event",{type:"changeNum",data:{total:a}}),this.$emit("changeNum",a)}},getDisabled:function(t){var i,e,o=this,n=[],c=Object.keys(this.options),r=[];return 1==(null===(i=this.optionsData)||void 0===i||null===(e=i.spec)||void 0===e?void 0:e.length)?r=c.reduce((function(t,i,e){return 0==o.options[i].stock&&t.push(i),t}),[]):(t.forEach((function(t,i){c.forEach((function(i,e){i.split(",").includes(t)&&0==o.options[i].stock&&n.push(i)})),c=Object.assign(n),n=[]})),c.forEach((function(i,e){t.forEach((function(t,e){i=i.split(",").filter((function(i){return i!=t})).join(",")})),r.push(i)}))),r},getNumbers:function(t,i){var e=this,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],c=t.map((function(t){return[t]}));if(1===i)return c;for(var r=[],s=function(s){var a=c[s],l=[];l=o?e.getNumbers(t.filter((function(t){return t!==a[0]})),i-1,o):e.getNumbers(t.slice(s+1),i-1,o);var d,u=v(l);try{for(u.s();!(d=u.n()).done;){var h=d.value;r.push([].concat((0,n.default)(a),(0,n.default)(h)))}}catch(p){u.e(p)}finally{u.f()}},a=0;a<c.length;a++)s(a);return r},returnChoose:function(t,i){var e=p.SINGLE_BUY_ACTIVE.includes(this.currentActName)&&this.currentActInfo&&!this.isActiveBuy;this.$emit("custom-event",{type:"choose",data:{data:t,options:i,is_origin:e}}),this.$emit("choose",t,i,e)},addCart:function(t){var i=this;setTimeout((function(){if(("cart"==t||"buy"==t)&&i.$utils.hasBindBySence(t))return i.toggle(),void i.$store.commit("login/setModal",!0);if(!i.isBuy&&!i.commonActBuyDisabled){var e=p.SINGLE_BUY_ACTIVE.includes(i.currentActName)&&i.currentActInfo&&!i.isActiveBuy,o={is_origin:e};"groups"==i.buyType&&(o=b(b({},o),i.getGroupsParams())),i.$emit("custom-event",{type:"clickBtn",data:b({type:t},o)}),i.$emit("clickBtn",t,o)}}),0)},getGroupsParams:function(){var t="1"==this.optionsData.is_join?"1":"0",i={is_join:t,is_ladder:"0"};return this.optionsData.team_id&&(i.team_id=this.optionsData.team_id),this.optionsData.activity_id&&(i.activity_id=this.optionsData.activity_id),this.hasLevelGroups&&(i.ladder=this.groupsLevel,i.is_ladder="1"),{extend_params:i}},refreshOpt:function(){this.choose=[],this.disabled=[],this.chooseData=[],this.chooseOption=[]},changeForm:function(t){this.$store.commit("form/setFormContent",t)},handleJoinGroups:function(){this.optionsData.ladder&&(this.groupsLevel=this.optionsData.ladder,"0"==this.goodsData.has_option&&this.handlePrice())},clickImage:function(t){uni.previewImage({urls:[t],current:0})},setPriceFontSize:function(t){var i,e,o,n,c,r,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"price";return"price"===s?(null===(i=this.optionPrice)||void 0===i||null===(e=i[t])||void 0===e?void 0:e.length)>19?(0,u.px2rpx)(26):(null===(o=this.optionPrice)||void 0===o||null===(n=o[t])||void 0===n?void 0:n.length)>15?(0,u.px2rpx)(30):(0,u.px2rpx)(36):(null===(c=this.optionPrice)||void 0===c||null===(r=c[t])||void 0===r?void 0:r.length)>19?(0,u.px2rpx)(22):(0,u.px2rpx)(24)}}};i.default=k}).call(this,e("5a52")["default"])},"061c":function(t,i,e){"use strict";var o;e.d(i,"b",(function(){return n})),e.d(i,"c",(function(){return c})),e.d(i,"a",(function(){return o}));var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("kdx-theme-content",[t.showmodal&&t.currentGoodId?e("pick-mask",[e("v-uni-view",{staticClass:"block-cover flex"},[e("v-uni-view",{staticClass:"flex1",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.toggle.apply(void 0,arguments)}}}),e("v-uni-view",{staticClass:"picker-content flex-column",style:{"padding-bottom":t.paddingBottom}},[e("div",{staticClass:"picker-close",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.toggle.apply(void 0,arguments)}}},[e("i",{staticClass:"icon-m-fucengguanbi iconfont-m-"})]),e("v-uni-view",{staticClass:"picker-goods flex"},[e("img",{staticClass:"picker-goods-img",attrs:{src:t.$utils.media(t.optionPrice.thumb),alt:""},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.clickImage(t.$utils.media(t.optionPrice.thumb))}}}),e("v-uni-view",{staticClass:"flex1"},[e("v-uni-view",{staticClass:"picker-price flex "},[t.is_bargain_activity?["null"!=t.optionPrice.member_price?e("v-uni-view",{staticClass:"price theme-primary-price"},[e("v-uni-text",{style:{"font-size":t.setPriceFontSize("member_price","unit")}},[t._v("￥")]),e("v-uni-text",{staticClass:"fs-18",style:{"font-size":t.setPriceFontSize("member_price")}},[t._v(t._s(t.optionPrice.member_price))])],1):e("v-uni-view",{staticClass:"price theme-primary-price"},[e("v-uni-text",{style:{"font-size":t.setPriceFontSize("price","unit")}},[t._v("￥")]),e("v-uni-text",{staticClass:"fs-18 ml-0",style:{"font-size":t.setPriceFontSize("price")}},[t._v(t._s(t.optionPrice.price||0))])],1),t.optionPrice.final_price?e("div",{staticClass:"final-price"},[t._v("尾款："),e("v-uni-text",{style:{"font-size":t.setPriceFontSize("final_price","unit")}},[t._v("￥")]),e("v-uni-text",{staticClass:"fs-18",style:{"font-size":t.setPriceFontSize("final_price")}},[t._v(t._s(t._f("formatMoney")(t.optionPrice.final_price)))])],1):t._e()]:[e("v-uni-view",{staticClass:"price"},[e("v-uni-text",{staticClass:"theme-primary-price",style:{"font-size":t.setPriceFontSize("member_price","unit")}},[t._v(t._s(t.goodsData.ext_field.buy_button_settings.price_text))])],1)],"groups"==t.buyType?e("v-uni-view",{staticClass:"groups-label"},[t._v(t._s(t.getGroupsLabel))]):t._e(),t.showMemberLevel&&t.is_bargain_activity?e("v-uni-view",{staticClass:"del-price"},[e("span",{staticClass:"level"},[e("i",{staticClass:"icon-m-huangguan iconfont-m-"}),e("span",{staticClass:"level-name"},[t._v(t._s(t.userInfo.level_name))])])]):t._e()],2),t.optionPrice.delPrice>0&&t.is_bargain_activity?e("v-uni-view",{staticClass:"money"},[t._v("￥"+t._s(t.optionPrice.delPrice||0))]):t._e(),t.goodsData&&t.goodsData.ext_field&&1==t.goodsData.ext_field.show_stock&&t.is_bargain_activity?e("v-uni-view",{staticClass:"picker-stock"},[t._v("库存"+t._s(t.optionPrice.stock||0)+"件")]):t._e(),t.goodsData&&t.goodsData.has_option&&"1"===t.goodsData.has_option?e("div",[t.chooseOption.length>0?e("v-uni-view",{staticClass:"picker-choose-text"},[e("v-uni-text",[t._v("已选择：")]),e("v-uni-text",[t._v(t._s(t.getChoosedTitle))])],1):e("v-uni-view",{staticClass:"picker-choose-text"},[t._v("请选择 "+t._s(t.getChooseTitle))])],1):t._e()],1)],1),e("v-uni-scroll-view",{staticClass:"picker-options",attrs:{"scroll-y":!0}},[t._l(t.specs,(function(i,o){return e("v-uni-view",{key:o,staticClass:"opt-item van-hairline--bottom"},[e("v-uni-view",[e("v-uni-view",{staticClass:"spec-title",class:{first:0==o}},[t._v(t._s(i.title))]),e("v-uni-view",{staticClass:"items flex"},t._l(i.items,(function(i,n){return e("v-uni-view",{key:n,staticClass:"specs-item",class:[t.getItemClass(i.id,o)],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.chooseItem(o,i)}}},[t._v(t._s(i.title))])})),1)],1)],1)})),t.hasLevelGroups&&!t.optionsData.ladder?e("group-option",{attrs:{"active-info":t.currentActInfo,current:t.groupsLevel,options:t.optionsData.options,choose:t.choose},on:{"click-level":function(i){arguments[0]=i=t.$handleEvent(i),t.clickLevel.apply(void 0,arguments)}}}):t._e(),e("v-uni-view",{staticClass:"picker-number opt-item",class:{"padTop-16":1==t.goodsData.has_option}},[t.is_bargain_activity?e("v-uni-view",{staticClass:"flex-between align-center"},[e("v-uni-view",{staticClass:"title"},[t._v("数量")]),e("v-uni-view",{staticClass:"flex align-center"},[t.isActiveBuy?e("v-uni-view",{staticClass:"uni-color-primary"},["0"!=t.currentActInfo.rules.limit_type&&t.currentActInfo.rules.limit_num>0?e("span",[t._v("限购"+t._s(t.commonActBuyNum)+"件")]):t._e()]):"presell"===t.currentActName&&t.activityData.presell.limit_num>0?e("v-uni-view",{staticClass:"uni-color-primary"},[t._v("限购"+t._s(t.activityData.presell.limit_num)+"件")]):t.goodsData&&t.goodsData.ext_field&&1==t.goodsData.ext_field.buy_limit&&"presell"!==t.currentActName&&"creditShop"!==t.from?e("v-uni-view",{staticClass:"uni-color-primary"},[t._v("限购"+t._s(t.goodsData.ext_field.single_max_buy)+"件")]):t._e(),e("v-uni-view",{staticClass:"add-num"},[e("v-uni-text",{staticClass:"iconfont-m- icon-m-jianhao action-icon left",class:{disabled:t.changeNum.total<=1||t.goodsData.ext_field&&1==t.goodsData.ext_field.buy_limit&&t.changeNum.total<=t.goodsData.ext_field.single_min_buy},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.clickAdd(-1)}}}),e("v-uni-input",{staticClass:"goods-total",attrs:{type:"number",disabled:"presell"===t.currentActName},on:{blur:function(i){arguments[0]=i=t.$handleEvent(i),t.handlerChangeNumber.apply(void 0,arguments)}},model:{value:t.changeNum.total,callback:function(i){t.$set(t.changeNum,"total",i)},expression:"changeNum.total"}}),e("v-uni-text",{staticClass:"iconfont-m- icon-m-jiahao  action-icon right",class:{disabled:t.goodsData.ext_field&&1==t.goodsData.ext_field.buy_limit&&t.changeNum.total>=t.goodsData.ext_field.single_max_buy||t.optionPrice.stock==t.changeNum.total},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.clickAdd(1)}}})],1)],1)],1):t._e()],1),t.getForm?e("diyform-items",{staticClass:"goods-diy-form-items",attrs:{items:t.getForm},on:{"on-change":function(i){arguments[0]=i=t.$handleEvent(i),t.changeForm.apply(void 0,arguments)}}}):t._e()],2),t.is_bargain_activity?e("v-uni-view",{staticClass:"btn-box"},[t.show?e("v-uni-view",{staticClass:"add-cart flex"},["presell"===t.currentActName?[0==t.activityData.presell.presell_type?e("v-uni-view",{staticClass:"btn btn-sure",class:[t.isBuy?"disabled":"theme-primary-bgcolor"],on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.addCart("buy")}}},[t._v("支付定金")]):t._e(),1==t.activityData.presell.presell_type?e("btn",{staticStyle:{flex:"1"},attrs:{type:"do",size:"middle",classNames:"theme-primary-bgcolor"},on:{"btn-click":function(i){arguments[0]=i=t.$handleEvent(i),t.addCart("buy")}}},[t._v("确定")]):t._e()]:["add"==t.type&&"0"==t.goodsData.stock?e("v-uni-view",{staticClass:"btn btn-sure disabled"},[t._v("已售罄")]):t._e(),"add"==t.type&&t.goodsData.stock>0?e("btn",{staticStyle:{flex:"1"},attrs:{type:"do",size:"middle",classNames:"theme-primary-bgcolor"},on:{"btn-click":function(i){arguments[0]=i=t.$handleEvent(i),t.addCart("cart")}}},[t._v("确定")]):t._e(),"buy"==t.type?e("btn",{staticStyle:{flex:"1"},attrs:{type:"do",size:"middle",classNames:"theme-primary-bgcolor",classNames:t.commonActBuyDisabled?"":"theme-primary-bgcolor",disabled:t.commonActBuyDisabled},on:{"btn-click":function(i){arguments[0]=i=t.$handleEvent(i),t.addCart("buy")}}},[t._v(t._s("creditShop"===t.from?"立即兑换":"确定"))]):t._e(),"spec"==t.type?e("button-group",{staticStyle:{flex:"1"},attrs:{simple:"0"===t.goodsData.type}},["creditShop"!==t.from&&"0"===t.goodsData.type?e("btn",{class:{group:"creditShop"!==t.from&&"0"===t.goodsData.type},attrs:{classNames:"theme-sub-bgcolor theme-primary-color",type:"do",size:"middle"},on:{"btn-click":function(i){arguments[0]=i=t.$handleEvent(i),t.addCart("cart")}}},[t._v("加入购物车")]):t._e(),e("btn",{class:{group:"creditShop"!==t.from&&"0"===t.goodsData.type},staticStyle:{flex:"1"},attrs:{classNames:"theme-primary-bgcolor",type:"do",size:"middle"},on:{"btn-click":function(i){arguments[0]=i=t.$handleEvent(i),t.addCart("buy")}}},[t._v(t._s("creditShop"===t.from?"立即兑换":"立即购买"))])],1):t._e()]],2):e("v-uni-view",{staticClass:"btn btn-buy theme-primary-bgcolor",on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.addCart("buy")}}},[t._v("购买")])],1):e("v-uni-view",{staticClass:"btn-box"},[e("v-uni-view",{staticClass:"btn btn-buy theme-primary-bgcolor",on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.addCart("bargaining")}}},[t._v(t._s(t.goodsData.ext_field.buy_button_settings.name))])],1)],1)],1)],1):t._e()],1)},c=[]},"06ad":function(t,i,e){"use strict";e.r(i);var o=e("3805"),n=e("2e62");for(var c in n)["default"].indexOf(c)<0&&function(t){e.d(i,t,(function(){return n[t]}))}(c);e("01bd");var r,s=e("f0c5"),a=Object(s["a"])(n["default"],o["b"],o["c"],!1,null,"27463a83",null,!1,o["a"],r);i["default"]=a.exports},"09c9":function(t,i,e){var o=e("24fb");i=o(!1),i.push([t.i,'@charset "UTF-8";\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.group-option.van-hairline--bottom[data-v-95a519f2]::after{border-bottom-color:#e6e7eb;border-style:solid}.group-option .group-title[data-v-95a519f2]{padding-top:%?32?%;font-size:%?28?%;line-height:%?40?%;color:#212121}.group-option .group-items[data-v-95a519f2]{padding:%?16?% 0 %?32?%}.group-option .group-items .group-item[data-v-95a519f2]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-right:%?24?%;border:%?2?% solid #e6e7eb;border-radius:%?12?%;width:%?218?%;height:%?96?%}.group-option .group-items .group-item[data-v-95a519f2]:last-child{margin-right:0}.group-option .group-items .group-item.on[data-v-95a519f2]{border:%?2?% solid #ff3c29;background:#fff3f5;color:#ff3c29}.group-option .group-items .group-item.on .group-item-price[data-v-95a519f2], .group-option .group-items .group-item.on .group-item-unit[data-v-95a519f2]{font-weight:700}.group-option .group-items .group-item-name[data-v-95a519f2], .group-option .group-items .group-item-price[data-v-95a519f2]{font-size:%?28?%;line-height:%?40?%}.group-option .group-items .group-item-unit[data-v-95a519f2]{font-size:%?24?%;line-height:%?34?%}',""]),t.exports=i},"09e2":function(t,i,e){var o=e("24fb");i=o(!1),i.push([t.i,'@charset "UTF-8";\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.pick-mask[data-v-27463a83]{position:fixed;top:0;left:0;width:100vw;z-index:10000001}.pick-mask .mask[data-v-27463a83]{position:fixed;top:0;left:0;width:100vw;background:rgba(0,0,0,.6);z-index:10000002}.pick-mask .slot-content[data-v-27463a83]{position:absolute;left:0;width:100vw;z-index:10000003}.pick-mask .safe-area[data-v-27463a83]{position:absolute;width:100vw;left:0;bottom:0;z-index:10000003;background-color:#fff}',""]),t.exports=i},"2a49":function(t,i,e){"use strict";e.r(i);var o=e("3845"),n=e("4bbb");for(var c in n)["default"].indexOf(c)<0&&function(t){e.d(i,t,(function(){return n[t]}))}(c);e("422d");var r,s=e("f0c5"),a=Object(s["a"])(n["default"],o["b"],o["c"],!1,null,"95a519f2",null,!1,o["a"],r);i["default"]=a.exports},"2e62":function(t,i,e){"use strict";e.r(i);var o=e("3e76"),n=e.n(o);for(var c in o)["default"].indexOf(c)<0&&function(t){e.d(i,t,(function(){return o[t]}))}(c);i["default"]=n.a},3805:function(t,i,e){"use strict";var o;e.d(i,"b",(function(){return n})),e.d(i,"c",(function(){return c})),e.d(i,"a",(function(){return o}));var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"pick-mask",style:{height:t.windowHeight},on:{touchmove:function(i){i.stopPropagation(),i.preventDefault(),arguments[0]=i=t.$handleEvent(i)}}},[t.mask?e("v-uni-view",{staticClass:"mask",style:{height:t.windowHeight},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.maskClose.apply(void 0,arguments)}}}):t._e(),e("v-uni-view",{staticClass:"slot-content",style:{bottom:t.areaBottom+"px"}},[t._t("default")],2),e("v-uni-view",{staticClass:"safe-area",style:{height:t.areaBottom+"px"}})],1)},c=[]},3845:function(t,i,e){"use strict";var o;e.d(i,"b",(function(){return n})),e.d(i,"c",(function(){return c})),e.d(i,"a",(function(){return o}));var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"group-option van-hairline--bottom"},[e("v-uni-view",[e("v-uni-view",{staticClass:"group-title"},[t._v("拼团类型")]),e("v-uni-view",{staticClass:"group-items flex"},t._l(t.getLevel,(function(i,o){return e("v-uni-view",{key:o,staticClass:"group-item",class:{"theme-primary-color theme-primary-border theme-sub-bgcolor theme-spec-bgcolor":t.current==o+1},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.clickLevel(o)}}},[e("v-uni-view",{staticClass:"group-item-name"},[t._v(t._s(i)+"人团")]),t.currentOpt?e("v-uni-view",{staticClass:"group-item-price"},[t._v("￥"+t._s(t.currentOpt[o+1]))]):e("v-uni-view",{staticClass:"group-item-price"},[e("span",{staticClass:"group-item-unit"},[t._v("￥")]),e("span",[t._v(t._s(t.getDefault(o+1)))])])],1)})),1)],1)],1)},c=[]},"3e76":function(t,i,e){var o=e("288e");e("8e6e"),e("ac6a"),e("456d"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=o(e("bd86")),c=e("2f62");function r(t,i){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);i&&(o=o.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),e.push.apply(e,o)}return e}function s(t){for(var i=1;i<arguments.length;i++){var e=null!=arguments[i]?arguments[i]:{};i%2?r(Object(e),!0).forEach((function(i){(0,n.default)(t,i,e[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):r(Object(e)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}))}return t}var a={props:{mask:{type:Boolean,default:!0}},computed:s({},(0,c.mapState)(["windowHeight","areaBottom"])),methods:{maskClose:function(){this.$emit("mask-close")}}};i.default=a},"3ed2":function(t,i,e){var o=e("09e2");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var n=e("4f06").default;n("1722b6be",o,!0,{sourceMap:!1,shadowMode:!1})},"422d":function(t,i,e){"use strict";var o=e("f4fd"),n=e.n(o);n.a},"4bbb":function(t,i,e){"use strict";e.r(i);var o=e("a14e"),n=e.n(o);for(var c in o)["default"].indexOf(c)<0&&function(t){e.d(i,t,(function(){return o[t]}))}(c);i["default"]=n.a},"7cdf":function(t,i,e){var o=e("5ca1");o(o.S,"Number",{isInteger:e("9c12")})},"8c2a":function(t,i,e){"use strict";e.r(i);var o=e("02d2c"),n=e.n(o);for(var c in o)["default"].indexOf(c)<0&&function(t){e.d(i,t,(function(){return o[t]}))}(c);i["default"]=n.a},"9c12":function(t,i,e){var o=e("d3f4"),n=Math.floor;t.exports=function(t){return!o(t)&&isFinite(t)&&n(t)===t}},a14e:function(t,i,e){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,e("ac6a"),e("8615"),e("c5f6");var o={props:{activeInfo:{type:Object,default:function(){}},current:{type:[String,Number]},options:{type:[Object,Array]},choose:{type:Array}},computed:{getLevel:function(){var t,i,e,o;return null!==(t=this.activeInfo)&&void 0!==t&&null!==(i=t.rules)&&void 0!==i&&i.success_num?Object.values(null===(e=this.activeInfo)||void 0===e||null===(o=e.rules)||void 0===o?void 0:o.success_num):[]},chooseOpt:function(){return this.choose.join(",")},currentOpt:function(){var t,i,e;return null===(t=this.options[this.chooseOpt])||void 0===t||null===(i=t.activity)||void 0===i||null===(e=i.groups)||void 0===e?void 0:e.ladder_price},defaultOpt:function(){var t;return null===(t=this.activeInfo)||void 0===t?void 0:t.every_ladder_min_price}},methods:{clickLevel:function(t){this.$emit("click-level",t+1)},getDefault:function(t){return"".concat(this.defaultOpt[t]).concat(Object.values(this.options).length?"起":"")}}};i.default=o},cfe0:function(t,i,e){"use strict";e.r(i);var o=e("061c"),n=e("8c2a");for(var c in n)["default"].indexOf(c)<0&&function(t){e.d(i,t,(function(){return n[t]}))}(c);e("e1c6");var r,s=e("f0c5"),a=Object(s["a"])(n["default"],o["b"],o["c"],!1,null,"5962c7c0",null,!1,o["a"],r);i["default"]=a.exports},dc11:function(t,i,e){function o(){new Promise((function(t,i){uni?uni.getSystemInfo({success:function(i){t(i)}}):t({pixelRatio:window.devicePixelRatio})}))}function n(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return void 0===t&&(t=e),t||(t=0),t*i+"rpx"}Object.defineProperty(i,"__esModule",{value:!0}),i.getSystemInfo=o,i.px2rpx=n,e("4917")},e1c6:function(t,i,e){"use strict";var o=e("e494"),n=e.n(o);n.a},e494:function(t,i,e){var o=e("e58d");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var n=e("4f06").default;n("d6bcf3d4",o,!0,{sourceMap:!1,shadowMode:!1})},e58d:function(t,i,e){var o=e("24fb");i=o(!1),i.push([t.i,'@charset "UTF-8";\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.block-cover[data-v-5962c7c0]{background:rgba(0,0,0,.6);height:100%;width:100%;line-height:1;position:fixed;top:0;left:0;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;z-index:999999}.block-cover .picker-close[data-v-5962c7c0]{position:absolute;top:%?18?%;right:%?18?%;width:%?48?%;height:%?48?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.block-cover .picker-close .iconfont-m-[data-v-5962c7c0]{font-size:%?36?%}.block-cover .picker-content[data-v-5962c7c0]{position:relative;background:#fff;height:%?980?%;padding:%?32?% %?24?% 0;box-sizing:border-box;border-radius:%?20?% %?20?% 0 0}.block-cover .picker-content .picker-goods[data-v-5962c7c0]{background-color:#fff;margin-bottom:%?32?%}.block-cover .picker-content .picker-goods .picker-goods-img[data-v-5962c7c0]{width:%?180?%;height:%?180?%;margin-right:%?24?%;border:1px solid #e6e7eb;box-sizing:border-box;border-radius:%?8?%}.block-cover .picker-content .picker-goods .picker-price[data-v-5962c7c0]{font-size:%?28?%;line-height:%?40?%;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.block-cover .picker-content .picker-goods .picker-price .fs-18[data-v-5962c7c0]{margin-left:%?-8?%;font-size:%?36?%;line-height:%?50?%}.block-cover .picker-content .picker-goods .picker-price .price[data-v-5962c7c0]{color:#ff3c29}.block-cover .picker-content .picker-goods .picker-price .ml-0[data-v-5962c7c0]{margin-left:0}.block-cover .picker-content .picker-goods .picker-price .del-price[data-v-5962c7c0]{margin-left:%?16?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.block-cover .picker-content .picker-goods .picker-price .del-price .level[data-v-5962c7c0]{line-height:%?16?%;font-size:%?16?%;border-radius:%?20?%;background:#31312d;color:#f2dcac;overflow:hidden;margin-bottom:%?4?%;vertical-align:middle;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.block-cover .picker-content .picker-goods .picker-price .del-price .level .icon-m-huangguan[data-v-5962c7c0]{height:%?36?%;line-height:%?36?%;text-align:center;padding-left:%?8?%}.block-cover .picker-content .picker-goods .picker-price .del-price .level .level-name[data-v-5962c7c0]{font-size:%?20?%;padding:%?2?% %?16?% %?2?% 0;line-height:%?28?%}.block-cover .picker-content .picker-goods .picker-price .final-price[data-v-5962c7c0]{margin-left:%?10?%;padding:0 %?24?%;line-height:%?40?%;background-color:#ff3c29;color:#fff;font-size:%?28?%;border-radius:%?30?%}.block-cover .picker-content .picker-goods .picker-price .groups-label[data-v-5962c7c0]{margin-left:%?16?%;border:%?2?% solid #ff3c29;border-radius:%?20?%;padding:%?2?% %?8?%;font-size:%?20?%;line-height:%?28?%;color:#ff3c29;background:#fff3f5}.block-cover .picker-content .picker-goods .money[data-v-5962c7c0]{font-family:PingFang SC;font-style:normal;font-weight:500;font-size:%?24?%;line-height:%?34?%;-webkit-text-decoration-line:line-through;text-decoration-line:line-through;color:#969696}.block-cover .picker-content .picker-goods .picker-stock[data-v-5962c7c0]{font-size:%?24?%;line-height:%?34?%;color:#969696}.block-cover .picker-content .picker-goods .picker-choose-text[data-v-5962c7c0]{font-size:%?24?%;line-height:%?34?%;color:#212121}.block-cover .picker-content .picker-goods .picker-choose-text uni-text[data-v-5962c7c0]{margin-right:%?10?%}.block-cover .picker-content .picker-goods .picker-choose-text uni-text[data-v-5962c7c0]:first-child{margin-right:0}.block-cover .opt-item.van-hairline--bottom[data-v-5962c7c0]::after{border-bottom-color:#e6e7eb;border-style:solid}.block-cover .picker-options[data-v-5962c7c0]{height:%?624?%;overflow-y:scroll}.block-cover .picker-options[data-v-5962c7c0] .uni-scroll-view::-webkit-scrollbar{height:0;width:0}.block-cover .picker-options .spec-title[data-v-5962c7c0]{padding-top:%?32?%;font-size:%?28?%;line-height:%?40?%;color:#212121}.block-cover .picker-options .spec-title.first[data-v-5962c7c0]{padding-top:0}.block-cover .picker-options .items[data-v-5962c7c0]{-webkit-flex-wrap:wrap;flex-wrap:wrap;padding:%?16?% 0 %?16?%}.block-cover .picker-options .items .specs-item[data-v-5962c7c0]{width:-webkit-fit-content;width:fit-content;margin-right:%?24?%;margin-bottom:%?16?%;padding:%?10?% %?24?%;font-size:12px;line-height:17px;color:#212121;border:1px solid #e6e7eb;background-color:#fff;box-sizing:border-box;border-radius:%?30?%;min-width:%?96?%;text-align:center}.block-cover .picker-options .items .specs-item.disabled[data-v-5962c7c0]{border:1px dashed #e6e7eb;color:#ccc}.block-cover .picker-options[data-v-5962c7c0] .goods-diy-form-items{margin-top:%?-48?%}.block-cover .picker-options[data-v-5962c7c0] .goods-diy-form-items .form-item{margin-left:0}.block-cover .picker-options[data-v-5962c7c0] .goods-diy-form-items .form-item .form-templates{padding-left:0;padding-right:0}.block-cover .picker-number[data-v-5962c7c0]{margin-bottom:%?48?%;overflow:hidden}.block-cover .picker-number.padTop-16[data-v-5962c7c0]{padding-top:16px}.block-cover .picker-number .title[data-v-5962c7c0]{font-size:%?28?%;line-height:%?40?%;color:#212121}.block-cover .picker-number .uni-color-primary[data-v-5962c7c0]{font-size:%?24?%}.block-cover .picker-number .add-num[data-v-5962c7c0]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin:%?10?% %?16?%}.block-cover .picker-number .add-num .goods-total[data-v-5962c7c0]{display:inline-block;width:%?72?%;height:%?36?%;line-height:%?36?%;background:#f5f5f5;border-radius:%?4?%;color:#212121;font-size:%?24?%;text-align:center}.block-cover .picker-number .add-num .action-icon[data-v-5962c7c0]{display:block;box-sizing:initial;padding:%?12?%;font-size:%?24?%;font-weight:700;position:relative}.block-cover .picker-number .add-num .action-icon.disabled[data-v-5962c7c0]{color:#969696}.block-cover .picker-number .add-num .action-icon.left[data-v-5962c7c0]{\n  /*padding: px2rpx(16) 8rpx px2rpx(16) 38rpx;*/}.block-cover .picker-number .add-num .action-icon.left[data-v-5962c7c0]:after{content:"";position:absolute;width:%?64?%;height:%?64?%;left:%?-16?%;top:%?-8?%}.block-cover .picker-number .add-num .action-icon.right[data-v-5962c7c0]{\n  /*padding-left: 8rpx;*/}.block-cover .picker-number .add-num .action-icon.right[data-v-5962c7c0]:after{content:"";position:absolute;width:%?64?%;height:%?64?%;right:%?-16?%;top:%?-8?%}.block-cover .btn-box[data-v-5962c7c0]{padding:%?16?% 0;height:%?112?%}.block-cover .btn-box .btn[data-v-5962c7c0]{width:100%;height:%?80?%;line-height:%?80?%;color:#fff;text-align:center;font-size:%?28?%}.block-cover .btn-box .btn[data-v-5962c7c0]:first-child{border-top-left-radius:%?40?%;border-bottom-left-radius:%?40?%}.block-cover .btn-box .btn[data-v-5962c7c0]:last-child{border-top-right-radius:%?40?%;border-bottom-right-radius:%?40?%}.block-cover .btn-box .btn-buy[data-v-5962c7c0], .block-cover .btn-box .btn-sure[data-v-5962c7c0]{background:-webkit-linear-gradient(left,#ff3c29,#ff6f29);background:linear-gradient(90deg,#ff3c29,#ff6f29)}.block-cover .btn-box .disabled[data-v-5962c7c0]{background:#ccc!important}.block-cover .btn-box .btn-cart[data-v-5962c7c0]{background:#212121}.block-cover .line[data-v-5962c7c0]{height:1px;background-color:#e6e7eb}',""]),t.exports=i},f4fd:function(t,i,e){var o=e("09c9");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var n=e("4f06").default;n("090c737c",o,!0,{sourceMap:!1,shadowMode:!1})}}]);