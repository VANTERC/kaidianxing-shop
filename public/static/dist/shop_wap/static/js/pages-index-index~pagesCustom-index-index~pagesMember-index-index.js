(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[21],{"1b40":function(e,t,n){var a=n("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("ac6a");var i=a(n("d225")),o=a(n("b0b4")),s=function(){function e(t){(0,i.default)(this,e),this.pageInfo={},this.pageInfo=t}return(0,o.default)(e,[{key:"notice",value:function(e){return Math.min(66,66+e.style.marginbottom+e.style.margintop)}},{key:"banner",value:function(e){return e.style.imgheight>0?e.style.imgheight:284}},{key:"richtext",value:function(e){return 122}},{key:"title",value:function(e){return 80+2*e.style.paddingtop}},{key:"search",value:function(e){return 60+2*e.style.paddingtop}},{key:"line",value:function(e){return 1*e.style.height+2*e.style.padding}},{key:"blank",value:function(e){return 1*e.style.height}},{key:"menu",value:function(e){return 2==e.style.pagenum?e.data.length>e.style.rownum?376:346:e.data.length>e.style.rownum?203:173}},{key:"menu2",value:function(e){return 80+1*e.style.margintop}},{key:"picture",value:function(e){var t=0,n=750-2*e.style.paddingleft,a=n/750;return e.data.forEach((function(n){t+=Math.min(n.imgheight*a||0,423)+2*(e.style.paddingtop||0)})),t}},{key:"picturew",value:function(e){return 0}},{key:"pictures",value:function(e){return 292+2*e.style.paddingtop}},{key:"goods",value:function(e){var t=e.data;return this.pageInfo[e._comIndex_]&&(t=this.pageInfo[e._comIndex_].data||e.data),1==e.params.goodsscroll?"block two"==e.style.liststyle||"block"==e.style.liststyle?440+(1*e.style.marginbottom||0)+(1*e.style.margintop||0):"block three"==e.style.liststyle?320+(1*e.style.marginbottom||0)+(1*e.style.margintop||0):"block one"==e.style.liststyle?404+(1*e.style.marginbottom||0)+(1*e.style.margintop||0):0:"block two"==e.style.liststyle||"block"==e.style.liststyle?472*Math.ceil(t.length/2)+(1*e.style.marginbottom||0)+(1*e.style.margintop||0):"block three"==e.style.liststyle?346*Math.ceil(t.length/3)+(1*e.style.marginbottom||0)+(1*e.style.margintop||0):"block one"==e.style.liststyle?450*t.length+(1*e.style.marginbottom||0)+(1*e.style.margintop||0):"list"==e.style.liststyle?312*t.length+(1*e.style.marginbottom||0)+(1*e.style.margintop||0):0}},{key:"groupsgoods",value:function(e){return 0}},{key:"diymod",value:function(e){return 0}},{key:"listmenu",value:function(e){return 96*e.data.length}},{key:"wxcard",value:function(e){return 0}},{key:"verify",value:function(e){return 0}},{key:"member",value:function(e){return 280}},{key:"distributor",value:function(e){return 516}},{key:"icongroup",value:function(e){return 170*Math.ceil(e.data.length/e.params.rownum)}},{key:"bindmobile",value:function(e){return 102+(1*e.style.margintop||0)+(1*e.style.marginbottom||0)}},{key:"logout",value:function(e){return(1*e.style.margintop||0)+(1*e.style.marginbottom||0)+80}},{key:"video",value:function(e){return"0"==e.style.ratio?394:"1"==e.style.ratio?526:"2"==e.style.ratio?702:0}},{key:"memberc",value:function(e){return 280}},{key:"commission_block",value:function(e){return 0}},{key:"commission_sharecode",value:function(e){return 96+(1*e.style.margintop||0)+(1*e.style.marginbottom||0)}},{key:"blockgroup",value:function(e){return 232*Math.ceil(e.data.length/e.params.rownum)}},{key:"detail_tab",value:function(e){return 0}},{key:"detail_swipe",value:function(e){return 750}},{key:"detail_info",value:function(e){return 200}},{key:"detail_sale",value:function(e){var t,n=null===(t=this.pageInfo.detail_sale)||void 0===t?void 0:t.params,a="{}"!=JSON.stringify(n)&&(!(null!==n&&void 0!==n&&n.buy_button_status)||(null===n||void 0===n?void 0:n.isBargain));return a?70*e.data.length:0}},{key:"detail_spec",value:function(e){var t,n=null===(t=this.pageInfo.detail_sale)||void 0===t?void 0:t.params,a="{}"!=JSON.stringify(n)&&(!(null!==n&&void 0!==n&&n.buy_button_status)||(null===n||void 0===n?void 0:n.isBargain));return a?70+(1*e.style.margintop||0)+(1*e.style.marginbottom||0):0}},{key:"detail_shop",value:function(e){return 0}},{key:"detail_comment",value:function(e){return Math.max(192,180*e.data.length+60)}},{key:"detail_buyshow",value:function(e){return 0}},{key:"detail_store",value:function(e){return 0}},{key:"detail_package",value:function(e){return 0}},{key:"detail_pullup",value:function(e){return 80}},{key:"detail_navbar",value:function(e){return 0}},{key:"detail_seckill",value:function(e){return 0}},{key:"audio",value:function(e){return 0}},{key:"seckillgroup",value:function(e){return 0}},{key:"seckill_times",value:function(e){return 0}},{key:"seckill_rooms",value:function(e){return 0}},{key:"seckill_advs",value:function(e){return 0}},{key:"seckill_list",value:function(e){return 0}},{key:"coupon",value:function(e){return e.data.length?224*Math.ceil(e.data.length/e.params.num_row)+26:0}},{key:"fixedsearch",value:function(e){return 92}},{key:"exchange_banner",value:function(e){return 0}},{key:"exchange_input",value:function(e){return 0}},{key:"exchange_rule",value:function(e){return 0}},{key:"tabbar",value:function(e){return 1==e.style.showtype?80:80*Math.min(Math.ceil(e.data.length/4),2)}},{key:"topmenu",value:function(e){return 80}},{key:"layer",value:function(e){return 0}},{key:"gotop",value:function(e){return 0}},{key:"diymenu",value:function(e){return 0}},{key:"followbar",value:function(e){return 96}},{key:"advs",value:function(e){return 0}},{key:"danmu",value:function(e){return 0}},{key:"liver",value:function(e){return 120}},{key:"diyform",value:function(e){var t=0;return e.data.forEach((function(e){switch(e.id){case"pictures":t+=272;break;case"singlelinetext":case"selector":case"identity":case"timer":case"city":case"datepicker":t+=96;break;case"multilinetext":t+=208;break;case"radios":case"checkboxes":t+=96+108*e.data.length;break;case"timerange":case"daterange":t+=284;break}})),t}},{key:"hot_area",value:function(e){var t=0;if(e.style.imgheight>0){var n=750-2*e.style.marginleft;t=n*e.style.imgheight/e.style.imgwidth+e.style.margintop+e.style.marginbottom}return t}},{key:"cube",value:function(e){if("cell_two"==e.params.cubestyle||"cell_three"==e.params.cubestyle){var t={cell_two:2,cell_three:3},n=t[e.params.cubestyle],a=e.style,i=a.margininside,o=a.marginleft,s=(750-2*o-i*(n-1))/n,r=e.params,l=r.imgheight,u=r.imgwidth;return parseInt(l*s/u)}return 750}},{key:"presell",value:function(e){var t=0,n=e.data;return this.pageInfo[e._comIndex_]&&(n=this.pageInfo[e._comIndex_].data||e.data),"block three"==e.style.listtype?t=152+(1*e.style.marginbottom||0)+(1*e.style.margintop||0)+448*Math.ceil(n.length/3):"list"==e.style.listtype&&(t=312*n.length+(1*e.style.marginbottom||0)+(1*e.style.margintop||0)),t}},{key:"seckill",value:function(e){var t=0;if(e){var n=this.pageInfo[e._comIndex_]||{},a=(null===n||void 0===n?void 0:n.data)||e.data;if(0==a.length)return 0;t="scroll"==e.style.listtype?474+e.style.margintop+e.style.marginbottom:80+272*a.length+e.style.margintop+e.style.marginbottom}return t}},{key:"groups",value:function(e){var t=0;if(e){var n=this.pageInfo[e._comIndex_]||{},a=(null===n||void 0===n?void 0:n.data)||e.data;if(0==a.length)return 0;t="scroll"==e.params.listtype?0+e.style.margintop+e.style.marginbottom:"list"==e.params.listtype?0+252*a.length+e.style.margintop+e.style.marginbottom:0+596*Math.ceil(a.length/2)+e.style.margintop+e.style.marginbottom}return t}},{key:"credit",value:function(e){return 494}},{key:"followpublicaccount",value:function(e){return 84}},{key:"flowmain",value:function(e){return 0}}]),e}();t.default=s},"67e9":function(e,t,n){(function(e){var a=n("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.LazyLoadList=void 0,n("96cf");var i=a(n("3b8d")),o=a(n("75fc")),s=a(n("d225")),r=a(n("b0b4")),l=n("b41d"),u=a(n("1b40")),c=a(n("6031")),h=function(){function t(e,n){var a=this;(0,s.default)(this,t),this.pageInfo={},this.pageList=[],this.showingList=[],this.cacheCallbacks=null,this.screenHeight=0,this.px2upx=1,this.container=null,this.checkDistance=!1,this.scrollTop=-1,this.newAddPageBoxHeight=0,this.hodedPageHeight=0,this.pageBoxHeight=0,this.pageType=-1,this.loader=null,this.throttleCheckPageList=null,this.throttleGetMore=null,this.screenHeightPx=null,this.lastLazyComponent=null,this.lastLazyComponentIdx=-1,this.isNotLazyCom={},this.loader=new u.default(c.default.getPage(n).pageInfo),this.pageType=n,this.container=document.getElementsByClassName("decorate-page"),this.px2upx=uni.upx2px(10)/10,e&&(this.cacheCallbacks=e),c.default.$off("getPageBoxHeight"),c.default.$on("getPageBoxHeight",(function(e){a.checkPageList()}))}return(0,r.default)(t,[{key:"getSysInfo",value:function(){var e=this;return new Promise((function(t,n){e.screenHeight&&t(e.screenHeight),uni.getSystemInfo({success:function(n){e.screenHeightPx=n.windowHeight,e.screenHeight=n.windowHeight/n.windowWidth*750,t(e.screenHeight)}})}))}},{key:"initPageList",value:function(e){if(!(0,l.deepCompare)(this.pageList,e)){this.showingList=[],this.pageList=(0,o.default)(e),this.scrollTop=0,this.newAddPageBoxHeight=0,this.hodedPageHeight=0,this.lastLazyComponent=null,this.lastLazyComponentIdx=-1,this.isNotLazyCom={};var t=c.default.getPage(this.pageType);c.default.onGetMorePageList([].concat((0,o.default)(t.isBottom||[]),(0,o.default)(t.isTop||[]),(0,o.default)(t.isFixed||[])),this,this.pageType)}}},{key:"refresh",value:function(){return this.scrollTop=0,this.pageList=[],this.showingList=[],this.newAddPageBoxHeight=0,this.hodedPageHeight=0,this.lastLazyComponent=null,this.lastLazyComponentIdx=-1,this.isNotLazyCom={},this}},{key:"lazyComponent",value:function(){var t=(0,i.default)(regeneratorRuntime.mark((function t(n){var a,i,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=null,o=!0,s=c.default.getModule(n.id),i=null===s||void 0===s||null===(a=s.onLoadAll)||void 0===a?void 0:a.call(s,n,this.pageType),!(i&&i instanceof Promise)){t.next=22;break}return t.prev=5,t.next=8,i;case 8:if(o=t.sent,!o){t.next=13;break}return t.abrupt("return");case 13:if("function"!=typeof s.onLoadMore){t.next=16;break}return this.lastLazyComponent=s,t.abrupt("return",n);case 16:t.next=22;break;case 18:return t.prev=18,t.t0=t["catch"](5),e.log(n,"uuuuuuuuuuuuu",t.t0),t.abrupt("return");case 22:return t.abrupt("return");case 23:case"end":return t.stop()}}),t,this,[[5,18]])})));function n(e){return t.apply(this,arguments)}return n}()},{key:"getComponentsLength",value:function(){var t=(0,i.default)(regeneratorRuntime.mark((function t(n,a){var i,o,s,r,l,u=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:i=u.length>2&&void 0!==u[2]?u[2]:0,o=0,s=0,r=null,l=i;case 5:if(!(l<n.length)){t.next=27;break}if(r=n[l],this.isNotLazyCom[l]){t.next=19;break}return this.isNotLazyCom[l]=!0,t.prev=9,t.next=12,this.lazyComponent(r);case 12:t.next=18;break;case 14:t.prev=14,t.t0=t["catch"](9),this.lastLazyComponent=null,this.lastLazyComponentIdx=-1;case 18:this.lastLazyComponent&&(this.lastLazyComponentIdx=l,this.isNotLazyCom[l]=!1);case 19:if("function"==typeof this.loader[r.id]?s+=this.loader[r.id](r):e.error("请完善组件：".concat(r.id,"对应的./Calculater.js中尺寸计算功能！！")),!(s>=a)){t.next=24;break}return o=l+1,0==i&&(this.hodedPageHeight=s),t.abrupt("break",27);case 24:l++,t.next=5;break;case 27:return o=Math.min(o,n.length)||n.length,t.abrupt("return",o);case 29:case"end":return t.stop()}}),t,this,[[9,14]])})));function n(e,n){return t.apply(this,arguments)}return n}()},{key:"getNewAddNum",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500,t=0,n=0,a=null,i=this.showingList.length;i<=this.pageList.length;i++)if(a=this.pageList[i],a&&(t+=this.loader[a.id](a),t>e)){n=i-this.showingList.length;break}return n||(n=this.pageList.length-this.showingList.length),n}},{key:"checkPageList",value:function(){var e=this;clearTimeout(this.throttleCheckPageList),this.throttleCheckPageList=setTimeout((0,i.default)(regeneratorRuntime.mark((function t(){var n,a,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getComponentsLength(e.pageList,e.hodedPageHeight,0);case 2:if(n=t.sent,!(n>e.showingList.length&&e.showingList.length<=e.pageList.length)){t.next=24;break}if(a=e.pageList.slice(e.showingList.length,n),i=e.pageList.slice(0,n),!a.length||i.length==e.showingList.length){t.next=23;break}if(!e.lastLazyComponent){t.next=22;break}return t.prev=8,t.next=11,e.lastLazyComponent.onLoadAll(e.pageList[e.lastLazyComponentIdx],e.pageType);case 11:return o=t.sent,o?(e.lastLazyComponent=null,e.lastLazyComponentIdx=-1):e.lastLazyComponent.onLoadMore(e.pageType),t.abrupt("return");case 16:t.prev=16,t.t0=t["catch"](8),e.lastLazyComponent=null,e.lastLazyComponentIdx=-1;case 20:t.next=23;break;case 22:c.default.onGetMorePageList(a,e,e.pageType);case 23:e.cacheCallbacks&&i.length!=e.showingList.length&&(e.showingList=i,e.cacheCallbacks&&e.cacheCallbacks((0,l.deepCopy)(e.showingList)));case 24:case"end":return t.stop()}}),t,null,[[8,16]])}))),500)}},{key:"getAll",value:function(e){this.showingList=(0,o.default)(e),c.default.onGetMorePageList((0,o.default)(e),this,this.pageType),this.cacheCallbacks((0,l.deepCopy)(this.showingList))}},{key:"getMore",value:function(){var e=(0,i.default)(regeneratorRuntime.mark((function e(t){var n,a,i,o,s,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:0,r.length>2?r[2]:void 0,e.prev=2,e.next=5,this.getSysInfo();case 5:e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](2);case 9:if(!this.lastLazyComponent){e.next=27;break}return e.prev=10,e.next=13,this.lastLazyComponent.onLoadAll(this.pageList[this.lastLazyComponentIdx],this.pageType);case 13:if(a=e.sent,a){e.next=19;break}return this.lastLazyComponent.onLoadMore(this.pageType),e.abrupt("return");case 19:this.lastLazyComponent=null,this.lastLazyComponentIdx=-1;case 21:e.next=27;break;case 23:e.prev=23,e.t1=e["catch"](10),this.lastLazyComponent=null,this.lastLazyComponentIdx=-1;case 27:return this.scrollTop=n,this.initPageList(t),0==this.newAddPageBoxHeight?(this.newAddPageBoxHeight=Math.max(1.1*this.screenHeight,this.scrollTop),this.hodedPageHeight=this.newAddPageBoxHeight):(this.newAddPageBoxHeight=.5*this.screenHeight,this.hodedPageHeight=this.hodedPageHeight+this.newAddPageBoxHeight),e.next=32,this.getComponentsLength(this.pageList,this.newAddPageBoxHeight,this.showingList.length);case 32:if(i=e.sent,i!=this.showingList.length||!this.lastLazyComponent){e.next=38;break}return e.next=36,this.lastLazyComponent.onLoadMore(this.pageType);case 36:e.next=39;break;case 38:i<=this.pageList.length&&i<=this.showingList.length&&(i=Math.min(this.pageList.length,this.showingList.length+(this.getNewAddNum(.5*this.screenHeight)||1)));case 39:i>this.showingList.length&&this.showingList.length<=this.pageList.length&&(o=this.pageList.slice(this.showingList.length,i),o.length&&c.default.onGetMorePageList(o,this,this.pageType),s=this.pageList.slice(0,i),this.cacheCallbacks&&s.length!=this.showingList.length&&(this.showingList=s,this.cacheCallbacks((0,l.deepCopy)(this.showingList))));case 40:case"end":return e.stop()}}),e,this,[[2,7],[10,23]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"h5ReachBottom",value:function(e){var t=this,n=document.getElementsByTagName("body")[0],a=document.documentElement,i=200/this.px2upx;n.onscroll=function(){t.scrollTop=n.scrollTop||a.scrollTop,clearTimeout(t.checkDistance),t.checkDistance=setTimeout((function(){var n;e&&Math.abs(((null===(n=t.container[0])||void 0===n?void 0:n.clientHeight)-t.scrollTop)/t.px2upx-t.screenHeight)<i&&e({scrollTop:t.scrollTop}),t.checkDistance=!1}),60)}}}]),t}();t.LazyLoadList=h}).call(this,n("5a52")["default"])},b703:function(e,t,n){var a=n("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("96cf");var i=a(n("3b8d")),o=a(n("d225")),s=a(n("b0b4")),r=a(n("4360")),l=n("a18c"),u=n("3f1e"),c=function(){function e(t){(0,o.default)(this,e),this.optionId=0,this.optionChoseNum=1,this.callback=null,this.callback=t,this.pickerCallback=this.pickerCallback.bind(this)}return(0,s.default)(e,[{key:"pickerCallback",value:function(e){var t=this;return new Promise(function(){var n=(0,i.default)(regeneratorRuntime.mark((function n(a,i){var o,s,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if("clickBtn"!==(null===e||void 0===e?void 0:e.type)||"cart"!==e.data.type){n.next=10;break}if(!(0,u.hasBindBySence)("add_cart")){n.next=5;break}return r.default.commit("login/setModal",!0),a({type:"clickBtn"}),n.abrupt("return");case 5:return n.next=7,r.default.dispatch("quickPurchase/addCart",{option_id:t.optionId,total:t.optionChoseNum});case 7:a(),n.next=20;break;case 10:if("clickBtn"!==(null===e||void 0===e?void 0:e.type)||"buy"!==e.data.type){n.next=19;break}return n.next=13,r.default.dispatch("quickPurchase/createOrder",{option_id:t.optionId,total:t.optionChoseNum});case 13:o=n.sent,a(),r.default.commit("form/resetForm"),l.router.push({path:"/pagesOrder/create",query:o}),n.next=20;break;case 19:"choose"==e.type?t.optionId=(null===e||void 0===e||null===(s=e.data)||void 0===s||null===(c=s.options)||void 0===c?void 0:c.id)||0:"changeNum"==e.type?t.optionChoseNum=e.data.total:e&&t.callback&&t.callback(e);case 20:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())}},{key:"getGoodDetail",value:function(e){return r.default.commit("form/resetForm"),new Promise((function(t,n){r.default.dispatch("quickPurchase/getQuickPurchaseData",{goodId:e}).then((function(e){0==e.error?t(e):n(e),uni.hideLoading()})).catch((function(e){n(e),uni.hideLoading()}))}))}}]),e}();t.default=c}}]);