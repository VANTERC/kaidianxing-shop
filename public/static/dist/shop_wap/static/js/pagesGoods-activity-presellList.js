(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[70],{"0394":function(t,i,e){var s=e("288e");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var o=s(e("a928")),n={components:{goodsList:o.default},props:{},data:function(){return{list:[],page:1,loading:!1,count:0,reqesting:!1,activityId:""}},computed:{loadingType:function(){var t=0;return this.loading?t=1:this.list.length==this.count&&this.count>0&&0==this.loading&&(t=2),t}},mounted:function(){this.activityId=this.$Route.query.activityId,this.getList()},methods:{getList:function(){var t=this;if(!this.reqesting){this.reqesting=!0;var i={page:this.page,get_activity:1,activity_id:this.activityId||"",activity_type:"presell"};this.loading=!0,this.$api.goodsApi.goodsList(i).then((function(i){i.list.length>0&&(t.list=t.list.concat(i.list)),t.page=t.page+1,t.loading=!1,t.count=i.total,t.graceLazyload.load(0,t),t.reqesting=!1})).catch((function(i){t.reqesting=!1}))}},reset:function(){this.list=[],this.page=1,this.getList()}},onPullDownRefresh:function(){this.list=[],this.page=1,this.getList(),setTimeout((function(){uni.stopPullDownRefresh()}),1e3)},onReachBottom:function(){this.list.length==this.count&&this.page>1||this.getList()},onPageScroll:function(t){this.graceLazyload.load(t.scrollTop,this)}};i.default=n},"0d42":function(t,i,e){var s=e("24fb");i=s(!1),i.push([t.i,'@charset "UTF-8";\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.presell-goods-list[data-v-4d1430f7]{position:relative;min-height:100vh;overflow:auto}.presell-goods-list .container[data-v-4d1430f7]{padding:%?24?% %?16?%}',""]),t.exports=i},"1a85":function(t,i,e){"use strict";e.r(i);var s=e("4d21"),o=e.n(s);for(var n in s)["default"].indexOf(n)<0&&function(t){e.d(i,t,(function(){return s[t]}))}(n);i["default"]=o.a},"2c72":function(t,i,e){"use strict";e.r(i);var s=e("0394"),o=e.n(s);for(var n in s)["default"].indexOf(n)<0&&function(t){e.d(i,t,(function(){return s[t]}))}(n);i["default"]=o.a},"2cc3":function(t,i,e){var s=e("0d42");"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var o=e("4f06").default;o("d66f7de6",s,!0,{sourceMap:!1,shadowMode:!1})},"3dfb":function(t,i,e){"use strict";var s=e("2cc3"),o=e.n(s);o.a},"4d21":function(t,i,e){var s=e("288e");e("8e6e"),e("ac6a"),e("456d"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,e("c5f6"),e("a481");var o=s(e("bd86")),n=e("2f62");function a(t,i){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);i&&(s=s.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),e.push.apply(e,s)}return e}function l(t){for(var i=1;i<arguments.length;i++){var e=null!=arguments[i]?arguments[i]:{};i%2?a(Object(e),!0).forEach((function(i){(0,o.default)(t,i,e[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):a(Object(e)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}))}return t}var c=null,r={props:{list:{type:Array,default:function(){return[]}},type:{type:String,default:"goods"}},data:function(){return{loading:{},preloading:!0}},mounted:function(){var t=this;setTimeout((function(){t.preloading=!1}),3e3)},computed:l(l({},(0,n.mapState)("setting",{sale_out:function(t){var i,e;return(null===(i=t.systemSetting)||void 0===i||null===(e=i.basic)||void 0===e?void 0:e.sale_out)||""}})),{},{getSoldOutIcon:function(){return this.sale_out?this.$utils.media(this.sale_out):this.$utils.staticImg("decorate/sale_out.png")},getList:function(){var t=this;return this.list.map((function(i){var e,s=null===(e=i.thumb)||void 0===e?void 0:e.replace(/\./g,"_");return i.preloading=void 0===t.loading[s]||t.loading[s],i}))},getLoadingSrc:function(){var t,i;return null!==(t=this.$store.state.setting.systemSetting)&&void 0!==t&&null!==(i=t.basic)&&void 0!==i&&i.loading?this.$store.state.setting.cacheLoadingImg||this.$utils.media(this.$store.state.setting.systemSetting.basic.loading):this.$utils.staticImg("decorate/goods_col2.png")}}),created:function(){},methods:{is_presell:function(t){return t.activities&&t.activities.presell&&"presell"==this.type},is_seckill:function(t){return t.activities&&(t.activities.seckill||t.activities.preheat_activity)&&"seckill"==this.type},clickAdd:function(t){this.$emit("custom-event",{type:"addCart",data:{goods_id:t.id,option_id:t.has_option}})},loaded:function(t){var i=this;if(t){var e=t.replace(/\./g,"_");this.loading[e]=!1,clearTimeout(c),c=setTimeout((function(){i.loading=l({},i.loading)}),100)}},todetail:function(t){this.$Router.push({path:"/pagesGoods/detail/index",query:{goods_id:t}})}},filters:{filterPrice:function(t){var i,e,s,o,n,a,l,c,r,d,u,f,g,p,v,m,h,b,_,y;return 0==(null===t||void 0===t||null===(i=t.activities)||void 0===i||null===(e=i.presell)||void 0===e?void 0:e.presell_type)?0==t.has_option?"￥".concat(null===t||void 0===t||null===(s=t.activities)||void 0===s||null===(o=s.presell)||void 0===o||null===(n=o.goods_info)||void 0===n?void 0:n.front_money,"抵￥").concat(Number(null===t||void 0===t||null===(a=t.activities)||void 0===a||null===(l=a.presell)||void 0===l||null===(c=l.goods_info)||void 0===c?void 0:c.front_money_deduct)):"￥".concat(null===t||void 0===t||null===(r=t.activities)||void 0===r||null===(d=r.presell)||void 0===d||null===(u=d.price_range)||void 0===u?void 0:u.min_price,"抵￥").concat(Number(null===t||void 0===t||null===(f=t.activities)||void 0===f||null===(g=f.presell)||void 0===g||null===(p=g.price_range)||void 0===p?void 0:p.min_price_deduct)):0==t.has_option?null===t||void 0===t||null===(v=t.activities)||void 0===v||null===(m=v.presell)||void 0===m||null===(h=m.goods_info)||void 0===h?void 0:h.front_money:null===t||void 0===t||null===(b=t.activities)||void 0===b||null===(_=b.presell)||void 0===_||null===(y=_.price_range)||void 0===y?void 0:y.min_price},getSeckillPrice:function(t){var i,e,s,o=(null===(i=t.activities)||void 0===i?void 0:i.seckill)||(null===(e=t.activities)||void 0===e?void 0:e.preheat_activity)||{};return"1"==t.has_option?(null===o||void 0===o||null===(s=o.price_range)||void 0===s?void 0:s.min_price)||0:null===o||void 0===o?void 0:o.activity_price},formatMoney:function(t){return"number"===typeof t||"string"===typeof t&&""!==t.trim()?t>=1e4?parseFloat(t/1e4)+"万":parseFloat(t):0}}};i.default=r},8824:function(t,i,e){"use strict";var s;e.d(i,"b",(function(){return o})),e.d(i,"c",(function(){return n})),e.d(i,"a",(function(){return s}));var o=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("kdx-page-box",[e("v-uni-view",{staticClass:"presell-goods-list"},[e("v-uni-view",{staticClass:"container"},[e("goods-list",{attrs:{list:t.list,type:"presell"}}),t.list.length!=t.count?e("kdx-page-loading",{attrs:{loadingType:t.loadingType}}):t._e()],1),!t.loading&&t.count<=0?[e("v-uni-view",{staticClass:"default-page flex-column"},[e("v-uni-view",{staticClass:"bg"},[e("v-uni-image",{attrs:{src:t.$utils.staticImg("default/search.png")}})],1),e("v-uni-view",{staticClass:"default-text"},[t._v("没找到相关宝贝")])],1)]:t._e()],2)],1)},n=[]},8878:function(t,i,e){var s=e("a0ae");"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var o=e("4f06").default;o("19cc5902",s,!0,{sourceMap:!1,shadowMode:!1})},9332:function(t,i,e){"use strict";var s=e("8878"),o=e.n(s);o.a},a0ae:function(t,i,e){var s=e("24fb");i=s(!1),i.push([t.i,'@charset "UTF-8";\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.goods-list-template[data-v-c6df4362]{position:relative;box-sizing:border-box}.goods-list-template .loading[data-v-c6df4362]{display:block;height:0;opacity:0}.goods-list-template .card-list.single[data-v-c6df4362]{background-color:#fff;border-radius:%?12?%}.goods-list-template .card-list.single .goods-card-item[data-v-c6df4362]{padding:%?16?% %?24?%}.goods-list-template .btn-box[data-v-c6df4362]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;height:100%;margin:auto 0}.goods-list-template .icon-m-buy1[data-v-c6df4362]{color:#ff3c29;font-size:%?40?%;width:%?40?%;height:%?40?%;text-align:center;line-height:%?40?%;margin:auto 0 auto auto}.goods-list-template .goods-card-inner .sub-title[data-v-c6df4362]{margin-top:%?8?%;font-size:%?24?%;line-height:%?34?%;color:#969696}.goods-list-template .deposit[data-v-c6df4362]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-top:%?8?%}.goods-list-template .deposit .deposit-text[data-v-c6df4362]{width:%?74?%;height:%?38?%;font-size:%?24?%;border-radius:%?20?% 0 0 %?20?%;background-color:#ff3c29;color:#fff;text-align:center}.goods-list-template .deposit .deposit-price[data-v-c6df4362]{padding:0 %?16?%;height:%?38?%;font-size:%?24?%;border-radius:0 %?20?% %?20?% 0;background-color:#fff;color:#ff3c29;border:1px solid #ff3c29}.goods-list-template .presell-btn-box[data-v-c6df4362]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:end;-webkit-align-items:flex-end;align-items:flex-end}.goods-list-template .presell-btn-box .btn[data-v-c6df4362]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:0 %?16?%;height:%?54?%;margin:0;border-radius:%?30?%;border:1px solid #ff3c29}.goods-list-template .presell-btn-box .btn .buybtn[data-v-c6df4362]{margin-right:%?8?%;font-size:%?24?%;line-height:%?34?%;color:#ff3c29}.goods-list-template .presell-btn-box .btn .iconfont-m-[data-v-c6df4362]{font-size:%?24?%;color:#ff3c29}.goods-list-template .seckill-btn-box[data-v-c6df4362]{height:%?54?%;border-radius:%?48?%;padding:0 %?28?%;font-size:%?24?%;font-weight:700;line-height:%?54?%;text-align:center;color:#fff;background:-webkit-linear-gradient(317.43deg,#ff3c29,#ff6f29 94.38%);background:linear-gradient(132.57deg,#ff3c29,#ff6f29 94.38%)}.goods-list-template .commision-money[data-v-c6df4362]{position:absolute;bottom:0;left:0;z-index:99;width:100%;height:%?42?%;font-size:%?20?%;line-height:%?42?%;text-align:center;color:#fff;background:-webkit-linear-gradient(278.34deg,#ff3c29,#ff6f29 94.38%);background:linear-gradient(171.66deg,#ff3c29,#ff6f29 94.38%)}.goods-list-template .card-list.seckill[data-v-c6df4362]{background:transparent}.goods-list-template .container[data-v-c6df4362]{margin-bottom:%?16?%;border-radius:%?12?%;background:#fff}.goods-list-template .seckill .goods-price-info .goods-price-unit[data-v-c6df4362], .goods-list-template .seckill .goods-seckill-tag .goods-price-unit[data-v-c6df4362]{font-size:%?24?%;line-height:%?28?%;color:#ff3c29}.goods-list-template .seckill .goods-price-info .goods-price-num[data-v-c6df4362], .goods-list-template .seckill .goods-seckill-tag .goods-price-num[data-v-c6df4362]{font-size:%?32?%;font-weight:700;color:#ff3c29}.goods-list-template .goods-price-box[data-v-c6df4362]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.goods-list-template .goods-price-info[data-v-c6df4362]{margin-top:%?24?%}.goods-list-template .goods-price-info .goods-seckill-tag[data-v-c6df4362]{display:inline-block;margin-right:%?8?%;border-radius:%?4?%;padding:0 %?8?%;min-width:%?48?%;font-size:%?20?%;text-align:center;line-height:%?28?%;color:#ff3c29;border:1px solid #ff3c29}.goods-list-template .goods-price-info .goods-price-unit[data-v-c6df4362]{font-size:%?20?%;line-height:%?28?%;color:#ff3c29}.goods-list-template .goods-price-info .goods-price-num[data-v-c6df4362]{font-size:%?24?%;color:#ff3c29}.goods-list-template .goods-price-info .orginal-price[data-v-c6df4362]{margin-left:%?8?%;text-decoration:line-through;font-size:%?20?%;line-height:%?28?%;color:#969696}',""]),t.exports=i},a928:function(t,i,e){"use strict";e.r(i);var s=e("ed52"),o=e("1a85");for(var n in o)["default"].indexOf(n)<0&&function(t){e.d(i,t,(function(){return o[t]}))}(n);e("9332");var a,l=e("f0c5"),c=Object(l["a"])(o["default"],s["b"],s["c"],!1,null,"c6df4362",null,!1,s["a"],a);i["default"]=c.exports},ed52:function(t,i,e){"use strict";var s;e.d(i,"b",(function(){return o})),e.d(i,"c",(function(){return n})),e.d(i,"a",(function(){return s}));var o=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("kdx-theme-content",[e("v-uni-view",{staticClass:"goods-list-template"},[e("v-uni-view",{staticClass:"card-list single",class:{seckill:"seckill"==t.type}},t._l(t.getList,(function(i,s){return e("v-uni-view",{key:s,staticClass:"goods-card-item",class:{line:!t.is_seckill(i),container:t.is_seckill(i)},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.todetail(i.id)}}},[e("v-uni-view",{staticClass:"goods-card-inner flex"},[e("v-uni-view",{staticClass:"label-box"},[e("v-uni-view",{staticClass:"label-icon"},[i.stock<1?e("v-uni-view",{staticClass:"sale-img"},[e("v-uni-image",{staticClass:"sale-img-soldout",attrs:{src:t.getSoldOutIcon}})],1):t._e(),t.is_presell(i)?[e("v-uni-view",{staticClass:"hot"},[e("v-uni-image",{attrs:{src:t.$utils.staticImg("goods/4.png")}}),e("span",[t._v("预售")])],1)]:t._e(),t.is_seckill(i)?[e("v-uni-view",{staticClass:"seckill-tag"},[e("i",{staticClass:"iconfont-m- icon-m-shandian badge-icon"}),e("span",{staticClass:"badge-text"},[t._v("限时秒杀")])])]:t._e()],2),i.activities&&i.activities.commission?e("v-uni-view",{staticClass:"commision-money"},[t._v("预计佣金￥"+t._s(t._f("formatMoney")(i.activities.commission)))]):t._e(),i.preloading&&t.preloading?e("v-uni-image",{staticClass:"goods-img preload",attrs:{mode:"widthFix","lazy-load":!0,src:t.getLoadingSrc,alt:""}}):t._e(),e("v-uni-image",{staticClass:"goods-img",class:{loading:i.preloading&&t.preloading},attrs:{src:t.$utils.media(i.thumb)},on:{load:function(e){arguments[0]=e=t.$handleEvent(e),t.loaded(i.thumb)},error:function(e){arguments[0]=e=t.$handleEvent(e),t.loaded(i.thumb)}}})],1),e("v-uni-view",{staticClass:"goods-info flex1 flex-column flex-between"},[e("v-uni-view",{staticClass:"goods-title"},[e("v-uni-view",{staticClass:"title ",class:{"two-line-hide":!i.sub_name||t.is_presell(i),"line-hide":i.sub_name}},[t._v(t._s(i.title))]),i.sub_name?e("v-uni-view",{staticClass:"sub-title line-hide"},[t._v(t._s(i.sub_name))]):t._e(),t.is_presell(i)?[0==i.activities.presell.presell_type?e("div",{staticClass:"deposit"},[e("span",{staticClass:"deposit-text"},[t._v("定金")]),e("span",{staticClass:"deposit-price"},[t._v(t._s(t._f("filterPrice")(i)))])]):t._e()]:t._e(),t.is_seckill(i)?e("v-uni-view",{staticClass:"seckill-box"},[t._t("seckillCountdown",null,{data:i}),e("div",{staticClass:"goods-price-info"},[e("div",{staticClass:"goods-price-box"},[e("div",{staticClass:"goods-seckill-tag"},[t._v("秒杀价")]),e("span",{staticClass:"goods-price-unit"},[t._v("¥")]),e("span",{staticClass:"goods-price-num"},[t._v(t._s(t._f("formatMoney")(t._f("getSeckillPrice")(i))))]),i.original_price&&0!=i.original_price?e("span",{staticClass:"orginal-price"},[t._v("¥"+t._s(t._f("formatMoney")(i.original_price)))]):t._e()])])],2):t._e()],2),e("v-uni-view",{staticClass:"price-box"},[e("v-uni-view",{staticClass:"flex-between"},[e("v-uni-view",[[t.is_seckill(i)?t._e():[i.activities&&i.activities.presell&&1==i.activities.presell.presell_type?e("v-uni-view",{staticClass:"price"},[t._v("￥"),e("span",{staticClass:"primary-price"},[t._v(t._s(t._f("filterPrice")(i)))])]):i.activities&&null!=i.activities.member_price?e("v-uni-view",{staticClass:"price"},[t._v("￥"),e("span",{staticClass:"primary-price"},[t._v(t._s(i.activities.member_price))])]):e("v-uni-view",{staticClass:"price theme-primary-price"},[t._v("￥"),e("span",{staticClass:"primary-price theme-primary-price"},[t._v(t._s(i.price))])]),t.is_presell(i)?t._e():[i.original_price&&0!=i.original_price?e("v-uni-view",{staticClass:"original_price"},[t._v("￥"+t._s(t._f("formatMoney")(i.original_price)))]):t._e()]],t.is_presell(i)||t.is_seckill(i)?[i.ext_field&&1==i.ext_field.show_sales?e("v-uni-view",{staticClass:"sales"},[t._v("销量:"+t._s(i.sales))]):t._e()]:t._e()]],2),t.is_presell(i)?[e("div",{staticClass:"presell-btn-box",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.todetail(i.id)}}},[e("div",{staticClass:"btn theme-primary-border"},[e("span",{staticClass:"buybtn theme-primary-color"},[t._v("去购买")]),e("i",{staticClass:"iconfont-m- icon-m-right theme-primary-color"})])])]:t._e(),t.is_seckill(i)?[e("div",{staticClass:"seckill-btn-box",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.todetail(i.id)}}},[t._v("马上抢")])]:t._e()],2)],1)],1)],1)],1)})),1)],1)],1)},n=[]},f435:function(t,i,e){"use strict";e.r(i);var s=e("8824"),o=e("2c72");for(var n in o)["default"].indexOf(n)<0&&function(t){e.d(i,t,(function(){return o[t]}))}(n);e("3dfb");var a,l=e("f0c5"),c=Object(l["a"])(o["default"],s["b"],s["c"],!1,null,"4d1430f7",null,!1,s["a"],a);i["default"]=c.exports}}]);