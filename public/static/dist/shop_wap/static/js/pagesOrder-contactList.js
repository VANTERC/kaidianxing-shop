(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[118],{"09fab":function(t,n,e){var i=e("d9a0");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=e("4f06").default;o("397d2d21",i,!0,{sourceMap:!1,shadowMode:!1})},7909:function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e={name:"contactList",components:{},props:{},data:function(){return{list:[],page:1,loading:!1,count:1,showModal:!1,reqesting:!1,id:""}},computed:{loadingType:function(){var t=0;return this.loading?t=1:this.list.length==this.count&&this.count>0&&0==this.loading&&(t=2),t}},created:function(){this.getList()},mounted:function(){},methods:{getList:function(){var t=this;if(!this.reqesting){this.reqesting=!0;var n={page:this.page};this.loading=!0,this.$api.orderApi.getContact(n,{cache:100}).then((function(n){n.list.length>0&&(t.list=t.list.concat(n.list)),t.page=t.page+1,t.loading=!1,t.count=n.total,t.graceLazyload.load(0,t),t.reqesting=!1})).catch((function(n){t.reqesting=!1}))}},handlerModal:function(t){this.id=t,this.showModal=!0},handlerDelete:function(){var t=this;this.showModal=!1,this.$api.orderApi.deleteContact({id:this.id}).then((function(n){0==n.error?(t.$toast("删除成功"),t.reset()):t.$toast(n.message)}))},handleCancel:function(){this.showModal=!1},reset:function(){this.list=[],this.page=1,this.getList()},chooseContact:function(t){this.$store.commit("orderCreate/setOrderCreateInfo",{buyer_name:t.name,buyer_mobile:t.mobile}),this.$Router.back(1)}},onPullDownRefresh:function(){this.list=[],this.page=1,this.getList(),setTimeout((function(){uni.stopPullDownRefresh()}),1e3)},onReachBottom:function(){this.list.length==this.count&&this.page>1||this.getList()},onPageScroll:function(t){this.graceLazyload.load(t.scrollTop,this)}};n.default=e},"7bfd":function(t,n,e){"use strict";var i=e("09fab"),o=e.n(i);o.a},"97c3":function(t,n,e){"use strict";var i;e.d(n,"b",(function(){return o})),e.d(n,"c",(function(){return a})),e.d(n,"a",(function(){return i}));var o=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("kdx-page-box",[e("div",{staticClass:"contact-list"},[e("div",{staticClass:"container"},[e("div",{staticClass:"contact-list-box"},t._l(t.list,(function(n){return e("div",{key:n.id,staticClass:"item flex space-between align-center",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.chooseContact(n)}}},[e("div",[e("p",[t._v(t._s(n.name))]),e("p",{staticClass:"phone"},[t._v(t._s(n.mobile))])]),e("div",{on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.handlerModal(n.id)}}},[e("i",{staticClass:"iconfont-m- icon-m-other-delete"})])])})),0),t.list.length!=t.count?e("kdx-page-loading",{attrs:{loadingType:t.loadingType}}):t._e()],1),e("kdx-modal",{attrs:{title:"确认删除该联系人吗？"},on:{handlerOK:function(n){arguments[0]=n=t.$handleEvent(n),t.handlerDelete.apply(void 0,arguments)},handlerCancel:function(n){arguments[0]=n=t.$handleEvent(n),t.handleCancel.apply(void 0,arguments)}},model:{value:t.showModal,callback:function(n){t.showModal=n},expression:"showModal"}})],1)])},a=[]},b5e4:function(t,n,e){"use strict";e.r(n);var i=e("7909"),o=e.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){e.d(n,t,(function(){return i[t]}))}(a);n["default"]=o.a},d9a0:function(t,n,e){var i=e("24fb");n=i(!1),n.push([t.i,'@charset "UTF-8";\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.contact-list[data-v-243410e9]{position:relative;min-height:100vh;overflow:auto}.contact-list .container[data-v-243410e9]{padding:%?16?% %?24?%}.contact-list .container .contact-list-box .item[data-v-243410e9]{margin-bottom:%?16?%;padding:%?24?%;background-color:#fff;font-size:%?28?%;color:#212121;border-radius:%?12?%}.contact-list .container .contact-list-box .item .iconfont-m-[data-v-243410e9]{color:#969696}.contact-list .container .contact-list-box .item p[data-v-243410e9]{line-height:%?40?%}.contact-list .container .contact-list-box .item .phone[data-v-243410e9]{margin-top:%?16?%}',""]),t.exports=n},ded2:function(t,n,e){"use strict";e.r(n);var i=e("97c3"),o=e("b5e4");for(var a in o)["default"].indexOf(a)<0&&function(t){e.d(n,t,(function(){return o[t]}))}(a);e("7bfd");var s,c=e("f0c5"),l=Object(c["a"])(o["default"],i["b"],i["c"],!1,null,"243410e9",null,!1,i["a"],s);n["default"]=l.exports}}]);