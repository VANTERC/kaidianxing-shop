(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[168,30,185,186,187,192,188,190,191,189],{"77ca":function(t,e,n){"use strict";var a=n("79a8"),o=n.n(a);o.a},"79a8":function(t,e,n){var a=n("94b5");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=n("4f06").default;o("d7515558",a,!0,{sourceMap:!1,shadowMode:!1})},"8efc":function(t,e,n){var a=n("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a(n("bd86"));n("96cf");var r=a(n("3b8d"));n("ac6a");var i=a(n("c984")),d=a(n("ff98")),s=a(n("71ec")),c={"/pagesCustom/index/index":"0","/pagesMember/index/index":12,"/pagesGoods/detail/index":11,"/pages/index/index":10,"/pagesCommission/index/index":20},u={mixins:[i.default],name:"diyform",components:{formItems:d.default},data:function(){return{showForm:!1}},computed:{btnStyle:function(){return{background:this.componentData.style.btncolor}}},mounted:function(){var t=this;this.$isPC&&this.componentData.params.formid?this.$api.decorateApi.getFormDetail({id:this.componentData.params.formid}).then((function(e){0!=e.error||e.data?0==e.error&&e.data&&(t.showForm=!0):t.$store.state.decorate.pageList.forEach((function(e){e===t.componentData&&t.$store.commit("decorate/delModal",{item:e,pageId:t.$route.params.page})}))})):this.showForm=!0},methods:{refresh:function(){var t=(0,r.default)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.componentData.data=e,!c[this.$Route.path]||this.$isPC){t.next=4;break}return t.next=4,this.$decorator.getPage(this.$Route).setPageInfo((0,o.default)({},this.componentData["_comIndex_"],this.$utils.deepCopy(this.componentData)),"refresh/diyform.vue");case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),focusHandler:function(t){this.$emit("custom-event",{target:"diyform/formFocus"})},submitForm:function(){var t=this;this.$isPC||setTimeout((0,r.default)(regeneratorRuntime.mark((function e(){var n,a,r,i,d,u,f,p,l,m,b;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.$store.state.decorate.pageQuery.previewId){e.next=3;break}return t.$toast("预览模式"),e.abrupt("return");case 3:if(t.$store.state.login.isLogin){e.next=5;break}return e.abrupt("return",t.$store.commit("login/setModal",!0));case 5:if(!t.$utils.hasBindBySence("submit_form")){e.next=7;break}return e.abrupt("return",t.$store.commit("login/setModal",!0));case 7:return e.next=9,(0,s.default)({id:t.componentData.params.formid,content:t.componentData.data});case 9:n=e.sent,10==c[t.$Route.path]?(i=null===(a=t.$store.state.decorate)||void 0===a||null===(r=a.indexPage)||void 0===r?void 0:r.pageSettings,d=i.page_name,u=i.title,n.location=d||u||""):0==c[t.$Route.path]&&(l=null===(f=t.$store.state.decorate)||void 0===f||null===(p=f.customPage)||void 0===p?void 0:p.pageSettings,m=l.page_name,b=l.title,n.location=m||b||""),uni.showLoading({title:"保存中"}),t.$api.decorateApi.saveDiyForm(n).then((function(e){var n,a,r,i;0==e.error?("1"==t.componentData.limitSubmit&&t.$decorator.getPage(t.$Route).setPageInfo((0,o.default)({},t.componentData["_comIndex_"],{btnDisabled:"1"}),"submitForm/diyform.vue"),"0"==t.componentData.params.event?t.$Router.auto({path:"/pagesOthers/form/success"}):(null===(n=t.componentData)||void 0===n||null===(a=n.params)||void 0===a?void 0:a.linkurl)&&t.$Router.auto({path:null===(r=t.componentData)||void 0===r||null===(i=r.params)||void 0===i?void 0:i.linkurl})):t.$toast("提交失败")})).finally((function(){uni.hideLoading()}));case 13:case"end":return e.stop()}}),e)}))),500)}}};e.default=u},"94b5":function(t,e,n){var a=n("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.isbottom[data-v-e31724c0], .istop[data-v-e31724c0]{z-index:999990}._i[data-v-e31724c0]{display:inline}uni-view[data-v-e31724c0]{box-sizing:border-box}.def-pad[data-v-e31724c0]{padding:%?8?% %?16?%}*[data-v-e31724c0]{box-sizing:border-box;margin:0;padding:0;border:none}li[data-v-e31724c0]{list-style:none}ul[data-v-e31724c0]{padding:0}uni-image[data-v-e31724c0]{height:auto}.diyform-content[data-v-e31724c0]{background:#fff;overflow:hidden}.diyform .btn-box[data-v-e31724c0]{\n  /*width: 100%;*/overflow:hidden;padding:%?32?% 0;margin:0 %?24?% 0 %?24?%;border-top:%?2?% solid #e6e7eb}.diyform .btn-box .btn[data-v-e31724c0]{width:%?332?%;height:%?72?%;background:-webkit-linear-gradient(277.58deg,#ff3c29,#ff6f29 94.38%);background:linear-gradient(172.42deg,#ff3c29,#ff6f29 94.38%);border-radius:%?64?%;font-family:PingFang SC;font-style:normal;font-weight:400;font-size:%?28?%;line-height:%?72?%;\n  /* identical to box height */color:#fff;margin:0 auto;text-align:center}.diyform .btn-box .btn.disabled[data-v-e31724c0]{background:#ccc!important}',""]),t.exports=e},c984:function(t,e,n){var a=n("288e");n("8e6e"),n("ac6a"),n("456d"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a(n("bd86")),r=n("2f62"),i=n("dc11");function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){(0,o.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var c={computed:s({},(0,r.mapState)("decorate",{pageList:function(t){return t.pageList}})),props:{startLoadImg:{type:Boolean,default:!0},componentData:{type:Object,default:function(){return{style:{},params:{}}}}},methods:{px2rpx:i.px2rpx}};e.default=c},d18b:function(t,e,n){"use strict";n.r(e);var a=n("8efc"),o=n.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(r);e["default"]=o.a},dc11:function(t,e,n){function a(){new Promise((function(t,e){uni?uni.getSystemInfo({success:function(e){t(e)}}):t({pixelRatio:window.devicePixelRatio})}))}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return void 0===t&&(t=n),t||(t=0),t*e+"rpx"}Object.defineProperty(e,"__esModule",{value:!0}),e.getSystemInfo=a,e.px2rpx=o,n("4917")},f44f:function(t,e,n){"use strict";var a;n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return a}));var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.componentData&&"diyform"==t.componentData.id&&t.showForm?n("div",{staticClass:"diyform",style:{padding:t.px2rpx(t.componentData.style.margintop)+" "+t.px2rpx(t.componentData.style.marginleft)+" "+t.px2rpx(t.componentData.style.marginbottom)}},[n("div",{staticClass:"diyform-content",style:{borderRadius:t.px2rpx(t.componentData.style.topradius)+" "+t.px2rpx(t.componentData.style.topradius)+" "+t.px2rpx(t.componentData.style.bottomradius)+" "+t.px2rpx(t.componentData.style.bottomradius)}},[n("formItems",{attrs:{type:"diyform",items:t.componentData.data},on:{"on-change":function(e){arguments[0]=e=t.$handleEvent(e),t.refresh.apply(void 0,arguments)},"on-focus":function(e){arguments[0]=e=t.$handleEvent(e),t.focusHandler.apply(void 0,arguments)}}}),t.componentData.data&&t.componentData.data.length?n("div",{staticClass:"btn-box"},["1"==t.componentData.params.btnDisabled?n("div",{staticClass:"btn disabled"},[t._v("已提交")]):n("div",{staticClass:"btn",style:{background:t.btnStyle.background},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submitForm.apply(void 0,arguments)}}},[t._v(t._s(t.componentData.params.btntext||"提交"))])]):t._e()],1)]):t._e()},r=[]},fe51:function(t,e,n){"use strict";n.r(e);var a=n("f44f"),o=n("d18b");for(var r in o)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(r);n("77ca");var i,d=n("f0c5"),s=Object(d["a"])(o["default"],a["b"],a["c"],!1,null,"e31724c0",null,!1,a["a"],i);e["default"]=s.exports}}]);