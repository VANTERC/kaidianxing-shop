(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[123],{"04f1":function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return a}));var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.pickerShow?i("pick-mask",{staticClass:"verify-code-picker",on:{"mask-close":function(e){arguments[0]=e=t.$handleEvent(e),t.closePicker(!0)},click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e)}}},[i("div",{staticClass:"inner flex-column"},[i("div",{staticClass:"picker-close",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closePicker.apply(void 0,arguments)}}},[i("img",{staticClass:"close-img",attrs:{src:t.$utils.staticImg("verify/close.png"),alt:""}})]),i("div",{staticClass:"title"},[t._v(t._s(t.codeTitle+"凭证"))]),i("div",{staticClass:"verify-content"},[i("v-uni-canvas",{staticClass:"qrcode",staticStyle:{width:"200px",height:"200px"},attrs:{"canvas-id":"verifyCode"}}),i("div",{staticClass:"code-img-box"},[t.codeImg?i("img",{staticClass:"code-img",attrs:{src:t.codeImg}}):t._e()]),i("p",[t._v(t._s(t.codeData.code))]),i("p",{staticClass:"info uni-text-color-grey"},[t._v("请将此二维码出示给商家核销")]),i("div",{staticClass:"line"}),t.codeData&&t.codeData.title?i("div",{staticClass:"address-info-box"},[i("div",{staticClass:"contact-icon theme-sub-bgcolor"},[i("i",{staticClass:"iconfont-m- icon-m-weizhi2 theme-primary-color"})]),i("div",{staticClass:"address-info"},[i("div",{staticClass:"shop-name"},[t._v(t._s(t.codeData.title))]),i("div",{staticClass:"shop-address uni-text-color-grey"},[t._v(t._s(t.codeData.address))]),i("div",{staticClass:"uni-text-color-grey"},[t._v(t._s(t.codeData.mobile))])])]):t._e(),i("div",{staticClass:"address-info-box contact-info"},[i("div",{staticClass:"contact-icon theme-sub-bgcolor"},[i("i",{staticClass:"iconfont-m- icon-m-dibudaohang-me theme-primary-color"})]),i("div",{staticClass:"address-info"},[i("div",{staticClass:"shop-name"},[t._v(t._s(t.codeData.buyer_name))]),i("div",{staticClass:"uni-text-color-grey"},[t._v(t._s(t.codeData.buyer_mobile))])])])],1),i("div",{staticClass:"verify-btn flex van-hairline--top"},[i("div",{staticClass:"btn theme-primary-color theme-primary-border",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toDetail.apply(void 0,arguments)}}},[t._v("订单详情")]),i("div",{staticClass:"btn bg-primary theme-primary-border theme-primary-bgcolor",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.savePoster.apply(void 0,arguments)}}},[t._v("保存到相册")])])])]):t._e()},n=[]},"06d7":function(t,e,i){"use strict";i.r(e);var a=i("c2f4"),o=i("356f3");for(var n in o)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(n);i("63c8");var s,r=i("f0c5"),d=Object(r["a"])(o["default"],a["b"],a["c"],!1,null,"2f2147c0",null,!1,a["a"],s);e["default"]=d.exports},"0914":function(t,e,i){"use strict";i.r(e);var a=i("f069"),o=i("e270");for(var n in o)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(n);var s,r=i("f0c5"),d=Object(r["a"])(o["default"],a["b"],a["c"],!1,null,"4fe8e94f",null,!1,a["a"],s);e["default"]=d.exports},1271:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.list-tab[data-v-2f2147c0]{position:fixed;left:0;top:0;width:100%;z-index:999}.list-tab .tab[data-v-2f2147c0]{background-color:#fff;border-top:1px solid #e6e7eb}.list-tab .tab .item[data-v-2f2147c0]{-webkit-box-flex:1;-webkit-flex:1;flex:1;text-align:center;line-height:%?80?%;font-size:%?28?%;color:#565656;position:relative}.list-tab .tab .item .line[data-v-2f2147c0]{width:%?56?%;height:%?4?%;position:absolute;bottom:0;left:50%;display:none;background-color:initial;-webkit-transform:translateX(-50%);transform:translateX(-50%);border-radius:%?4?%!important}.list-tab .tab .item.active[data-v-2f2147c0]{font-size:%?32?%;color:#ff3c29;font-weight:600}.list-tab .tab .item.active .line[data-v-2f2147c0]{display:block;background-color:#ff3c29}',""]),t.exports=e},1636:function(t,e,i){"use strict";var a=i("42ce"),o=i.n(a);o.a},"1e9b":function(t,e,i){(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"ListModal",components:{},props:{title:String},data:function(){return{cancelModal:!1,deleteModal:!1,sendModal:!1,verifyModal:!1}},computed:{},created:function(){},mounted:function(){},methods:{showCancelModal:function(){t.log(this._uid),this.cancelModal=!0},showDeleteModal:function(){this.deleteModal=!0},showSendModal:function(){this.sendModal=!0},showVerifyModal:function(){this.verifyModal=!0},handlerCancel:function(){this.cancelModal=!1,this.deleteModal=!1,this.sendModal=!1,this.verifyModal=!1},cancelOrderOk:function(){this.cancelModal=!1,this.$emit("cancelOrderOk")},deleteOrderOk:function(){this.deleteModal=!1,this.$emit("deleteOrderOk")},sendOrderOk:function(){this.sendModal=!1,this.$emit("sendOrderOk")},verifyOrderOk:function(){this.verifyModal=!1,this.$emit("verifyOrderOk")}}};e.default=i}).call(this,i("5a52")["default"])},2754:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.goods-info-box .loading[data-v-c3693710]{display:block;height:0;opacity:0}.goods-info-box.two-lines[data-v-c3693710]{-webkit-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.goods-info-box.two-lines .goods-card-item[data-v-c3693710]{width:%?344?%;margin-bottom:%?16?%;background-color:#fff;border-radius:%?12?%;box-sizing:border-box}.goods-info-box.two-lines .goods-card-item .label-box[data-v-c3693710]{position:relative}.goods-info-box.two-lines .goods-card-item.line[data-v-c3693710]::after{content:"";border:0}.goods-info-box.two-lines .goods-card-item .goods-info[data-v-c3693710]{padding:%?16?%;height:%?204?%;box-sizing:border-box}.goods-info-box.two-lines .goods-card-item .goods-info .goods-title[data-v-c3693710]{height:%?130?%}.goods-info-box.two-lines .goods-card-item .goods-img[data-v-c3693710]{width:%?344?%;height:%?344?%;background-repeat:no-repeat;background-size:cover}.goods-info-box.two-lines .goods-card-item .goods-img .goods-img-img[data-v-c3693710]{width:%?344?%;height:%?344?%}.goods-info-box.two-lines .goods-card-item .deposit[data-v-c3693710]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-top:%?8?%}.goods-info-box.two-lines .goods-card-item .deposit .deposit-text[data-v-c3693710]{width:%?74?%;height:%?38?%;font-size:%?24?%;border-radius:%?20?% 0 0 %?20?%;background-color:#ff3c29;color:#fff;text-align:center}.goods-info-box.two-lines .goods-card-item .deposit .deposit-price[data-v-c3693710]{padding:0 %?16?%;height:%?38?%;font-size:%?24?%;border-radius:0 %?20?% %?20?% 0;background-color:#fff;color:#ff3c29;border:1px solid #ff3c29}.goods-info-box.two-lines .goods-card-item .presell-btn-box[data-v-c3693710]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:end;-webkit-align-items:flex-end;align-items:flex-end}.goods-info-box.two-lines .goods-card-item .presell-btn-box .btn[data-v-c3693710]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:0 %?16?%;height:%?54?%;margin:0;border-radius:%?30?%;border:1px solid #ff3c29}.goods-info-box.two-lines .goods-card-item .presell-btn-box .btn .buybtn[data-v-c3693710]{margin-right:%?8?%;font-size:%?24?%;line-height:%?34?%;color:#ff3c29}.goods-info-box.two-lines .goods-card-item .presell-btn-box .btn .iconfont-m-[data-v-c3693710]{font-size:%?24?%;color:#ff3c29}.goods-info-box.two-lines .goods-card-item .sub-title[data-v-c3693710]{height:%?50?%}.commision-money[data-v-c3693710]{position:absolute;bottom:0;left:0;z-index:999;width:100%;height:%?42?%;font-size:%?20?%;line-height:%?42?%;text-align:center;color:#fff;background:-webkit-linear-gradient(278.34deg,#ff3c29,#ff6f29 94.38%);background:linear-gradient(171.66deg,#ff3c29,#ff6f29 94.38%)}.goods-card-item .goods-card-inner .goods-info .price.bargaining[data-v-c3693710]{font-size:%?28?%}',""]),t.exports=e},"31aa":function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return a}));var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.list.length>0?i("v-uni-view",{staticClass:"goods-like"},[i("v-uni-view",{staticClass:"like-title"},[t._v("你可能会喜欢")]),i("v-uni-view",{staticClass:"card-list flex"},t._l(t.list,(function(t,e){return i("v-uni-view",{key:e},[i("goods-info",{attrs:{goodsData:t,show_style:!0,isAddIcon:!0}})],1)})),1)],1):t._e()},n=[]},"356f3":function(t,e,i){"use strict";i.r(e);var a=i("ad2f"),o=i.n(a);for(var n in a)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(n);e["default"]=o.a},"37d6":function(t,e,i){var a=i("c883");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=i("4f06").default;o("0dbc9445",a,!0,{sourceMap:!1,shadowMode:!1})},"3dab":function(t,e,i){"use strict";i.r(e);var a=i("87ab"),o=i.n(a);for(var n in a)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(n);e["default"]=o.a},"3e13":function(t,e,i){"use strict";i.r(e);var a=i("bdff"),o=i.n(a);for(var n in a)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(n);e["default"]=o.a},"42be":function(t,e,i){var a=i("5461");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=i("4f06").default;o("4490afac",a,!0,{sourceMap:!1,shadowMode:!1})},"42ce":function(t,e,i){var a=i("581f");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=i("4f06").default;o("c9615b54",a,!0,{sourceMap:!1,shadowMode:!1})},4388:function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return a}));var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("kdx-page-box",[i("v-uni-view",{staticClass:"order-list"},[i("list-tab",{attrs:{current:t.status}}),i("v-uni-view",{staticClass:"container"},[t.list.length>0?[i("list-goods-card",{attrs:{list:t.list,is_comment:t.is_comment},on:{btnClick:function(e){arguments[0]=e=t.$handleEvent(e),t.btnClick.apply(void 0,arguments)}}}),t.list.length!=t.count?i("kdx-page-loading",{attrs:{loadingType:t.loadingType}}):t._e()]:t._e()],2),!t.loading&&t.count<=0?[i("v-uni-view",{staticClass:"default-page flex-column"},[i("v-uni-view",{staticClass:"bg"},[i("v-uni-image",{attrs:{src:t.$utils.staticImg("default/bill.png")}})],1),i("v-uni-view",{staticClass:"default-text"},[t._v("您暂时还没有订单哦")]),i("div",{staticClass:"ib"},[i("btn",{attrs:{styles:"padding:0 60rpx;margin-top:32rpx",ghost:!0,classNames:"theme-primary-color theme-primary-border",size:"middle"},on:{"btn-click":function(e){arguments[0]=e=t.$handleEvent(e),t.toIndex.apply(void 0,arguments)}}},[t._v("去逛逛")])],1)],1),i("goods-like")]:t._e(),i("list-modal",{ref:"modals",attrs:{title:t.getTitle},on:{cancelOrderOk:function(e){arguments[0]=e=t.$handleEvent(e),t.cancelOrderOk.apply(void 0,arguments)},sendOrderOk:function(e){arguments[0]=e=t.$handleEvent(e),t.sendOrderOk.apply(void 0,arguments)},deleteOrderOk:function(e){arguments[0]=e=t.$handleEvent(e),t.deleteOrderOk.apply(void 0,arguments)},verifyOrderOk:function(e){arguments[0]=e=t.$handleEvent(e),t.verifyOrderOk.apply(void 0,arguments)}}}),i("order-pay",{ref:"orderPay",attrs:{type:"orderList",orderId:t.orderData.id,orderData:t.orderData}})],2),i("modalReward",{attrs:{visible:t.visible,activityType:t.activityType,activityData:t.activityData},on:{"update:visible":function(e){arguments[0]=e=t.$handleEvent(e),t.changeShowReward.apply(void 0,arguments)}}}),i("modalReward",{attrs:{visible:t.showShoppingRewardFlag,activityType:"shoppingReward",activityData:t.shoppingRewardData},on:{"update:visible":function(e){arguments[0]=e=t.$handleEvent(e),t.changeShowShoppingRewardFlag.apply(void 0,arguments)}}}),i("redpacket",{attrs:{isShow:t.customVisible,activityType:t.activityType,activityData:t.customActivityData},on:{"update:visible":function(e){arguments[0]=e=t.$handleEvent(e),t.changeCloseCustom.apply(void 0,arguments)}}}),i("redpacket",{attrs:{isShow:t.showShoppingVisible,activityType:t.shoppingRewardData,activityData:t.showShoppingActivityData},on:{"update:visible":function(e){arguments[0]=e=t.$handleEvent(e),t.changeCloseShopping.apply(void 0,arguments)}}}),i("code-picker",{ref:"codePicker",on:{savePoster:function(e){arguments[0]=e=t.$handleEvent(e),t.savePoster.apply(void 0,arguments)}}}),i("verify-poster",{ref:"verifyPoster"})],1)},n=[]},"50d8":function(t,e,i){"use strict";var a=i("42be"),o=i.n(a);o.a},5461:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.list-goods-card .card-item[data-v-501a0e09]{padding:0 %?24?%;margin-bottom:%?16?%;background-color:#fff;border-radius:%?12?%}.list-goods-card .card-item .create-time[data-v-501a0e09]{height:%?72?%;margin-bottom:%?16?%;line-height:%?72?%;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.list-goods-card .card-item .create-time > uni-view[data-v-501a0e09]{font-size:%?24?%}.list-goods-card .card-item .create-time .shop-item[data-v-501a0e09]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;font-size:%?28?%}.list-goods-card .card-item .create-time .shop-item .shop-logo[data-v-501a0e09]{margin-right:%?16?%;width:%?48?%;height:%?48?%;font-size:%?28?%;background-size:100% 100%;background-repeat:no-repeat}.list-goods-card .card-item .create-time .shop-item .shop-img[data-v-501a0e09]{width:%?48?%;height:%?48?%;border-radius:50%}.list-goods-card .card-item .create-time .shop-item .self-label[data-v-501a0e09]{margin-right:%?8?%;padding:%?2?% %?6?%;line-height:%?24?%;background:-webkit-linear-gradient(317.43deg,#ff3c29,#ff6f29 94.38%);background:linear-gradient(132.57deg,#ff3c29,#ff6f29 94.38%);color:#fff;font-size:%?18?%;font-weight:600;border-radius:%?4?%}.list-goods-card .card-item .create-time .shop-item .shop-name[data-v-501a0e09]{line-height:20px}.list-goods-card .card-item .create-time .status[data-v-501a0e09]{color:#969696;font-size:%?28?%;font-weight:700}.list-goods-card .card-item .create-time .primary[data-v-501a0e09]{color:#ff3c29;font-size:%?28?%;font-weight:700}.list-goods-card .card-item .create-time .orange[data-v-501a0e09]{color:#f90;font-size:%?28?%;font-weight:700}.list-goods-card .card-item .create-time .blue[data-v-501a0e09]{color:#367bf5}.list-goods-card .card-item .create-time .success[data-v-501a0e09]{color:#09c15f}.list-goods-card .card-item .goods-item[data-v-501a0e09]{padding-bottom:%?32?%}.list-goods-card .card-item .goods-item[data-v-501a0e09]:first-child{padding-top:%?32?%}.list-goods-card .card-item .card-footer[data-v-501a0e09]{text-align:right;padding-bottom:%?32?%}.list-goods-card .card-item .card-footer > div[data-v-501a0e09]{line-height:%?44?%;font-size:%?24?%;color:#212121}.list-goods-card .card-item .card-footer > div.uni-color-primary[data-v-501a0e09]{font-family:PingFang SC;font-variant-numeric:tabular-nums;font-family:Helvetica Neue;line-height:%?34?%;margin-top:%?8?%}.list-goods-card .card-item .card-footer .price[data-v-501a0e09]{font-weight:700;font-size:%?32?%}.list-goods-card .card-item .card-btn[data-v-501a0e09]{-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;padding-bottom:%?16?%}.list-goods-card .card-item .card-btn > uni-view[data-v-501a0e09]{padding:%?11?% %?30?%;line-height:%?34?%;font-size:%?24?%;text-align:center;border-radius:%?28?%;color:#212121;border:1px solid #e6e7eb;margin-right:%?24?%}.list-goods-card .card-item .card-btn > uni-view[data-v-501a0e09]:last-child{margin-right:0}.list-goods-card .card-item .card-btn .border-primary[data-v-501a0e09]{border:1px solid #ff3c29}.list-goods-card .card-item .card-btn .disabled[data-v-501a0e09]{color:#ccc;border:1px solid #ccc}',""]),t.exports=e},"581f":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.order-list[data-v-4cf73a25]{position:relative;min-height:100vh;overflow:auto;background-color:#f5f5f5}.order-list .none[data-v-4cf73a25]{position:fixed;top:%?-99999?%;left:%?-99999?%;z-index:-99999}.order-list .container[data-v-4cf73a25]{padding:%?102?% %?24?% %?16?%}[data-v-4cf73a25] uni-canvas{position:fixed;top:%?-99999?%;left:%?-99999?%;z-index:-99999}',""]),t.exports=e},"5fc4":function(t,e,i){(function(t){var a=i("288e");i("8e6e"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("96cf");var o=a(i("3b8d"));i("5df3"),i("4f7f");var n=a(i("75fc"));i("456d"),i("ac6a"),i("a481");var s=a(i("bd86")),r=a(i("06d7")),d=a(i("93a7")),c=a(i("0914")),l=a(i("94b1")),u=a(i("e3d2")),f=a(i("c34f")),p=a(i("af3f")),v=a(i("3f3c")),g=a(i("63e4")),h=a(i("7848")),m=a(i("5ebd"));a(i("c2fd"));function b(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function _(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?b(Object(i),!0).forEach((function(e){(0,s.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):b(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var y={mixins:[v.default,h.default],name:"list",components:{listTab:r.default,listGoodsCard:d.default,listModal:c.default,orderPay:l.default,goodsLike:u.default,modalReward:f.default,codePicker:p.default,verifyPoster:g.default,redpacket:m.default},props:{},data:function(){return{status:"all",list:[],page:1,loading:!1,count:0,apiObj:{all:"allOrderList",pay:"payOrderList",send:"sendOrderList",pick:"pickOrderList",finish:"finishOrderList",delete:"deleteOrderList"},orderData:{},is_comment:0,reqesting:!1,visible:!1,activityType:"consumeReward",shoppingReward:"shoppingReward",activityData:{couponList:[],credit:{title:"消费奖励",number:""},balance:{title:"消费奖励",number:""},red_package:{title:"消费奖励",number:""},popup_type:"0"},shoppingRewardData:{couponList:[],credit:{title:"购物奖励",number:""},balance:{title:"购物奖励",number:""},red_package:{title:"购物奖励",number:""},popup_type:"0"},showShoppingRewardFlag:!1,customVisible:!1,customActivityData:{},showShoppingActivityData:{},showShoppingVisible:!1}},computed:{loadingType:function(){var t=0;return this.loading?t=1:this.list.length==this.count&&this.count>0&&0==this.loading&&(t=2),t},has_consumeReward:function(){return this.$store.state.setting.pluginsPerms.consumeReward},has_shoppingReward:function(){return this.$store.state.setting.pluginsPerms.shoppingReward},getTitle:function(){var t,e;return"20"==(null===(t=this.orderData)||void 0===t?void 0:t.dispatch_type)?"10"==(null===(e=this.orderData)||void 0===e?void 0:e.order_type)?"确认自提":"确认核销":""}},onShow:function(){this.$Route.query.status&&(this.status=this.$Route.query.status),this.page=1,this.list=[],this.getList()},created:function(){},methods:{getList:function(){var t=this;this.loading=!0,this.$api.orderApi[this.apiObj[this.status]]({page:this.page},{cache:100}).then((function(e){if(0==e.error){if(e.list.length>0){var i=function(i){if(e.list[i]=_(_({},e.list[i]),{},{countTime:[]}),0==e.list[i].status){var a,o,n=new Date(Date.parse(e.list[i].auto_close_time.replace(/-/g,"/"))).getTime();if(1==e.list[i].activity_type&&0==(null===(a=e.list[i])||void 0===a||null===(o=a.presell_data)||void 0===o?void 0:o.type)){var s,r,d,c,l,u,f,p,v=null===(s=JSON.parse(e.list[i].extra_discount_rules_package)[0])||void 0===s||null===(r=s.presell)||void 0===r?void 0:r.pay_final_start_time,g=null===(d=JSON.parse(e.list[i].extra_discount_rules_package)[0])||void 0===d||null===(c=d.presell)||void 0===c?void 0:c.end_time;v&&(v=new Date(Date.parse(v.replace(/-/g,"/"))).getTime()),g&&(g=new Date(Date.parse(g.replace(/-/g,"/"))).getTime()),1==(null===(l=e.list[i])||void 0===l||null===(u=l.presell_data)||void 0===u?void 0:u.status)&&v-Date.now()>0?n=v:1==(null===(f=e.list[i])||void 0===f||null===(p=f.presell_data)||void 0===p?void 0:p.status)&&g-Date.now()>0&&(n=g)}var h=parseInt(n/1e3),m=setInterval((function(){e.list[i].countTime=t.$utils.countDown(h,!1),e.list[i].countTime||clearInterval(m)}),1e3)}};for(var a in e.list)i(a);t.list=t.list.concat(e.list)}t.page=t.page+1,t.is_comment=e.comment_setting.order_comment,t.count=e.total}else t.$toast(e.message);t.loading=!1,t.graceLazyload.load(0,t),t.reqesting=!1})).catch((function(e){t.reqesting=!1})).finally((function(e){t.$loading.hideLoading(),setTimeout((function(){t.$loading.hideLoading(),uni.hideLoading()}),100)}))},btnClick:function(t){var e=this,i={};switch(t.name){case"cancelOrder":this.orderData=t.item,this.cancelOrder();break;case"payOrder":this.orderData=t.item,setTimeout((function(){e.payOrder()}),100);break;case"express":this.orderData=t.item,t.item.orderGoods.forEach((function(t){i[t.package_id]=t.package_id}));var a=Object.keys(i);1==a.length?this.express(a[0]):this.express();break;case"sendOrder":this.orderData=t.item,this.sendOrder();break;case"deleteOrder":this.orderData=t.item,this.deleteOrder();break;case"comment":this.orderData=t.item,t.item.orderGoods.forEach((function(t){i[t.id]=t.id}));var o=Object.keys(i);1==o.length?this.comment(o[0]):this.comment();break;case"verify":this.orderData=t.item,this.verify();break;case"getVerifyInfo":this.orderData=t.item,this.showVerifyCode();break;case"toGroups":this.orderData=t.item,this.toGroups();break}},cancelOrder:function(){this.$refs.modals.showCancelModal()},cancelOrderOk:function(){var t=this;this.$api.orderApi.cancelOrder({id:this.orderData.id}).then((function(e){0==e.error?(t.page=1,t.list=[],t.getList()):uni.showToast({title:e.message,icon:"none"})}))},payOrder:function(){this.$refs.orderPay.showPayPicker()},express:function(e){t.log(e,"uuuuuuuuuuuuuu"),e?this.$Router.auto({path:"/pagesOrder/package/detail",query:{package_id:e,order_id:this.orderData.id}}):this.$Router.auto({path:"/pagesOrder/package/list",query:{id:this.orderData.id}})},sendOrder:function(){this.$refs.modals.showSendModal()},sendOrderOk:function(){var t=this;this.$api.orderApi.finishOrder({id:this.orderData.id}).then((function(e){if(0==e.error){var i,a;if(t.page=1,t.list=[],t.getList(),"3"==(null===(i=t.orderData)||void 0===i?void 0:i.activity_type)||"4"==(null===(a=t.orderData)||void 0===a?void 0:a.activity_type))return;t.getActivityData(),t.sendShoppingReward()}else uni.showToast({title:e.message,icon:"none"})}))},getActivityData:function(){var t=this;this.has_consumeReward&&this.$api.memberApi.getConsumeRewardActivity({order_id:this.orderData.id},{errorToast:!1}).then((function(e){var i,a;0===e.error&&(t.activityData.popup_type=e.popup_type,(null===e||void 0===e||null===(i=e.coupon_info)||void 0===i?void 0:i.length)>0&&(t.activityData.couponList=(0,n.default)(e.coupon_info)),e.credit&&0!==parseFloat(e.credit)&&(t.activityData.credit.number=e.credit),e.balance&&0!==parseFloat(e.balance)&&(t.activityData.balance.number=e.balance),new Set(e.reward_array).has("4")&&e.red_package&&null!==(a=e.red_package)&&void 0!==a&&a.money&&0!==parseFloat(e.red_package.money)?t.activityData.red_package.number=e.red_package.money:t.activityData.red_package={},new Set(null===e||void 0===e?void 0:e.reward_array).has("4")&&t.getCustomeReward(e.log_id),t.visible=!0)}))},getCustomeReward:function(t){var e=this;this.$api.memberApi.getNoRedpacket({scene_id:t,scene:12}).then((function(t){if(0==t.error&&t.list.length){var i=t.list[0];e.customActivityData={blessing:i.extend.blessing,created_at:i.created_at,expire_time:i.expire_time,limit:i.extend.limit,money:i.money,id:i.id}}}))},changeShowReward:function(t){this.visible=t,"{}"!==JSON.stringify(this.customActivityData)&&(this.customVisible=!0)},changeCloseCustom:function(t){this.customVisible=t.update},deleteOrder:function(){this.$refs.modals.showDeleteModal()},deleteOrderOk:function(){var t=this;this.$api.orderApi.deleteOrder({id:this.orderData.id}).then((function(e){0==e.error?(t.page=1,t.list=[],t.getList()):uni.showToast({title:e.message,icon:"none"})}))},comment:function(t){t?this.$Router.auto({path:"/pagesOrder/comment/index",query:{id:t}}):this.$Router.auto({path:"/pagesOrder/comment/list",query:{order_id:this.orderData.id}})},verify:function(){this.$refs.modals.showVerifyModal()},verifyOrderOk:function(){var t=this,e={order_id:this.orderData.id};this.$api.orderApi.confirmVerify(e).then((function(e){0==e.error?(t.$toast("已完成"),t.page=1,t.list=[],t.getList()):t.$toast(e.message)}))},showVerifyCode:function(){var t,e,i={id:this.orderData.id,codeTitle:0==(null===(t=this.orderData)||void 0===t||null===(e=t.orderGoods)||void 0===e?void 0:e[0].type)?"自提":"核销"};this.$refs["codePicker"].showCodePicker(i)},savePoster:function(t){this.$refs.verifyPoster.init(t)},toIndex:function(){this.$Router.auto({path:"/"})},toGroups:function(){var t;this.$store.commit("groups/setGroupsTeamId",null),this.$Router.auto({path:"/pagesGoods/groups/detail",query:{team_id:null===(t=this.orderData.groups_team_info)||void 0===t?void 0:t.id}})},sendShoppingReward:function(){var t=(0,o.default)(regeneratorRuntime.mark((function t(){var e,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.has_shoppingReward){t.next=5;break}return t.next=3,this.$store.dispatch("member/sendShoppingReward",this.orderData.id);case 3:e=t.sent,e.send_type&&"1"===e.send_type&&(this.shoppingRewardData.popup_type=e.popup_type,e.coupon_info&&e.coupon_info.length&&(this.shoppingRewardData.couponList=(0,n.default)(e.coupon_info)),e.credit&&0!==parseFloat(e.credit)&&(this.shoppingRewardData.credit.number=e.credit),e.balance&&0!==parseFloat(e.balance)&&(this.shoppingRewardData.balance.number=e.balance),new Set(e.reward_array).has("4")&&e.red_package&&null!==(i=e.red_package)&&void 0!==i&&i.money&&0!==parseFloat(e.red_package.money)?this.shoppingRewardData.red_package.number=e.red_package.money:this.activityData.red_package={},new Set(null===e||void 0===e?void 0:e.reward_array).has("4")&&this.getShoppingReward(e.log_id),this.showShoppingRewardFlag=!0);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getShoppingReward:function(t){var e=this;this.$api.memberApi.getNoRedpacket({scene_id:t,scene:11}).then((function(t){if(0==t.error&&t.list.length){var i=t.list[0];e.showShoppingActivityData={blessing:i.extend.blessing,created_at:i.created_at,expire_time:i.expire_time,limit:i.extend.limit,money:i.money,id:i.id}}}))},changeShowShoppingRewardFlag:function(t){this.showShoppingRewardFlag=t,"{}"!==JSON.stringify(this.showShoppingActivityData)&&(this.showShoppingVisible=!0)},changeCloseShopping:function(t){this.showShoppingVisible=t.update}},onReachBottom:function(){this.list.length==this.count&&this.page>1||this.getList()},onPageScroll:function(t){this.graceLazyload.load(t.scrollTop,this)}};e.default=y}).call(this,i("5a52")["default"])},6133:function(t,e,i){var a=i("1271");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=i("4f06").default;o("3bb311e4",a,!0,{sourceMap:!1,shadowMode:!1})},"63c8":function(t,e,i){"use strict";var a=i("6133"),o=i.n(a);o.a},"65aa":function(t,e,i){var a=i("88b6");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=i("4f06").default;o("3d577452",a,!0,{sourceMap:!1,shadowMode:!1})},"741f":function(t,e,i){var a=i("288e");i("8e6e"),i("ac6a"),i("456d"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a(i("bd86"));i("c5f6");var n=i("2f62");function s(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function r(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?s(Object(i),!0).forEach((function(e){(0,o.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var d={name:"GoodsInfo",components:{},props:{goodsData:{type:Object,default:function(){}},isRefund:{type:Boolean,default:!1},status:{type:[String,Number]},orderData:{type:Object,default:function(){}},appointment:{type:Array,default:function(){return[]}},orderType:{type:[String,Number]}},data:function(){return{}},watch:{goodsData:{immediate:!0,handler:function(t){var e,i,a;t&&t.ext_field&&t.ext_field.is_credit_shop_coupon?(t.option_title=(null===t||void 0===t||null===(e=t.ext_field)||void 0===e?void 0:e.content)||"",1==(null===t||void 0===t||null===(i=t.ext_field)||void 0===i?void 0:i.coupon_sale_type)&&(t.thumb="".concat(this.$utils.staticImg("creditShop/full.png"))),2==(null===t||void 0===t||null===(a=t.ext_field)||void 0===a?void 0:a.coupon_sale_type)&&(t.thumb="".concat(this.$utils.staticImg("creditShop/discount.png")))):t&&t.thumb&&(t.thumb="".concat(this.$utils.media(t.thumb)));this.goodsData=t}}},computed:r(r({},(0,n.mapState)("setting",{credit_text:function(t){var e;return(null===(e=t.systemSetting)||void 0===e?void 0:e.credit_text)||"积分"}})),{},{backgroundImage:function(){return"background-image:url(".concat(this.$utils.staticImg("decorate/goods_col2.png"),")")},order_id:function(){var t,e;return!!(null!==(t=this.$Route.query)&&void 0!==t&&t.order_id||null!==(e=this.$Route.query)&&void 0!==e&&e.order_goods_id)},appointList:function(){var t,e;if("3"==this.goodsData.type)return this.$Route.query.order_id||this.$Route.query.order_goods_id?null!==(t=this.orderData)&&void 0!==t&&t.appointment_info?null===(e=this.orderData)||void 0===e?void 0:e.appointment_info:this.appointment:this.goodsData.appointment_info},chooseType:function(){if(this.orderData)return this.orderData.activity_type}}),methods:{detail:function(t,e){this.$emit("detail",{id:t,goodsData:e})},handleThumb:function(){if(this.goodsData&&this.goodsData.ext_field&&this.goodsData.ext_field.is_credit_shop_coupon){var t,e,i,a;if(1==(null===(t=this.goodsData)||void 0===t||null===(e=t.ext_field)||void 0===e?void 0:e.coupon_sale_type))return"".concat(this.$utils.staticImg("creditShop/full.png"));if(2==(null===(i=this.goodsData)||void 0===i||null===(a=i.ext_field)||void 0===a?void 0:a.coupon_sale_type))return"".concat(this.$utils.staticImg("creditShop/discount.png"))}else if(this.goodsData&&this.goodsData.thumb)return"".concat(this.$utils.media(this.goodsData.thumb))},handleOptionTitle:function(){var t,e,i;return this.goodsData&&this.goodsData.ext_field&&this.goodsData.ext_field.is_credit_shop_coupon?(null===(t=this.goodsData)||void 0===t||null===(e=t.ext_field)||void 0===e?void 0:e.content)||"":(null===(i=this.goodsData)||void 0===i?void 0:i.option_title)||""}}};e.default=d},"74b9":function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return a}));var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"goods-block-inner"},[i("v-uni-view",{staticClass:"flex"},[i("v-uni-view",{staticClass:"goods-image",style:t.backgroundImage},[i("v-uni-image",{staticClass:"grace-img-lazy",attrs:{src:t.handleThumb()},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.detail(t.goodsData.goods_id,t.goodsData)}}}),11==t.status?[20==t.goodsData.status?i("v-uni-view",{staticClass:"send-icon"},[t._v("已发货")]):t._e(),10==t.goodsData.status?i("v-uni-view",{staticClass:"send-icon"},[t._v("未发货")]):t._e()]:t._e()],2),i("v-uni-view",{staticClass:"flex1"},[i("v-uni-view",{staticClass:"goods-info flex-column"},[i("v-uni-view",{staticClass:"title-box"},[i("v-uni-view",{staticClass:"title two-line-hide"},[t.orderData&&1==t.orderData.activity_type?i("span",{staticClass:"goods-type"},[t._v("预售")]):t._e(),t.orderData&&3==t.orderData.activity_type?i("span",{staticClass:"goods-type groups"},[t._v("拼团")]):t._e(),t.goodsData&&3==t.goodsData.type?i("span",{staticClass:"goods-type groups"},[t._v("预约")]):t._e(),t._v(t._s(t.goodsData.title))]),t.handleOptionTitle()?i("v-uni-view",{staticClass:"option-title line-hide"},[t._v(t._s(t.handleOptionTitle()))]):t._e()],1),t.isRefund?i("v-uni-view",{staticClass:"flex align-center"},[i("v-uni-view",{staticClass:"refund-money-label"},[t._v("退款金额：")]),"0.00"===t.goodsData.price&&"0"!==t.goodsData.credit?i("v-uni-view",{staticClass:"refund-money-value"},[t._v(t._s(t.goodsData.credit)+t._s(t.credit_text))]):t._e(),"0.00"!==t.goodsData.price&&"0"===t.goodsData.credit?i("v-uni-view",{staticClass:"refund-money-value"},[t._v("￥"+t._s(t.goodsData.price))]):t._e(),"0.00"!==t.goodsData.price&&"0"!==t.goodsData.credit?i("v-uni-view",{staticClass:"refund-money-value"},[t._v(t._s(t.goodsData.credit)+t._s(t.credit_text)+"+￥"+t._s(t.goodsData.price))]):t._e()],1):t._e(),t.isRefund||"3"==t.goodsData.type?t._e():i("v-uni-view",{staticClass:"price-box flex-between"},[t.goodsData.credit_unit?i("v-uni-view",{staticClass:"credit-price price"},[i("span",{staticClass:"primary-price theme-primary-price"},[t._v(t._s(t.goodsData.credit_unit)+t._s(t.credit_text))]),"0.00"!==t.goodsData.price_unit?i("span",{staticClass:"primary-price theme-primary-price"},[t._v("+￥"+t._s(t.goodsData.price_unit))]):t._e()]):i("v-uni-view",{staticClass:"price theme-primary-price"},[t._v("￥"),i("span",{staticClass:"primary-price theme-primary-price"},[t._v(t._s(t.goodsData.price_unit||t.goodsData.price))])]),i("v-uni-view",{staticClass:"add-num"},[i("v-uni-text",[t._v("x"+t._s(t.goodsData.total))])],1)],1)],1)],1)],1),"3"==t.goodsData.type?i("v-uni-view",{staticClass:"appointList"},[t.order_id?t._l(t.appointList,(function(e,a){return i("v-uni-view",{key:a,staticClass:"list"},[i("v-uni-view",{staticClass:"flex flex-between"},[i("v-uni-view",{staticClass:"appointTime"},[t._v(t._s(e.appointment_date)+" "+t._s(e.start_time)+"-"+t._s(e.end_time))]),i("v-uni-view",{staticClass:"appointNum"},[t._v("×"+t._s(e.total))])],1),i("v-uni-view",{staticClass:"price"},[t._v("￥"+t._s(e.unit_price))])],1)})):[i("v-uni-view",{staticClass:"list"},[i("v-uni-view",{staticClass:"flex flex-between"},[i("v-uni-view",{staticClass:"appointTime"},[t._v(t._s(t.appointList.appointment_date)+" "+t._s(t.appointList.start_time)+"-"+t._s(t.appointList.end_time))]),i("v-uni-view",{staticClass:"appointNum"},[t._v("×"+t._s(t.appointList.total))])],1),i("v-uni-view",{staticClass:"price"},[t._v("￥"+t._s(t.appointList.unit_price))])],1)]],2):t._e(),t.$slots.btn?i("v-uni-view",{staticClass:"flex flex-end btn"},[t._t("btn")],2):t._e()],1)},n=[]},7848:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("6762");var a={created:function(){this.$loading.showLoading()},watch:{isSkeleton:function(t){var e=["/pagesGoods/goodsList/index","/pagesCustom/index/index","/pagesGoods/detail/index","/pagesMember/index/index"];e.includes(this.$Route.path)||(t?uni.showLoading({title:"加载中"}):uni.hideLoading())}}};e.default=a},"7a38":function(t,e,i){"use strict";i.r(e);var a=i("741f"),o=i.n(a);for(var n in a)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(n);e["default"]=o.a},"7d7b":function(t,e,i){"use strict";var a=i("bb8f"),o=i.n(a);o.a},"87ab":function(t,e,i){var a=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a(i("75fc")),n=a(i("f20c")),s={components:{goodsInfo:n.default},data:function(){return{list:[]}},mounted:function(){this.getList()},methods:{getList:function(){var t=this;this.$api.goodsApi.goodsList({is_recommand:1,get_activity:1}).then((function(e){0==e.error&&t.handleRandom(e.list)}))},todetail:function(t){this.$Router.auto({path:"/pagesGoods/detail/index",query:{goods_id:t}})},handleRandom:function(t){var e=[];if(t.length<=6)e=(0,o.default)(t);else{var i=JSON.parse(JSON.stringify(t));while(e.length<6){var a=Math.floor(Math.random()*i.length);e.push(i.splice(a,1)[0])}}this.list=e}}};e.default=s},"88b6":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.goods-like[data-v-365158e2]{padding:%?0?% %?24?%;overflow:hidden}.goods-like .like-title[data-v-365158e2]{height:%?80?%;line-height:%?80?%;font-weight:700;color:#212121;font-size:%?32?%;text-align:center}.goods-like .card-list[data-v-365158e2]{-webkit-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}',""]),t.exports=e},"8d5f":function(t,e,i){var a=i("288e");i("8e6e"),i("ac6a"),i("456d"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("c5f6");var o=a(i("bd86")),n=i("badd"),s=i("2f62");function r(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function d(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?r(Object(i),!0).forEach((function(e){(0,o.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var c={name:"GoodsInfo",props:{goodsData:{type:Object,default:function(){}},show_style:{type:Boolean,default:!1},isAddIcon:{type:Boolean,default:!1},quickPurchase:{type:Boolean,default:!1}},data:function(){return{loading:!0,preloading:!0}},computed:d(d({},(0,s.mapState)("setting",{sale_out:function(t){var e,i;return(null===(e=t.systemSetting)||void 0===e||null===(i=e.basic)||void 0===i?void 0:i.sale_out)||""}})),{},{getSoldOutIcon:function(){return this.sale_out?this.$utils.media(this.sale_out):this.$utils.staticImg("decorate/sale_out.png")},getLoadingSrc:function(){var t,e;return null!==(t=this.$store.state.setting.systemSetting)&&void 0!==t&&null!==(e=t.basic)&&void 0!==e&&e.loading?this.$store.state.setting.cacheLoadingImg||this.$utils.media(this.$store.state.setting.systemSetting.basic.loading):this.$utils.staticImg("decorate/goods_col2.png")},getActName:function(){return this.goodsData.activities?(0,n.getActivityName)(this.goodsData.activities):""},getSeckillPrice:function(){if("1"==this.goodsData.has_option){var t,e,i=(null===(t=this.goodsData.activities)||void 0===t||null===(e=t.seckill)||void 0===e?void 0:e.price_range)||{},a=i.min_price;return"".concat(a)}var o,n,s,r;return null===(o=this.goodsData)||void 0===o||null===(n=o.activities)||void 0===n||null===(s=n.seckill)||void 0===s||null===(r=s.goods_info[0])||void 0===r?void 0:r.activity_price},getGroupsPrice:function(){var t,e,i,a=(null===(t=this.goodsData.activities)||void 0===t?void 0:t.groups)||{};return 0==(null===(e=this.goodsData)||void 0===e?void 0:e.has_option)&&"0"==(null===a||void 0===a?void 0:a.inner_type)?a.activity_price:(null===a||void 0===a||null===(i=a.price_range)||void 0===i?void 0:i.min_price)||0},backgroundImage:function(){return"background-image:url(".concat(this.$utils.staticImg("decorate/goods_col2.png"),")")}}),mounted:function(){var t=this;setTimeout((function(){t.preloading=!1}),3e3)},methods:{is_preheatActivies:function(t){var e=["presell","seckill","groups","preheat_activity"];return t.activities&&e.some((function(e){return t.activities[e]}))},loaded:function(t){this.loading=!1},addCart:function(){this.quickPurchase?this.$emit("custom-event",{type:"addCart",data:{goods_id:this.goodsData.id}}):this.toDetail(this.goodsData.id)},toDetail:function(t){this.$Router.auto({path:"/pagesGoods/detail/index",query:{goods_id:t}})}},filters:{filterPrice:function(t){var e,i,a,o,n,s,r,d,c,l,u,f,p,v,g,h,m,b,_,y;return 0==(null===t||void 0===t||null===(e=t.activities)||void 0===e||null===(i=e.presell)||void 0===i?void 0:i.presell_type)?0==t.has_option?"￥".concat(null===t||void 0===t||null===(a=t.activities)||void 0===a||null===(o=a.presell)||void 0===o||null===(n=o.goods_info)||void 0===n?void 0:n.front_money,"抵￥").concat(Number(null===t||void 0===t||null===(s=t.activities)||void 0===s||null===(r=s.presell)||void 0===r||null===(d=r.goods_info)||void 0===d?void 0:d.front_money_deduct)):"￥".concat(null===t||void 0===t||null===(c=t.activities)||void 0===c||null===(l=c.presell)||void 0===l||null===(u=l.price_range)||void 0===u?void 0:u.min_price,"抵￥").concat(Number(null===t||void 0===t||null===(f=t.activities)||void 0===f||null===(p=f.presell)||void 0===p||null===(v=p.price_range)||void 0===v?void 0:v.min_price_deduct)):0==t.has_option?null===t||void 0===t||null===(g=t.activities)||void 0===g||null===(h=g.presell)||void 0===h||null===(m=h.goods_info)||void 0===m?void 0:m.front_money:null===t||void 0===t||null===(b=t.activities)||void 0===b||null===(_=b.presell)||void 0===_||null===(y=_.price_range)||void 0===y?void 0:y.min_price},formatMoney:function(t){return"number"===typeof t||"string"===typeof t&&""!==t.trim()?t>=1e4?parseFloat(t/1e4)+"万":parseFloat(t):0}}};e.default=c},"93a7":function(t,e,i){"use strict";i.r(e);var a=i("b610"),o=i("3e13");for(var n in o)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(n);i("50d8");var s,r=i("f0c5"),d=Object(r["a"])(o["default"],a["b"],a["c"],!1,null,"501a0e09",null,!1,a["a"],s);e["default"]=d.exports},"953d":function(t,e,i){"use strict";i.r(e);var a=i("74b9"),o=i("7a38");for(var n in o)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(n);i("ebaf");var s,r=i("f0c5"),d=Object(r["a"])(o["default"],a["b"],a["c"],!1,null,"16021dd4",null,!1,a["a"],s);e["default"]=d.exports},"9dd4":function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return a}));var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("kdx-theme-content",[i("v-uni-view",{staticClass:"goods-info-box",class:t.show_style?"two-lines flex":""},[i("v-uni-view",{staticClass:"goods-card-item line",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toDetail(t.goodsData.id)}}},[i("v-uni-view",{staticClass:"goods-card-inner",class:t.show_style?"flex-column":"flex"},[i("v-uni-view",{staticClass:"label-box"},[i("v-uni-view",{staticClass:"label-icon"},[t.goodsData.stock<1?i("v-uni-view",{staticClass:"sale-img"},[i("v-uni-image",{staticClass:"sale-img-soldout",attrs:{src:t.getSoldOutIcon}})],1):t._e(),"presell"==t.getActName?[i("v-uni-view",{staticClass:"hot"},[i("v-uni-image",{attrs:{src:t.$utils.staticImg("goods/4.png")}}),i("span",[t._v("预售")])],1)]:"seckill"==t.getActName?[i("v-uni-view",{staticClass:"seckill-tag"},[i("i",{staticClass:"iconfont-m- icon-m-shandian badge-icon"}),i("span",{staticClass:"badge-text"},[t._v("限时秒杀")])])]:"groups"==t.getActName?[i("v-uni-view",{staticClass:"groups-tag",style:{color:"#fff"}},[i("i",{staticClass:"iconfont-m- icon-m-pintuan2-1 badge-icon"}),i("span",{staticClass:"badge-text"},[t._v("多人拼团")])])]:[1==t.goodsData.is_recommand?i("v-uni-view",{staticClass:"recommend"},[i("v-uni-image",{attrs:{src:t.$utils.staticImg("goods/3.png")}}),i("span",[t._v("推荐")])],1):1==t.goodsData.is_new?i("v-uni-view",{staticClass:"recommend"},[i("v-uni-image",{attrs:{src:t.$utils.staticImg("goods/1.png")}}),i("span",[t._v("新品")])],1):1==t.goodsData.is_hot?i("v-uni-view",{staticClass:"hot"},[i("v-uni-image",{attrs:{src:t.$utils.staticImg("goods/4.png")}}),i("span",[t._v("热卖")])],1):t._e()]],2),t.goodsData.activities&&t.goodsData.activities.commission?i("v-uni-view",{staticClass:"commision-money"},[t._v("预计佣金￥"+t._s(t.goodsData.activities.commission))]):t._e(),i("v-uni-view",{staticClass:"goods-img",style:t.backgroundImage},[t.loading&&t.preloading?i("v-uni-image",{staticClass:"goods-img-img preload",attrs:{src:t.getLoadingSrc}}):t._e(),i("v-uni-image",{staticClass:"goods-img-img",class:{loading:t.loading&&t.preloading},attrs:{src:t.$utils.media(t.goodsData.thumb)},on:{load:function(e){arguments[0]=e=t.$handleEvent(e),t.loaded.apply(void 0,arguments)},error:function(e){arguments[0]=e=t.$handleEvent(e),t.loaded.apply(void 0,arguments)}}})],1)],1),i("v-uni-view",{staticClass:"goods-info flex1 flex-column flex-between"},[i("v-uni-view",{staticClass:"goods-title"},[i("v-uni-view",{staticClass:"title two-line-hide"},[t._v(t._s(t.goodsData.title))]),t.show_style?t._e():i("v-uni-view",{staticClass:"sub-title line-hide"},[t._v(t._s(t.goodsData.sub_name))]),"presell"==t.getActName?[0==t.goodsData.activities.presell.presell_type?i("div",{staticClass:"deposit"},[i("span",{staticClass:"deposit-text"},[t._v("定金")]),i("span",{staticClass:"deposit-price"},[t._v(t._s(t._f("filterPrice")(t.goodsData)))])]):t._e()]:t._e()],2),[!t.goodsData.buy_button_status||0==t.goodsData.buy_button_status||t.is_preheatActivies(t.goodsData)?i("v-uni-view",{staticClass:"price-box",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e)}}},[i("v-uni-view",{staticClass:"flex-between"},[i("v-uni-view",[[t.goodsData.activities&&null!=t.goodsData.activities.member_price?i("v-uni-view",{staticClass:"price"},[t._v("￥"),i("v-uni-text",{staticClass:"primary-price"},[t._v(t._s(t.goodsData.activities.member_price))])],1):"seckill"==t.getActName?i("v-uni-view",{staticClass:"price"},[t._v(t._s(t.getSeckillPrice))]):"groups"==t.getActName?i("v-uni-view",{staticClass:"price"},[t._v(t._s(t.getGroupsPrice))]):i("v-uni-view",{staticClass:"price"},[t._v("￥"),i("v-uni-text",{staticClass:"primary-price"},[t._v(t._s(t.goodsData.price))])],1)],t.goodsData.original_price&&0!=t.goodsData.original_price?i("v-uni-view",{staticClass:"original_price"},[t._v("￥"+t._s(t._f("formatMoney")(t.goodsData.original_price)))]):t._e()],2),t.getActName?[t.goodsData.ext_field&&1==t.goodsData.ext_field.show_sales&&"seckill"!==t.getActName?i("v-uni-view",{staticClass:"sales"},[t._v("销量:"+t._s(t.goodsData.sales))]):t._e(),"presell"!==t.getActName?i("div",{staticClass:"presell-btn-box",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toDetail(t.goodsData.id)}}},[i("div",{staticClass:"btn  theme-primary-border"},[i("span",{staticClass:"buybtn theme-primary-color"},[t._v("去购买")]),i("i",{staticClass:"iconfont-m- icon-m-right theme-primary-color"})])]):t._e()]:[i("v-uni-view",{staticClass:"right"},[t.isAddIcon?i("v-uni-view",{staticClass:"cart-icon",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.addCart.apply(void 0,arguments)}}},[i("i",{staticClass:"iconfont-m- icon-m-buy1 theme-primary-color"})]):t._e(),t.goodsData.ext_field&&1==t.goodsData.ext_field.show_sales?i("v-uni-view",{staticClass:"sales"},[t._v("销量:"+t._s(t.goodsData.sales))]):t._e()],1)]],2)],1):i("v-uni-view",{staticClass:"price-box",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e)}}},[i("v-uni-view",{staticClass:"flex-between"},[i("v-uni-view",[[i("v-uni-view",{staticClass:"price bargaining"},[i("v-uni-text",{staticClass:"primary-price"},[t._v(t._s(t.goodsData.ext_field.buy_button_settings.price_text))])],1)]],2)],1)],1)]],2)],1)],1)],1)],1)},n=[]},ad2f:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("a481");var a={name:"ListTab",props:{current:{type:String,default:"all"}},data:function(){return{status:[{text:"全部",type:"all"},{text:"待付款",type:"pay"},{text:"待发货",type:"send"},{text:"待收货",type:"pick"},{text:"已完成",type:"finish"}]}},computed:{},created:function(){},mounted:function(){},methods:{changeTab:function(t){this.$Router.replace({path:"/pagesOrder/list",query:{status:t}})}}};e.default=a},af3f:function(t,e,i){"use strict";i.r(e);var a=i("04f1"),o=i("cb3e");for(var n in o)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(n);i("d8d2");var s,r=i("f0c5"),d=Object(r["a"])(o["default"],a["b"],a["c"],!1,null,"1a07697c",null,!1,a["a"],s);e["default"]=d.exports},b252:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.verify-code-picker.hide[data-v-1a07697c]{opacity:0}.verify-code-picker .qrcode[data-v-1a07697c]{position:fixed;top:%?-99999?%;left:%?-99999?%;width:%?400?%;height:%?400?%;opacity:0;z-index:-9999}.verify-code-picker .inner[data-v-1a07697c]{height:%?1060?%;background:#fff;border-radius:%?20?% %?20?% 0 0}.verify-code-picker .inner .picker-close[data-v-1a07697c]{position:absolute;top:%?24?%;right:%?24?%;width:%?48?%;height:%?48?%}.verify-code-picker .inner .picker-close .close-img[data-v-1a07697c]{width:%?48?%;height:%?48?%}.verify-code-picker .inner .title[data-v-1a07697c]{margin-top:%?32?%;line-height:%?44?%;font-size:%?32?%;font-weight:600;text-align:center;color:#212121}.verify-code-picker .inner .verify-content[data-v-1a07697c]{height:%?984?%;padding:%?48?% %?48?% 0;line-height:%?40?%;font-size:%?28?%;color:#212121;text-align:center}.verify-code-picker .inner .verify-content .qrcode[data-v-1a07697c]{position:fixed;width:%?400?%;height:%?400?%;opacity:0;z-index:-9999}.verify-code-picker .inner .verify-content .code-img[data-v-1a07697c], .verify-code-picker .inner .verify-content .code-img-box[data-v-1a07697c]{display:block;width:%?400?%;height:%?400?%}.verify-code-picker .inner .verify-content .code-img-box[data-v-1a07697c]{margin:0 auto %?16?%;background-color:#f5f5f5}.verify-code-picker .inner .verify-content .info[data-v-1a07697c]{margin:%?16?% 0 %?32?%;line-height:%?34?%;font-size:%?24?%}.verify-code-picker .inner .verify-content .line[data-v-1a07697c]{margin-bottom:%?32?%;position:relative;left:-50%;bottom:0;width:200%;border:1px dashed #e6e7eb;-webkit-transform:scale(.5);transform:scale(.5);overflow:hidden}.verify-code-picker .inner .verify-content .contact-info[data-v-1a07697c]{margin-top:%?20?%}.verify-code-picker .inner .verify-content .address-info-box[data-v-1a07697c]{display:-webkit-box;display:-webkit-flex;display:flex;line-height:%?34?%;font-size:%?24?%;-webkit-box-align:start;-webkit-align-items:flex-start;align-items:flex-start}.verify-code-picker .inner .verify-content .address-info-box .contact-icon[data-v-1a07697c]{width:%?40?%;height:%?40?%;line-height:%?40?%;background-color:#fff3f5;text-align:center;border-radius:50%}.verify-code-picker .inner .verify-content .address-info-box .contact-icon .iconfont-m-[data-v-1a07697c]{color:#ff3c29}.verify-code-picker .inner .verify-content .address-info-box .address-info[data-v-1a07697c]{margin-left:%?24?%;text-align:left}.verify-code-picker .inner .verify-content .address-info-box .address-info .shop-name[data-v-1a07697c]{margin-bottom:%?8?%;font-weight:600}.verify-code-picker .inner .verify-content .address-info-box .address-info .shop-address[data-v-1a07697c]{margin-bottom:%?8?%}.verify-code-picker .inner .verify-btn[data-v-1a07697c]{height:-webkit-fit-content;height:fit-content;padding:%?16?% 0;\n  /*height: px2rpx(56);*/position:relative;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.verify-code-picker .inner .verify-btn.van-hairline--top[data-v-1a07697c]:after{border-top-color:#e6e7eb;border-style:solid}.verify-code-picker .inner .verify-btn .btn[data-v-1a07697c]{width:%?280?%;height:%?80?%;line-height:%?80?%;font-size:%?28?%;text-align:center;color:#ff3c29;font-weight:600;border:1px solid #ff3c29;border-radius:%?40?%}.verify-code-picker .inner .verify-btn .btn.bg-primary[data-v-1a07697c]{margin-left:%?48?%;color:#fff;background-color:#ff3c29}',""]),t.exports=e},b610:function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return a}));var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"list-goods-card"},t._l(t.orderList,(function(e,a){return i("v-uni-view",{key:a,staticClass:"card-item",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.toDetail(e.id)}}},[i("v-uni-view",{staticClass:"create-time flex"},[[i("div",{staticClass:"uni-text-color-grey"},[t._v(t._s(e.created_at))])],[e.refund_finish&&"1"==e.refund_finish?i("v-uni-view",{staticClass:"status success"},[t._v("售后完成")]):i("v-uni-view",[0==e.status?i("v-uni-view",{staticClass:"status uni-color-primary"},[t._v("待付款")]):t._e(),10==e.status?i("v-uni-view",{staticClass:"status"},[t.isLoadGroups(e)?i("span",{staticClass:"primary"},[t._v("待成团")]):i("span",{staticClass:"orange"},[t._v("待发货")])]):t._e(),11==e.status?i("v-uni-view",{staticClass:"status orange"},[t._v("部分发货")]):t._e(),20==e.status&&"20"!=e.dispatch_type?i("v-uni-view",{staticClass:"status blue"},[t._v("待收货")]):t._e(),20==e.status&&"20"===e.dispatch_type?i("v-uni-view",{staticClass:"status blue"},[t._v(t._s("0"==e.orderGoods[0].type?"待自提":"待核销"))]):t._e(),30==e.status?i("v-uni-view",{staticClass:"status success"},[t._v("已完成")]):t._e(),-1==e.status?i("v-uni-view",{staticClass:"status"},[t._v("已关闭")]):t._e()],1)]],2),t._l(e.orderGoods,(function(a,o){return i("v-uni-view",{key:o,staticClass:"goods-item"},[i("goods-card",{attrs:{goodsData:a,status:e.status,orderData:e},on:{detail:function(i){arguments[0]=i=t.$handleEvent(i),t.toGoodsDetail(i,e.activity_type)}}})],1)})),i("v-uni-view",{staticClass:"card-footer"},[i("div",[t._v("共"+t._s(e.orderGoods.length)+"件商品，"+t._s(e.format_text)),i("span",{staticClass:"price"},[e.pay_credit?i("span",{staticClass:"price theme-primary-colo"},[t._v(t._s(e.pay_credit+t.credit_text)+"+")]):t._e(),t._v("￥"+t._s(e.pay_price))])]),0==e.status&&e.countTime.length>0?i("div",{staticClass:"uni-color-primary"},[i("span",[t._v(t._s(e.countTime[0])+"天")]),i("span",[t._v(t._s(e.countTime[1])+"小时")]),i("span",[t._v(t._s(e.countTime[2])+"分")]),i("span",[t._v(t._s(e.countTime[3])+"秒")]),i("span",[t._v(t._s(e.count_text))])]):t._e()]),t.showFooterBtn(e)?i("v-uni-view",{staticClass:"card-btn flex"},[e.refund_finish&&"1"==e.refund_finish?[i("v-uni-view",{on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.btnClick("deleteOrder",e)}}},[t._v("删除订单")])]:[0==e.status?[1==e.activity_type?[e.presell_data&&1!=e.presell_data.status?i("v-uni-view",{on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.btnClick("cancelOrder",e)}}},[t._v("取消订单")]):t._e()]:i("v-uni-view",{on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.btnClick("cancelOrder",e)}}},[t._v("取消订单")])]:t._e(),0==e.status?i("v-uni-view",{class:e.is_buy?"disabled":"border-primary theme-primary-color theme-primary-border",on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.btnClick("payOrder",e,e.is_buy)}}},[t._v("去支付")]):t._e(),(20==e.status&&"0"===e.orderGoods[0].type||11==e.status||30==e.status)&&"10"===e.dispatch_type?i("v-uni-view",{on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.btnClick("express",e)}}},[t._v("查看物流")]):t._e(),"20"===e.dispatch_type&&20==e.status?[t.verifySetting.verify_perm?i("v-uni-view",{on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.btnClick("getVerifyInfo",e)}}},[t._v("查看券码")]):t._e(),t.verifySetting&&1==t.verifySetting.verify_buyers_independent?i("v-uni-view",{staticClass:"border-primary theme-primary-color theme-primary-border",on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.btnClick("verify",e)}}},[t._v(t._s("0"==e.orderGoods[0].type?"确认自提":"确认核销"))]):t._e()]:[20==e.status?i("v-uni-view",{staticClass:"border-primary theme-primary-color theme-primary-border",on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.btnClick("sendOrder",e)}}},[t._v("确认收货")]):t._e()],3==e.activity_type&&10==e.status?[i("v-uni-view",{staticClass:"border-primary theme-primary-color theme-primary-border",on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.btnClick("toGroups",e)}}},[t._v("查看团详情")])]:t._e(),30==e.status||-1==e.status?i("v-uni-view",{on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.btnClick("deleteOrder",e)}}},[t._v("删除订单")]):t._e(),30==e.status&&1==t.is_comment&&0==e.comment_status&&"5"!==e.activity_type?i("v-uni-view",{staticClass:"border-primary theme-primary-color theme-primary-border",on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.btnClick("comment",e)}}},[t._v("评价")]):t._e()]],2):t._e()],2)})),1)},n=[]},bb8f:function(t,e,i){var a=i("2754");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=i("4f06").default;o("a4b5d24e",a,!0,{sourceMap:!1,shadowMode:!1})},bdff:function(t,e,i){var a=i("288e");i("8e6e"),i("ac6a"),i("456d"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("6762"),i("a481");var o=a(i("bd86"));i("c5f6");var n=a(i("953d")),s=i("2f62");function r(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function d(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?r(Object(i),!0).forEach((function(e){(0,o.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var c={name:"ListGoodCard",components:{goodsCard:n.default},props:{list:{type:Array,default:function(){return[]}},is_comment:{type:[String,Number],default:0}},data:function(){return{orderList:[],cancelModal:!1}},watch:{list:{handler:function(t){var e=this;t=t.map((function(t){var i,a;return d(d({},t),{},{count_text:(null===(i=e.handlePresellStatus(t))||void 0===i?void 0:i.count_text)||"后订单关闭",format_text:e.formatText(t)||"总金额",is_buy:(null===(a=e.handlePresellStatus(t))||void 0===a?void 0:a.is_buy)||!1})})),this.orderList=t},deep:!0,immediate:!0}},computed:d(d(d({},(0,s.mapState)("setting",["verifySetting"])),(0,s.mapState)("setting",{credit_text:function(t){return t.systemSetting.credit_text}})),{},{backgroundImage:function(){return"background-image:url(".concat(this.$utils.staticImg("decorate/logo_default.png"),")")}}),created:function(){},mounted:function(){},methods:{formatText:function(t){var e,i;return 1==t.activity_type&&0==t.status?0==(null===t||void 0===t||null===(e=t.presell_data)||void 0===e?void 0:e.status)?"待支付定金":1==(null===t||void 0===t||null===(i=t.presell_data)||void 0===i?void 0:i.status)?"待支付尾款":"总金额":"总金额"},handlePresellStatus:function(t){var e;if(1!=t.activity_type||0!=(null===t||void 0===t||null===(e=t.presell_data)||void 0===e?void 0:e.type))return{count_text:"后订单关闭",is_buy:!1};var i,a,o,n,s,r,d=null===(i=JSON.parse(t.extra_discount_rules_package)[0])||void 0===i||null===(a=i.presell)||void 0===a?void 0:a.pay_final_start_time,c=null===(o=JSON.parse(t.extra_discount_rules_package)[0])||void 0===o||null===(n=o.presell)||void 0===n?void 0:n.end_time;return d&&(d=new Date(Date.parse(d.replace(/-/g,"/"))).getTime()),c&&(c=new Date(Date.parse(c.replace(/-/g,"/"))).getTime()),1==(null===t||void 0===t||null===(s=t.presell_data)||void 0===s?void 0:s.status)&&d-Date.now()>0?{count_text:"后开始支付尾款",is_buy:!0}:1==(null===t||void 0===t||null===(r=t.presell_data)||void 0===r?void 0:r.status)&&c-Date.now()>0?{count_text:"后活动结束",is_buy:!1}:void 0},showFooterBtn:function(t){var e=["-1","0","10","11","20","30"];return t.refund_finish&&"1"==t.refund_finish||e.includes(t.status)},btnClick:function(t,e,i){i||this.$emit("btnClick",{name:t,item:e})},isLoadGroups:function(t){var e,i;return"3"==t.activity_type&&"0"==(null===(e=t.groups_team_info)||void 0===e?void 0:e.success)||"4"==t.activity_type&&"0"==(null===(i=t.groups_rebate_team_info)||void 0===i?void 0:i.success)},toDetail:function(t){this.$Router.auto({path:"/pagesOrder/detail",query:{order_id:t}})},toGoodsDetail:function(t,e){var i,a="";"5"===e?(i="/pagesCreditShop/detail",a={id:t.id}):(i="/pagesGoods/detail/index",a={goods_id:t.id}),this.$Router.auto({path:i,query:a})}}};e.default=c},c161:function(t,e,i){var a=i("b252");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=i("4f06").default;o("84abb570",a,!0,{sourceMap:!1,shadowMode:!1})},c2f4:function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return a}));var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("kdx-theme-content",[i("v-uni-view",{staticClass:"list-tab"},[i("v-uni-view",{staticClass:"tab flex"},t._l(t.status,(function(e,a){return i("v-uni-view",{key:a,staticClass:"item",class:t.current==e.type?"active theme-primary-color":"",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.changeTab(e.type)}}},[t._v(t._s(e.text)),i("span",{staticClass:"line theme-primary-bgcolor"})])})),1)],1)],1)},n=[]},c524:function(t,e,i){"use strict";i.r(e);var a=i("5fc4"),o=i.n(a);for(var n in a)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(n);e["default"]=o.a},c883:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.goods-block-inner[data-v-16021dd4]{position:relative;overflow:hidden}.goods-block-inner .goods-image[data-v-16021dd4]{-webkit-flex-shrink:0;flex-shrink:0;position:relative;width:%?160?%;height:%?160?%;margin-right:%?24?%;border-radius:%?4?%;background-color:#fff;background-position:0 0;background-size:100% 100%;background-repeat:no-repeat;overflow:hidden}.goods-block-inner .goods-image uni-image[data-v-16021dd4]{width:%?160?%;height:%?160?%;border-radius:%?4?%;display:block}.goods-block-inner .goods-image .send-icon[data-v-16021dd4]{position:absolute;left:0;bottom:0;width:100%;height:%?32?%;line-height:%?32?%;color:#fff;font-size:%?20?%;text-align:center;background:#212121;opacity:.7}.goods-block-inner .goods-info[data-v-16021dd4]{overflow:hidden;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;color:#212121;height:%?160?%}.goods-block-inner .goods-info .goods-type[data-v-16021dd4]{margin-right:%?10?%;padding:0 %?16?%;height:%?38?%;line-height:%?38?%;border-radius:%?20?%;background-color:#ff3c29;font-size:%?24?%;color:#fff}.goods-block-inner .goods-info .goods-type.groups[data-v-16021dd4]{margin-right:%?8?%;border-radius:%?4?%;padding:%?2?% %?8?%;font-size:%?20?%;line-height:%?28?%;background:-webkit-linear-gradient(335.43deg,#ff8a00 19.05%,#ff4c14 87.67%);background:linear-gradient(114.57deg,#ff8a00 19.05%,#ff4c14 87.67%)}.goods-block-inner .goods-info .title[data-v-16021dd4]{line-height:%?40?%;font-size:%?28?%}.goods-block-inner .goods-info .option-title[data-v-16021dd4]{width:-webkit-fit-content;width:fit-content;margin-top:%?4?%;padding:1px %?16?%;max-width:%?390?%;height:%?32?%;color:#969696;font-size:%?20?%;background:#f5f5f5;border-radius:%?22?%}.goods-block-inner .goods-info .refund-money-label[data-v-16021dd4]{font-size:%?24?%;color:#212121}.goods-block-inner .goods-info .refund-money-value[data-v-16021dd4]{font-size:%?24?%;font-weight:700;color:#ff3c29}.goods-block-inner .goods-info .price-box[data-v-16021dd4]{-webkit-box-align:center;-webkit-align-items:center;align-items:center}.goods-block-inner .goods-info .price[data-v-16021dd4]{color:#ff3c29;font-size:%?24?%}.goods-block-inner .goods-info .price.refund[data-v-16021dd4]{color:#212121}.goods-block-inner .goods-info .add-num uni-text[data-v-16021dd4]:nth-of-type(2){height:%?38?%;line-height:%?38?%;background:#f5f5f5;border-radius:%?22?%;color:#000;text-align:center;padding:0 %?32?%}.goods-block-inner .appointList .list[data-v-16021dd4]{padding-top:16px;color:#212121;line-height:17px}.goods-block-inner .appointList .list .appointTime[data-v-16021dd4]{font-size:12px;font-weight:700}.goods-block-inner .appointList .list .appointNum[data-v-16021dd4]{font-size:10px;font-weight:700}.goods-block-inner .appointList .list .price[data-v-16021dd4]{font-weight:700;color:#ff3c29}',""]),t.exports=e},cb3e:function(t,e,i){"use strict";i.r(e);var a=i("f5c6"),o=i.n(a);for(var n in a)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(n);e["default"]=o.a},d66b:function(t,e,i){"use strict";i.r(e);var a=i("8d5f"),o=i.n(a);for(var n in a)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(n);e["default"]=o.a},d6f0:function(t,e,i){"use strict";var a=i("65aa"),o=i.n(a);o.a},d8d2:function(t,e,i){"use strict";var a=i("c161"),o=i.n(a);o.a},e270:function(t,e,i){"use strict";i.r(e);var a=i("1e9b"),o=i.n(a);for(var n in a)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(n);e["default"]=o.a},e3d2:function(t,e,i){"use strict";i.r(e);var a=i("31aa"),o=i("3dab");for(var n in o)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(n);i("d6f0");var s,r=i("f0c5"),d=Object(r["a"])(o["default"],a["b"],a["c"],!1,null,"365158e2",null,!1,a["a"],s);e["default"]=d.exports},ea85:function(t,e,i){"use strict";i.r(e);var a=i("4388"),o=i("c524");for(var n in o)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(n);i("1636");var s,r=i("f0c5"),d=Object(r["a"])(o["default"],a["b"],a["c"],!1,null,"4cf73a25",null,!1,a["a"],s);e["default"]=d.exports},ebaf:function(t,e,i){"use strict";var a=i("37d6"),o=i.n(a);o.a},f069:function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return a}));var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"list-modal"},[i("kdx-modal",{attrs:{title:"确定取消订单吗？"},on:{handlerCancel:function(e){arguments[0]=e=t.$handleEvent(e),t.handlerCancel.apply(void 0,arguments)},handlerOK:function(e){arguments[0]=e=t.$handleEvent(e),t.cancelOrderOk.apply(void 0,arguments)}},model:{value:t.cancelModal,callback:function(e){t.cancelModal=e},expression:"cancelModal"}}),i("kdx-modal",{attrs:{title:"确定删除订单吗？"},on:{handlerCancel:function(e){arguments[0]=e=t.$handleEvent(e),t.handlerCancel.apply(void 0,arguments)},handlerOK:function(e){arguments[0]=e=t.$handleEvent(e),t.deleteOrderOk.apply(void 0,arguments)}},model:{value:t.deleteModal,callback:function(e){t.deleteModal=e},expression:"deleteModal"}}),i("kdx-modal",{attrs:{title:"确定收到所有商品了吗？"},on:{handlerCancel:function(e){arguments[0]=e=t.$handleEvent(e),t.handlerCancel.apply(void 0,arguments)},handlerOK:function(e){arguments[0]=e=t.$handleEvent(e),t.sendOrderOk.apply(void 0,arguments)}},model:{value:t.sendModal,callback:function(e){t.sendModal=e},expression:"sendModal"}}),i("kdx-modal",{attrs:{title:t.title},on:{handlerCancel:function(e){arguments[0]=e=t.$handleEvent(e),t.handlerCancel.apply(void 0,arguments)},handlerOK:function(e){arguments[0]=e=t.$handleEvent(e),t.verifyOrderOk.apply(void 0,arguments)}},model:{value:t.verifyModal,callback:function(e){t.verifyModal=e},expression:"verifyModal"}},[i("template",{slot:"content"},[i("div",{staticClass:"pay-modal-content"},[i("p",[t._v("确认后订单核销码失效，同时订单将自动变更为已完成")])])])],2)],1)},n=[]},f20c:function(t,e,i){"use strict";i.r(e);var a=i("9dd4"),o=i("d66b");for(var n in o)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(n);i("7d7b");var s,r=i("f0c5"),d=Object(r["a"])(o["default"],a["b"],a["c"],!1,null,"c3693710",null,!1,a["a"],s);e["default"]=d.exports},f5c6:function(t,e,i){(function(t){var a=i("288e");i("8e6e"),i("ac6a"),i("456d"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a(i("bd86"));i("96cf");var n=a(i("3b8d")),s=a(i("06ad")),r=a(i("2422")),d=a(i("63e4"));function c(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function l(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?c(Object(i),!0).forEach((function(e){(0,o.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var u={name:"CodePicker",components:{PickMask:s.default,verifyPoster:d.default},props:{},data:function(){return{codeTitle:"自提",pickerShow:!1,orderID:"",codeImg:"",hide:!1,codeData:{}}},computed:{},created:function(){},mounted:function(){},methods:{showCodePicker:function(t){t.id&&(this.orderID=t.id,this.codeTitle=t.codeTitle,this.getData())},closePicker:function(){this.pickerShow=!1},getData:function(){var t=this;this.$api.orderApi.getVerifyInfo({order_id:this.orderID}).then((function(e){var i;0===e.error&&(t.codeData=e.data,t.getCode(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.code),e.data.code&&-1!=e.data.status&&(t.pickerShow=!0))}))},getCode:function(e){var i=this,a=e;a=this.$utils.getPreviewH5Url("/pagesWriteOff/goods/index",{qrcode:e}),t.log(a,"text"),r.default.make({canvasId:"verifyCode",text:a,size:200,fileType:"png",success:function(t){i.codeImg=t},fail:function(t){i.$toast("生成二维码失败")}})},toDetail:function(){var t=(0,n.default)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.closePicker(),e=this.orderID,Array.isArray(e)&&(e=e[0]),this.$Router.auto({path:"/pagesOrder/detail",query:{order_id:e}});case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),savePoster:function(){var t=(0,n.default)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.closePicker(),e=l(l({},this.codeData),{},{codeImg:this.codeImg,verify_text:this.codeTitle}),this.$emit("savePoster",e);case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),sendMsg:function(){var e=this,i=["verify_success"];return new Promise((function(a){e.$api.othersApi.getNoticeTemId({type_code:i},{errorToast:!1}).then((function(e){0==e.error?wx.requestSubscribeMessage({tmplIds:e.data,success:function(e){t.log(e)},fail:function(e){t.log(e)},complete:function(t){a()}}):a()}))}))}}};e.default=u}).call(this,i("5a52")["default"])}}]);